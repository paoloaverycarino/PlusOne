(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Rh={exports:{}},ha={},Ah={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function ew(){if(dm)return Ae;dm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function V(b,G,me){this.props=b,this.context=G,this.refs=B,this.updater=me||N}V.prototype.isReactComponent={},V.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},V.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function H(){}H.prototype=V.prototype;function Q(b,G,me){this.props=b,this.context=G,this.refs=B,this.updater=me||N}var te=Q.prototype=new H;te.constructor=Q,k(te,V.prototype),te.isPureReactComponent=!0;var ee=Array.isArray,de=Object.prototype.hasOwnProperty,pe={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(b,G,me){var Se,Re={},ke=null,Me=null;if(G!=null)for(Se in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(ke=""+G.key),G)de.call(G,Se)&&!C.hasOwnProperty(Se)&&(Re[Se]=G[Se]);var be=arguments.length-2;if(be===1)Re.children=me;else if(1<be){for(var ze=Array(be),_t=0;_t<be;_t++)ze[_t]=arguments[_t+2];Re.children=ze}if(b&&b.defaultProps)for(Se in be=b.defaultProps,be)Re[Se]===void 0&&(Re[Se]=be[Se]);return{$$typeof:r,type:b,key:ke,ref:Me,props:Re,_owner:pe.current}}function A(b,G){return{$$typeof:r,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function D(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function M(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(me){return G[me]})}var F=/\/+/g;function x(b,G){return typeof b=="object"&&b!==null&&b.key!=null?M(""+b.key):G.toString(36)}function rt(b,G,me,Se,Re){var ke=typeof b;(ke==="undefined"||ke==="boolean")&&(b=null);var Me=!1;if(b===null)Me=!0;else switch(ke){case"string":case"number":Me=!0;break;case"object":switch(b.$$typeof){case r:case e:Me=!0}}if(Me)return Me=b,Re=Re(Me),b=Se===""?"."+x(Me,0):Se,ee(Re)?(me="",b!=null&&(me=b.replace(F,"$&/")+"/"),rt(Re,G,me,"",function(_t){return _t})):Re!=null&&(D(Re)&&(Re=A(Re,me+(!Re.key||Me&&Me.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+b)),G.push(Re)),1;if(Me=0,Se=Se===""?".":Se+":",ee(b))for(var be=0;be<b.length;be++){ke=b[be];var ze=Se+x(ke,be);Me+=rt(ke,G,me,ze,Re)}else if(ze=I(b),typeof ze=="function")for(b=ze.call(b),be=0;!(ke=b.next()).done;)ke=ke.value,ze=Se+x(ke,be++),Me+=rt(ke,G,me,ze,Re);else if(ke==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function Nt(b,G,me){if(b==null)return b;var Se=[],Re=0;return rt(b,Se,"","",function(ke){return G.call(me,ke,Re++)}),Se}function Dt(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(me){(b._status===0||b._status===-1)&&(b._status=1,b._result=me)},function(me){(b._status===0||b._status===-1)&&(b._status=2,b._result=me)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var je={current:null},ie={transition:null},ye={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ie,ReactCurrentOwner:pe};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Nt,forEach:function(b,G,me){Nt(b,function(){G.apply(this,arguments)},me)},count:function(b){var G=0;return Nt(b,function(){G++}),G},toArray:function(b){return Nt(b,function(G){return G})||[]},only:function(b){if(!D(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ae.Component=V,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=Q,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ae.act=oe,Ae.cloneElement=function(b,G,me){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Se=k({},b.props),Re=b.key,ke=b.ref,Me=b._owner;if(G!=null){if(G.ref!==void 0&&(ke=G.ref,Me=pe.current),G.key!==void 0&&(Re=""+G.key),b.type&&b.type.defaultProps)var be=b.type.defaultProps;for(ze in G)de.call(G,ze)&&!C.hasOwnProperty(ze)&&(Se[ze]=G[ze]===void 0&&be!==void 0?be[ze]:G[ze])}var ze=arguments.length-2;if(ze===1)Se.children=me;else if(1<ze){be=Array(ze);for(var _t=0;_t<ze;_t++)be[_t]=arguments[_t+2];Se.children=be}return{$$typeof:r,type:b.type,key:Re,ref:ke,props:Se,_owner:Me}},Ae.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},Ae.createElement=S,Ae.createFactory=function(b){var G=S.bind(null,b);return G.type=b,G},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(b){return{$$typeof:d,render:b}},Ae.isValidElement=D,Ae.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:Dt}},Ae.memo=function(b,G){return{$$typeof:y,type:b,compare:G===void 0?null:G}},Ae.startTransition=function(b){var G=ie.transition;ie.transition={};try{b()}finally{ie.transition=G}},Ae.unstable_act=oe,Ae.useCallback=function(b,G){return je.current.useCallback(b,G)},Ae.useContext=function(b){return je.current.useContext(b)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(b){return je.current.useDeferredValue(b)},Ae.useEffect=function(b,G){return je.current.useEffect(b,G)},Ae.useId=function(){return je.current.useId()},Ae.useImperativeHandle=function(b,G,me){return je.current.useImperativeHandle(b,G,me)},Ae.useInsertionEffect=function(b,G){return je.current.useInsertionEffect(b,G)},Ae.useLayoutEffect=function(b,G){return je.current.useLayoutEffect(b,G)},Ae.useMemo=function(b,G){return je.current.useMemo(b,G)},Ae.useReducer=function(b,G,me){return je.current.useReducer(b,G,me)},Ae.useRef=function(b){return je.current.useRef(b)},Ae.useState=function(b){return je.current.useState(b)},Ae.useSyncExternalStore=function(b,G,me){return je.current.useSyncExternalStore(b,G,me)},Ae.useTransition=function(){return je.current.useTransition()},Ae.version="18.3.1",Ae}var pm;function df(){return pm||(pm=1,Ah.exports=ew()),Ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function tw(){if(mm)return ha;mm=1;var r=df(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,y){var w,T={},I=null,N=null;y!==void 0&&(I=""+y),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(N=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(T[w]=g[w]);if(d&&d.defaultProps)for(w in g=d.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:d,key:I,ref:N,props:T,_owner:o.current}}return ha.Fragment=t,ha.jsx=h,ha.jsxs=h,ha}var gm;function nw(){return gm||(gm=1,Rh.exports=tw()),Rh.exports}var O=nw(),$=df(),nu={},xh={exports:{}},Zt={},Ch={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function rw(){return ym||(ym=1,function(r){function e(ie,ye){var oe=ie.length;ie.push(ye);e:for(;0<oe;){var b=oe-1>>>1,G=ie[b];if(0<o(G,ye))ie[b]=ye,ie[oe]=G,oe=b;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ye=ie[0],oe=ie.pop();if(oe!==ye){ie[0]=oe;e:for(var b=0,G=ie.length,me=G>>>1;b<me;){var Se=2*(b+1)-1,Re=ie[Se],ke=Se+1,Me=ie[ke];if(0>o(Re,oe))ke<G&&0>o(Me,Re)?(ie[b]=Me,ie[ke]=oe,b=ke):(ie[b]=Re,ie[Se]=oe,b=Se);else if(ke<G&&0>o(Me,oe))ie[b]=Me,ie[ke]=oe,b=ke;else break e}}return ye}function o(ie,ye){var oe=ie.sortIndex-ye.sortIndex;return oe!==0?oe:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],y=[],w=1,T=null,I=3,N=!1,k=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(ie){for(var ye=t(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=ie)s(y),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=t(y)}}function ee(ie){if(B=!1,te(ie),!k)if(t(g)!==null)k=!0,Dt(de);else{var ye=t(y);ye!==null&&je(ee,ye.startTime-ie)}}function de(ie,ye){k=!1,B&&(B=!1,H(S),S=-1),N=!0;var oe=I;try{for(te(ye),T=t(g);T!==null&&(!(T.expirationTime>ye)||ie&&!M());){var b=T.callback;if(typeof b=="function"){T.callback=null,I=T.priorityLevel;var G=b(T.expirationTime<=ye);ye=r.unstable_now(),typeof G=="function"?T.callback=G:T===t(g)&&s(g),te(ye)}else s(g);T=t(g)}if(T!==null)var me=!0;else{var Se=t(y);Se!==null&&je(ee,Se.startTime-ye),me=!1}return me}finally{T=null,I=oe,N=!1}}var pe=!1,C=null,S=-1,A=5,D=-1;function M(){return!(r.unstable_now()-D<A)}function F(){if(C!==null){var ie=r.unstable_now();D=ie;var ye=!0;try{ye=C(!0,ie)}finally{ye?x():(pe=!1,C=null)}}else pe=!1}var x;if(typeof Q=="function")x=function(){Q(F)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Nt=rt.port2;rt.port1.onmessage=F,x=function(){Nt.postMessage(null)}}else x=function(){V(F,0)};function Dt(ie){C=ie,pe||(pe=!0,x())}function je(ie,ye){S=V(function(){ie(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){k||N||(k=!0,Dt(de))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ie){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var oe=I;I=ye;try{return ie()}finally{I=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var oe=I;I=ie;try{return ye()}finally{I=oe}},r.unstable_scheduleCallback=function(ie,ye,oe){var b=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?b+oe:b):oe=b,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,ie={id:w++,callback:ye,priorityLevel:ie,startTime:oe,expirationTime:G,sortIndex:-1},oe>b?(ie.sortIndex=oe,e(y,ie),t(g)===null&&ie===t(y)&&(B?(H(S),S=-1):B=!0,je(ee,oe-b))):(ie.sortIndex=G,e(g,ie),k||N||(k=!0,Dt(de))),ie},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(ie){var ye=I;return function(){var oe=I;I=ye;try{return ie.apply(this,arguments)}finally{I=oe}}}}(Ph)),Ph}var _m;function iw(){return _m||(_m=1,Ch.exports=rw()),Ch.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function sw(){if(vm)return Zt;vm=1;var r=df(),e=iw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(n){return g.call(T,n)?!0:g.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function N(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,a,c){if(i===null||typeof i>"u"||N(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function B(n,i,a,c,f,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){V[n]=new B(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];V[i]=new B(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){V[n]=new B(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){V[n]=new B(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){V[n]=new B(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){V[n]=new B(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){V[n]=new B(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){V[n]=new B(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){V[n]=new B(n,5,!1,n.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function Q(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(H,Q);V[i]=new B(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(H,Q);V[i]=new B(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(H,Q);V[i]=new B(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){V[n]=new B(n,1,!1,n.toLowerCase(),null,!1,!1)}),V.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){V[n]=new B(n,1,!1,n.toLowerCase(),null,!0,!0)});function te(n,i,a,c){var f=V.hasOwnProperty(i)?V[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,a,f,c)&&(a=null),c||f===null?I(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),pe=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,b;function G(n){if(b===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);b=i&&i[1]||""}return`
`+b+n}var me=!1;function Se(n,i){if(!n||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var c=q}Reflect.construct(n,[],i)}else{try{i.call()}catch(q){c=q}n.call(i.prototype)}else{try{throw Error()}catch(q){c=q}n()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),m=c.stack.split(`
`),v=f.length-1,R=m.length-1;1<=v&&0<=R&&f[v]!==m[R];)R--;for(;1<=v&&0<=R;v--,R--)if(f[v]!==m[R]){if(v!==1||R!==1)do if(v--,R--,0>R||f[v]!==m[R]){var P=`
`+f[v].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=v&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function Re(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case pe:return"Portal";case A:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case rt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case M:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Nt:return i=n.displayName||null,i!==null?i:ke(n.type)||"Memo";case Dt:i=n._payload,n=n._init;try{return ke(n(i))}catch{}}return null}function Me(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ze(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(n){var i=ze(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function sr(n){n._valueTracker||(n._valueTracker=_t(n))}function ts(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=ze(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function di(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ns(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=be(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function yo(n,i){i=i.checked,i!=null&&te(n,"checked",i,!1)}function _o(n,i){yo(n,i);var a=be(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?rs(n,i.type,a):i.hasOwnProperty("defaultValue")&&rs(n,i.type,be(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ba(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function rs(n,i,a){(i!=="number"||kr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var or=Array.isArray;function ar(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+be(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function vo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function is(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(or(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:be(a)}}function ss(n,i){var a=be(i.value),c=be(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function wo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ht(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var lr,Eo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=lr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Nr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mi=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(n){mi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),pi[i]=pi[n]})});function To(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||pi.hasOwnProperty(n)&&pi[n]?(""+i).trim():i+"px"}function Io(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=To(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var So=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(n,i){if(i){if(So[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ao(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gi=null;function os(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var as=null,hn=null,jn=null;function ls(n){if(n=Yo(n)){if(typeof as!="function")throw Error(t(280));var i=n.stateNode;i&&(i=yl(i),as(n.stateNode,n.type,i))}}function Bn(n){hn?jn?jn.push(n):jn=[n]:hn=n}function xo(){if(hn){var n=hn,i=jn;if(jn=hn=null,ls(n),i)for(n=0;n<i.length;n++)ls(i[n])}}function yi(n,i){return n(i)}function Co(){}var ur=!1;function Po(n,i,a){if(ur)return n(i,a);ur=!0;try{return yi(n,i,a)}finally{ur=!1,(hn!==null||jn!==null)&&(Co(),xo())}}function it(n,i){var a=n.stateNode;if(a===null)return null;var c=yl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var us=!1;if(d)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){us=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{us=!1}function _i(n,i,a,c,f,m,v,R,P){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(J){this.onError(J)}}var vi=!1,cs=null,In=!1,ko=null,Zu={onError:function(n){vi=!0,cs=n}};function hs(n,i,a,c,f,m,v,R,P){vi=!1,cs=null,_i.apply(Zu,arguments)}function za(n,i,a,c,f,m,v,R,P){if(hs.apply(this,arguments),vi){if(vi){var q=cs;vi=!1,cs=null}else throw Error(t(198));In||(In=!0,ko=q)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function wi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Rn(n){if(Sn(n)!==n)throw Error(t(188))}function $a(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Rn(f),n;if(m===c)return Rn(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var v=!1,R=f.child;R;){if(R===a){v=!0,a=f,c=m;break}if(R===c){v=!0,c=f,a=m;break}R=R.sibling}if(!v){for(R=m.child;R;){if(R===a){v=!0,a=m,c=f;break}if(R===c){v=!0,c=m,a=f;break}R=R.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function No(n){return n=$a(n),n!==null?fs(n):null}function fs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=fs(n);if(i!==null)return i;n=n.sibling}return null}var ds=e.unstable_scheduleCallback,Do=e.unstable_cancelCallback,qa=e.unstable_shouldYield,ec=e.unstable_requestPaint,$e=e.unstable_now,Ha=e.unstable_getCurrentPriorityLevel,Ei=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,Vo=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,Ti=null,nn=null;function Qa(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ga,Lo=Math.log,Ka=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(Lo(n)/Ka|0)|0}var ps=64,ms=4194304;function Vr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ii(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var R=v&~f;R!==0?c=Vr(R):(m&=v,m!==0&&(c=Vr(m)))}else v=a&~f,v!==0?c=Vr(v):m!==0&&(c=Vr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-jt(i),f=1<<a,c|=n[a],i&=~f;return c}function tc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-jt(m),R=1<<v,P=f[v];P===-1?(!(R&a)||R&c)&&(f[v]=tc(R,i)):P<=i&&(n.expiredLanes|=R),m&=~R}}function rn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Si(){var n=ps;return ps<<=1,!(ps&4194240)&&(ps=64),n}function Lr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Or(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-jt(i),n[i]=a}function Be(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-jt(a),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~m}}function Mr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-jt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Ce=0;function br(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ya,gs,Xa,Ja,Za,Oo=!1,zn=[],St=null,An=null,xn=null,Fr=new Map,dn=new Map,$n=[],nc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(n,i){switch(n){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Fr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function Wt(n,i,a,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Yo(i),i!==null&&gs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function rc(n,i,a,c,f){switch(i){case"focusin":return St=Wt(St,n,i,a,c,f),!0;case"dragenter":return An=Wt(An,n,i,a,c,f),!0;case"mouseover":return xn=Wt(xn,n,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Fr.set(m,Wt(Fr.get(m)||null,n,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,dn.set(m,Wt(dn.get(m)||null,n,i,a,c,f)),!0}return!1}function tl(n){var i=Pi(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=wi(a),i!==null){n.blockedOn=i,Za(n.priority,function(){Xa(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ys(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);gi=c,a.target.dispatchEvent(c),gi=null}else return i=Yo(a),i!==null&&gs(i),n.blockedOn=a,!1;i.shift()}return!0}function Ri(n,i,a){hr(n)&&a.delete(i)}function nl(){Oo=!1,St!==null&&hr(St)&&(St=null),An!==null&&hr(An)&&(An=null),xn!==null&&hr(xn)&&(xn=null),Fr.forEach(Ri),dn.forEach(Ri)}function Cn(n,i){n.blockedOn===i&&(n.blockedOn=null,Oo||(Oo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nl)))}function Pn(n){function i(f){return Cn(f,n)}if(0<zn.length){Cn(zn[0],n);for(var a=1;a<zn.length;a++){var c=zn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(St!==null&&Cn(St,n),An!==null&&Cn(An,n),xn!==null&&Cn(xn,n),Fr.forEach(i),dn.forEach(i),a=0;a<$n.length;a++)c=$n[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<$n.length&&(a=$n[0],a.blockedOn===null);)tl(a),a.blockedOn===null&&$n.shift()}var fr=ee.ReactCurrentBatchConfig,Ur=!0;function Ke(n,i,a,c){var f=Ce,m=fr.transition;fr.transition=null;try{Ce=1,Mo(n,i,a,c)}finally{Ce=f,fr.transition=m}}function ic(n,i,a,c){var f=Ce,m=fr.transition;fr.transition=null;try{Ce=4,Mo(n,i,a,c)}finally{Ce=f,fr.transition=m}}function Mo(n,i,a,c){if(Ur){var f=ys(n,i,a,c);if(f===null)mc(n,i,c,Ai,a),el(n,c);else if(rc(f,n,i,a,c))c.stopPropagation();else if(el(n,c),i&4&&-1<nc.indexOf(n)){for(;f!==null;){var m=Yo(f);if(m!==null&&Ya(m),m=ys(n,i,a,c),m===null&&mc(n,i,c,Ai,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else mc(n,i,c,null,a)}}var Ai=null;function ys(n,i,a,c){if(Ai=null,n=os(c),n=Pi(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=wi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ai=n,null}function bo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ha()){case Ei:return 1;case Dr:return 4;case fn:case Vo:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var sn=null,_s=null,Qt=null;function Fo(){if(Qt)return Qt;var n,i=_s,a=i.length,c,f="value"in sn?sn.value:sn.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===f[m-c];c++);return Qt=f.slice(n,1<c?1-c:void 0)}function vs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function qn(){return!0}function Uo(){return!1}function Rt(n){function i(a,c,f,m,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qn:Uo,this.isPropagationStopped=Uo,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),i}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=Rt(kn),Hn=oe({},kn,{view:0,detail:0}),sc=Rt(Hn),Es,dr,jr,xi=oe({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==jr&&(jr&&n.type==="mousemove"?(Es=n.screenX-jr.screenX,dr=n.screenY-jr.screenY):dr=Es=0,jr=n),Es)},movementY:function(n){return"movementY"in n?n.movementY:dr}}),Ts=Rt(xi),jo=oe({},xi,{dataTransfer:0}),rl=Rt(jo),Is=oe({},Hn,{relatedTarget:0}),Ss=Rt(Is),il=oe({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),pr=Rt(il),sl=oe({},kn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ol=Rt(sl),al=oe({},kn,{data:0}),Bo=Rt(al),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ll[n])?!!i[n]:!1}function Wn(){return ul}var l=oe({},Hn,{key:function(n){if(n.key){var i=Rs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=vs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wn,charCode:function(n){return n.type==="keypress"?vs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Rt(l),_=oe({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Rt(_),U=oe({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wn}),W=Rt(U),re=oe({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Rt(re),dt=oe({},xi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Rt(dt),vt=[9,13,27,32],at=d&&"CompositionEvent"in window,pn=null;d&&"documentMode"in document&&(pn=document.documentMode);var on=d&&"TextEvent"in window&&!pn,Ci=d&&(!at||pn&&8<pn&&11>=pn),As=" ",ad=!1;function ld(n,i){switch(n){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xs=!1;function J_(n,i){switch(n){case"compositionend":return ud(i);case"keypress":return i.which!==32?null:(ad=!0,As);case"textInput":return n=i.data,n===As&&ad?null:n;default:return null}}function Z_(n,i){if(xs)return n==="compositionend"||!at&&ld(n,i)?(n=Fo(),Qt=_s=sn=null,xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ev[n.type]:i==="textarea"}function hd(n,i,a,c){Bn(c),i=pl(i,"onChange"),0<i.length&&(a=new ws("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var zo=null,$o=null;function tv(n){Pd(n,0)}function cl(n){var i=Ds(n);if(ts(i))return n}function nv(n,i){if(n==="change")return i}var fd=!1;if(d){var oc;if(d){var ac="oninput"in document;if(!ac){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),ac=typeof dd.oninput=="function"}oc=ac}else oc=!1;fd=oc&&(!document.documentMode||9<document.documentMode)}function pd(){zo&&(zo.detachEvent("onpropertychange",md),$o=zo=null)}function md(n){if(n.propertyName==="value"&&cl($o)){var i=[];hd(i,$o,n,os(n)),Po(tv,i)}}function rv(n,i,a){n==="focusin"?(pd(),zo=i,$o=a,zo.attachEvent("onpropertychange",md)):n==="focusout"&&pd()}function iv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cl($o)}function sv(n,i){if(n==="click")return cl(i)}function ov(n,i){if(n==="input"||n==="change")return cl(i)}function av(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:av;function qo(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!Nn(n[f],i[f]))return!1}return!0}function gd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function yd(n,i){var a=gd(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gd(a)}}function _d(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?_d(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function vd(){for(var n=window,i=kr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=kr(n.document)}return i}function lc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function lv(n){var i=vd(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&_d(a.ownerDocument.documentElement,a)){if(c!==null&&lc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=yd(a,m);var v=yd(a,c);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var uv=d&&"documentMode"in document&&11>=document.documentMode,Cs=null,uc=null,Ho=null,cc=!1;function wd(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cc||Cs==null||Cs!==kr(c)||(c=Cs,"selectionStart"in c&&lc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ho&&qo(Ho,c)||(Ho=c,c=pl(uc,"onSelect"),0<c.length&&(i=new ws("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Cs)))}function hl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ps={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},hc={},Ed={};d&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function fl(n){if(hc[n])return hc[n];if(!Ps[n])return n;var i=Ps[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ed)return hc[n]=i[a];return n}var Td=fl("animationend"),Id=fl("animationiteration"),Sd=fl("animationstart"),Rd=fl("transitionend"),Ad=new Map,xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(n,i){Ad.set(n,i),u(i,[n])}for(var fc=0;fc<xd.length;fc++){var dc=xd[fc],cv=dc.toLowerCase(),hv=dc[0].toUpperCase()+dc.slice(1);Br(cv,"on"+hv)}Br(Td,"onAnimationEnd"),Br(Id,"onAnimationIteration"),Br(Sd,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Rd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function Cd(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,za(c,i,void 0,n),n.currentTarget=null}function Pd(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var R=c[v],P=R.instance,q=R.currentTarget;if(R=R.listener,P!==m&&f.isPropagationStopped())break e;Cd(f,R,q),m=P}else for(v=0;v<c.length;v++){if(R=c[v],P=R.instance,q=R.currentTarget,R=R.listener,P!==m&&f.isPropagationStopped())break e;Cd(f,R,q),m=P}}}if(In)throw n=ko,In=!1,ko=null,n}function He(n,i){var a=i[Ec];a===void 0&&(a=i[Ec]=new Set);var c=n+"__bubble";a.has(c)||(kd(i,n,2,!1),a.add(c))}function pc(n,i,a){var c=0;i&&(c|=4),kd(a,n,c,i)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Qo(n){if(!n[dl]){n[dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(fv.has(a)||pc(a,!1,n),pc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[dl]||(i[dl]=!0,pc("selectionchange",!1,i))}}function kd(n,i,a,c){switch(bo(i)){case 1:var f=Ke;break;case 4:f=ic;break;default:f=Mo}a=f.bind(null,i,a,n),f=void 0,!us||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function mc(n,i,a,c,f){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var R=c.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;v=v.return}for(;R!==null;){if(v=Pi(R),v===null)return;if(P=v.tag,P===5||P===6){c=m=v;continue e}R=R.parentNode}}c=c.return}Po(function(){var q=m,J=os(a),Z=[];e:{var X=Ad.get(n);if(X!==void 0){var se=ws,ce=n;switch(n){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ce="focus",se=Ss;break;case"focusout":ce="blur",se=Ss;break;case"beforeblur":case"afterblur":se=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=W;break;case Td:case Id:case Sd:se=pr;break;case Rd:se=Ue;break;case"scroll":se=sc;break;case"wheel":se=Ne;break;case"copy":case"cut":case"paste":se=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(i&4)!==0,st=!he&&n==="scroll",j=he?X!==null?X+"Capture":null:X;he=[];for(var L=q,z;L!==null;){z=L;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,j!==null&&(ne=it(L,j),ne!=null&&he.push(Ko(L,ne,z)))),st)break;L=L.return}0<he.length&&(X=new se(X,ce,null,a,J),Z.push({event:X,listeners:he}))}}if(!(i&7)){e:{if(X=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",X&&a!==gi&&(ce=a.relatedTarget||a.fromElement)&&(Pi(ce)||ce[mr]))break e;if((se||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=q,ce=ce?Pi(ce):null,ce!==null&&(st=Sn(ce),ce!==st||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=q),se!==ce)){if(he=Ts,ne="onMouseLeave",j="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(he=E,ne="onPointerLeave",j="onPointerEnter",L="pointer"),st=se==null?X:Ds(se),z=ce==null?X:Ds(ce),X=new he(ne,L+"leave",se,a,J),X.target=st,X.relatedTarget=z,ne=null,Pi(J)===q&&(he=new he(j,L+"enter",ce,a,J),he.target=z,he.relatedTarget=st,ne=he),st=ne,se&&ce)t:{for(he=se,j=ce,L=0,z=he;z;z=ks(z))L++;for(z=0,ne=j;ne;ne=ks(ne))z++;for(;0<L-z;)he=ks(he),L--;for(;0<z-L;)j=ks(j),z--;for(;L--;){if(he===j||j!==null&&he===j.alternate)break t;he=ks(he),j=ks(j)}he=null}else he=null;se!==null&&Nd(Z,X,se,he,!1),ce!==null&&st!==null&&Nd(Z,st,ce,he,!0)}}e:{if(X=q?Ds(q):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var fe=nv;else if(cd(X))if(fd)fe=ov;else{fe=iv;var _e=rv}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=sv);if(fe&&(fe=fe(n,q))){hd(Z,fe,a,J);break e}_e&&_e(n,X,q),n==="focusout"&&(_e=X._wrapperState)&&_e.controlled&&X.type==="number"&&rs(X,"number",X.value)}switch(_e=q?Ds(q):window,n){case"focusin":(cd(_e)||_e.contentEditable==="true")&&(Cs=_e,uc=q,Ho=null);break;case"focusout":Ho=uc=Cs=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,wd(Z,a,J);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":wd(Z,a,J)}var ve;if(at)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else xs?ld(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Ci&&a.locale!=="ko"&&(xs||we!=="onCompositionStart"?we==="onCompositionEnd"&&xs&&(ve=Fo()):(sn=J,_s="value"in sn?sn.value:sn.textContent,xs=!0)),_e=pl(q,we),0<_e.length&&(we=new Bo(we,n,null,a,J),Z.push({event:we,listeners:_e}),ve?we.data=ve:(ve=ud(a),ve!==null&&(we.data=ve)))),(ve=on?J_(n,a):Z_(n,a))&&(q=pl(q,"onBeforeInput"),0<q.length&&(J=new Bo("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:q}),J.data=ve))}Pd(Z,i)})}function Ko(n,i,a){return{instance:n,listener:i,currentTarget:a}}function pl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=it(n,a),m!=null&&c.unshift(Ko(n,m,f)),m=it(n,i),m!=null&&c.push(Ko(n,m,f))),n=n.return}return c}function ks(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Nd(n,i,a,c,f){for(var m=i._reactName,v=[];a!==null&&a!==c;){var R=a,P=R.alternate,q=R.stateNode;if(P!==null&&P===c)break;R.tag===5&&q!==null&&(R=q,f?(P=it(a,m),P!=null&&v.unshift(Ko(a,P,R))):f||(P=it(a,m),P!=null&&v.push(Ko(a,P,R)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var dv=/\r\n?/g,pv=/\u0000|\uFFFD/g;function Dd(n){return(typeof n=="string"?n:""+n).replace(dv,`
`).replace(pv,"")}function ml(n,i,a){if(i=Dd(i),Dd(n)!==i&&a)throw Error(t(425))}function gl(){}var gc=null,yc=null;function _c(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(n){return Vd.resolve(null).then(n).catch(yv)}:vc;function yv(n){setTimeout(function(){throw n})}function wc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Pn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Pn(i)}function zr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Ld(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Ns,Go="__reactProps$"+Ns,mr="__reactContainer$"+Ns,Ec="__reactEvents$"+Ns,_v="__reactListeners$"+Ns,vv="__reactHandles$"+Ns;function Pi(n){var i=n[Qn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[mr]||a[Qn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Ld(n);n!==null;){if(a=n[Qn])return a;n=Ld(n)}return i}n=a,a=n.parentNode}return null}function Yo(n){return n=n[Qn]||n[mr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ds(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function yl(n){return n[Go]||null}var Tc=[],Vs=-1;function $r(n){return{current:n}}function We(n){0>Vs||(n.current=Tc[Vs],Tc[Vs]=null,Vs--)}function qe(n,i){Vs++,Tc[Vs]=n.current,n.current=i}var qr={},Vt=$r(qr),Kt=$r(!1),ki=qr;function Ls(n,i){var a=n.type.contextTypes;if(!a)return qr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Gt(n){return n=n.childContextTypes,n!=null}function _l(){We(Kt),We(Vt)}function Od(n,i,a){if(Vt.current!==qr)throw Error(t(168));qe(Vt,i),qe(Kt,a)}function Md(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Me(n)||"Unknown",f));return oe({},a,c)}function vl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qr,ki=Vt.current,qe(Vt,n),qe(Kt,Kt.current),!0}function bd(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Md(n,i,ki),c.__reactInternalMemoizedMergedChildContext=n,We(Kt),We(Vt),qe(Vt,n)):We(Kt),qe(Kt,a)}var gr=null,wl=!1,Ic=!1;function Fd(n){gr===null?gr=[n]:gr.push(n)}function wv(n){wl=!0,Fd(n)}function Hr(){if(!Ic&&gr!==null){Ic=!0;var n=0,i=Ce;try{var a=gr;for(Ce=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}gr=null,wl=!1}catch(f){throw gr!==null&&(gr=gr.slice(n+1)),ds(Ei,Hr),f}finally{Ce=i,Ic=!1}}return null}var Os=[],Ms=0,El=null,Tl=0,mn=[],gn=0,Ni=null,yr=1,_r="";function Di(n,i){Os[Ms++]=Tl,Os[Ms++]=El,El=n,Tl=i}function Ud(n,i,a){mn[gn++]=yr,mn[gn++]=_r,mn[gn++]=Ni,Ni=n;var c=yr;n=_r;var f=32-jt(c)-1;c&=~(1<<f),a+=1;var m=32-jt(i)+f;if(30<m){var v=f-f%5;m=(c&(1<<v)-1).toString(32),c>>=v,f-=v,yr=1<<32-jt(i)+f|a<<f|c,_r=m+n}else yr=1<<m|a<<f|c,_r=n}function Sc(n){n.return!==null&&(Di(n,1),Ud(n,1,0))}function Rc(n){for(;n===El;)El=Os[--Ms],Os[Ms]=null,Tl=Os[--Ms],Os[Ms]=null;for(;n===Ni;)Ni=mn[--gn],mn[gn]=null,_r=mn[--gn],mn[gn]=null,yr=mn[--gn],mn[gn]=null}var an=null,ln=null,Ge=!1,Dn=null;function jd(n,i){var a=wn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Bd(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,an=n,ln=zr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,an=n,ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ni!==null?{id:yr,overflow:_r}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=wn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function Ac(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xc(n){if(Ge){var i=ln;if(i){var a=i;if(!Bd(n,i)){if(Ac(n))throw Error(t(418));i=zr(a.nextSibling);var c=an;i&&Bd(n,i)?jd(c,a):(n.flags=n.flags&-4097|2,Ge=!1,an=n)}}else{if(Ac(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ge=!1,an=n}}}function zd(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Il(n){if(n!==an)return!1;if(!Ge)return zd(n),Ge=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!_c(n.type,n.memoizedProps)),i&&(i=ln)){if(Ac(n))throw $d(),Error(t(418));for(;i;)jd(n,i),i=zr(i.nextSibling)}if(zd(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){ln=zr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}ln=null}}else ln=an?zr(n.stateNode.nextSibling):null;return!0}function $d(){for(var n=ln;n;)n=zr(n.nextSibling)}function bs(){ln=an=null,Ge=!1}function Cc(n){Dn===null?Dn=[n]:Dn.push(n)}var Ev=ee.ReactCurrentBatchConfig;function Xo(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var R=f.refs;v===null?delete R[m]:R[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Sl(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function qd(n){var i=n._init;return i(n._payload)}function Hd(n){function i(j,L){if(n){var z=j.deletions;z===null?(j.deletions=[L],j.flags|=16):z.push(L)}}function a(j,L){if(!n)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function c(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function f(j,L){return j=Zr(j,L),j.index=0,j.sibling=null,j}function m(j,L,z){return j.index=z,n?(z=j.alternate,z!==null?(z=z.index,z<L?(j.flags|=2,L):z):(j.flags|=2,L)):(j.flags|=1048576,L)}function v(j){return n&&j.alternate===null&&(j.flags|=2),j}function R(j,L,z,ne){return L===null||L.tag!==6?(L=vh(z,j.mode,ne),L.return=j,L):(L=f(L,z),L.return=j,L)}function P(j,L,z,ne){var fe=z.type;return fe===C?J(j,L,z.props.children,ne,z.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Dt&&qd(fe)===L.type)?(ne=f(L,z.props),ne.ref=Xo(j,L,z),ne.return=j,ne):(ne=Kl(z.type,z.key,z.props,null,j.mode,ne),ne.ref=Xo(j,L,z),ne.return=j,ne)}function q(j,L,z,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=wh(z,j.mode,ne),L.return=j,L):(L=f(L,z.children||[]),L.return=j,L)}function J(j,L,z,ne,fe){return L===null||L.tag!==7?(L=ji(z,j.mode,ne,fe),L.return=j,L):(L=f(L,z),L.return=j,L)}function Z(j,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return L=vh(""+L,j.mode,z),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case de:return z=Kl(L.type,L.key,L.props,null,j.mode,z),z.ref=Xo(j,null,L),z.return=j,z;case pe:return L=wh(L,j.mode,z),L.return=j,L;case Dt:var ne=L._init;return Z(j,ne(L._payload),z)}if(or(L)||ye(L))return L=ji(L,j.mode,z,null),L.return=j,L;Sl(j,L)}return null}function X(j,L,z,ne){var fe=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return fe!==null?null:R(j,L,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case de:return z.key===fe?P(j,L,z,ne):null;case pe:return z.key===fe?q(j,L,z,ne):null;case Dt:return fe=z._init,X(j,L,fe(z._payload),ne)}if(or(z)||ye(z))return fe!==null?null:J(j,L,z,ne,null);Sl(j,z)}return null}function se(j,L,z,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return j=j.get(z)||null,R(L,j,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case de:return j=j.get(ne.key===null?z:ne.key)||null,P(L,j,ne,fe);case pe:return j=j.get(ne.key===null?z:ne.key)||null,q(L,j,ne,fe);case Dt:var _e=ne._init;return se(j,L,z,_e(ne._payload),fe)}if(or(ne)||ye(ne))return j=j.get(z)||null,J(L,j,ne,fe,null);Sl(L,ne)}return null}function ce(j,L,z,ne){for(var fe=null,_e=null,ve=L,we=L=0,Tt=null;ve!==null&&we<z.length;we++){ve.index>we?(Tt=ve,ve=null):Tt=ve.sibling;var Oe=X(j,ve,z[we],ne);if(Oe===null){ve===null&&(ve=Tt);break}n&&ve&&Oe.alternate===null&&i(j,ve),L=m(Oe,L,we),_e===null?fe=Oe:_e.sibling=Oe,_e=Oe,ve=Tt}if(we===z.length)return a(j,ve),Ge&&Di(j,we),fe;if(ve===null){for(;we<z.length;we++)ve=Z(j,z[we],ne),ve!==null&&(L=m(ve,L,we),_e===null?fe=ve:_e.sibling=ve,_e=ve);return Ge&&Di(j,we),fe}for(ve=c(j,ve);we<z.length;we++)Tt=se(ve,j,we,z[we],ne),Tt!==null&&(n&&Tt.alternate!==null&&ve.delete(Tt.key===null?we:Tt.key),L=m(Tt,L,we),_e===null?fe=Tt:_e.sibling=Tt,_e=Tt);return n&&ve.forEach(function(ei){return i(j,ei)}),Ge&&Di(j,we),fe}function he(j,L,z,ne){var fe=ye(z);if(typeof fe!="function")throw Error(t(150));if(z=fe.call(z),z==null)throw Error(t(151));for(var _e=fe=null,ve=L,we=L=0,Tt=null,Oe=z.next();ve!==null&&!Oe.done;we++,Oe=z.next()){ve.index>we?(Tt=ve,ve=null):Tt=ve.sibling;var ei=X(j,ve,Oe.value,ne);if(ei===null){ve===null&&(ve=Tt);break}n&&ve&&ei.alternate===null&&i(j,ve),L=m(ei,L,we),_e===null?fe=ei:_e.sibling=ei,_e=ei,ve=Tt}if(Oe.done)return a(j,ve),Ge&&Di(j,we),fe;if(ve===null){for(;!Oe.done;we++,Oe=z.next())Oe=Z(j,Oe.value,ne),Oe!==null&&(L=m(Oe,L,we),_e===null?fe=Oe:_e.sibling=Oe,_e=Oe);return Ge&&Di(j,we),fe}for(ve=c(j,ve);!Oe.done;we++,Oe=z.next())Oe=se(ve,j,we,Oe.value,ne),Oe!==null&&(n&&Oe.alternate!==null&&ve.delete(Oe.key===null?we:Oe.key),L=m(Oe,L,we),_e===null?fe=Oe:_e.sibling=Oe,_e=Oe);return n&&ve.forEach(function(Zv){return i(j,Zv)}),Ge&&Di(j,we),fe}function st(j,L,z,ne){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case de:e:{for(var fe=z.key,_e=L;_e!==null;){if(_e.key===fe){if(fe=z.type,fe===C){if(_e.tag===7){a(j,_e.sibling),L=f(_e,z.props.children),L.return=j,j=L;break e}}else if(_e.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Dt&&qd(fe)===_e.type){a(j,_e.sibling),L=f(_e,z.props),L.ref=Xo(j,_e,z),L.return=j,j=L;break e}a(j,_e);break}else i(j,_e);_e=_e.sibling}z.type===C?(L=ji(z.props.children,j.mode,ne,z.key),L.return=j,j=L):(ne=Kl(z.type,z.key,z.props,null,j.mode,ne),ne.ref=Xo(j,L,z),ne.return=j,j=ne)}return v(j);case pe:e:{for(_e=z.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(j,L.sibling),L=f(L,z.children||[]),L.return=j,j=L;break e}else{a(j,L);break}else i(j,L);L=L.sibling}L=wh(z,j.mode,ne),L.return=j,j=L}return v(j);case Dt:return _e=z._init,st(j,L,_e(z._payload),ne)}if(or(z))return ce(j,L,z,ne);if(ye(z))return he(j,L,z,ne);Sl(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,L!==null&&L.tag===6?(a(j,L.sibling),L=f(L,z),L.return=j,j=L):(a(j,L),L=vh(z,j.mode,ne),L.return=j,j=L),v(j)):a(j,L)}return st}var Fs=Hd(!0),Wd=Hd(!1),Rl=$r(null),Al=null,Us=null,Pc=null;function kc(){Pc=Us=Al=null}function Nc(n){var i=Rl.current;We(Rl),n._currentValue=i}function Dc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function js(n,i){Al=n,Pc=Us=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Yt=!0),n.firstContext=null)}function yn(n){var i=n._currentValue;if(Pc!==n)if(n={context:n,memoizedValue:i,next:null},Us===null){if(Al===null)throw Error(t(308));Us=n,Al.dependencies={lanes:0,firstContext:n}}else Us=Us.next=n;return i}var Vi=null;function Vc(n){Vi===null?Vi=[n]:Vi.push(n)}function Qd(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Vc(i)):(a.next=f.next,f.next=a),i.interleaved=a,vr(n,c)}function vr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Wr=!1;function Lc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Qr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,vr(n,a)}return f=c.interleaved,f===null?(i.next=i,Vc(c)):(i.next=f.next,f.next=i),c.interleaved=i,vr(n,a)}function xl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Mr(n,a)}}function Gd(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Cl(n,i,a,c){var f=n.updateQueue;Wr=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,q=P.next;P.next=null,v===null?m=q:v.next=q,v=P;var J=n.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==v&&(R===null?J.firstBaseUpdate=q:R.next=q,J.lastBaseUpdate=P))}if(m!==null){var Z=f.baseState;v=0,J=q=P=null,R=m;do{var X=R.lane,se=R.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:se,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=n,he=R;switch(X=i,se=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(se,Z,X);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(se,Z,X):ce,X==null)break e;Z=oe({},Z,X);break e;case 2:Wr=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,X=f.effects,X===null?f.effects=[R]:X.push(R))}else se={eventTime:se,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(q=J=se,P=Z):J=J.next=se,v|=X;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;X=R,R=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(J===null&&(P=Z),f.baseState=P,f.firstBaseUpdate=q,f.lastBaseUpdate=J,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);Mi|=v,n.lanes=v,n.memoizedState=Z}}function Yd(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Jo={},Kn=$r(Jo),Zo=$r(Jo),ea=$r(Jo);function Li(n){if(n===Jo)throw Error(t(174));return n}function Oc(n,i){switch(qe(ea,i),qe(Zo,n),qe(Kn,Jo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ft(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ft(i,n)}We(Kn),qe(Kn,i)}function Bs(){We(Kn),We(Zo),We(ea)}function Xd(n){Li(ea.current);var i=Li(Kn.current),a=ft(i,n.type);i!==a&&(qe(Zo,n),qe(Kn,a))}function Mc(n){Zo.current===n&&(We(Kn),We(Zo))}var Ye=$r(0);function Pl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bc=[];function Fc(){for(var n=0;n<bc.length;n++)bc[n]._workInProgressVersionPrimary=null;bc.length=0}var kl=ee.ReactCurrentDispatcher,Uc=ee.ReactCurrentBatchConfig,Oi=0,Xe=null,pt=null,wt=null,Nl=!1,ta=!1,na=0,Tv=0;function Lt(){throw Error(t(321))}function jc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function Bc(n,i,a,c,f,m){if(Oi=m,Xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,kl.current=n===null||n.memoizedState===null?Av:xv,n=a(c,f),ta){m=0;do{if(ta=!1,na=0,25<=m)throw Error(t(301));m+=1,wt=pt=null,i.updateQueue=null,kl.current=Cv,n=a(c,f)}while(ta)}if(kl.current=Ll,i=pt!==null&&pt.next!==null,Oi=0,wt=pt=Xe=null,Nl=!1,i)throw Error(t(300));return n}function zc(){var n=na!==0;return na=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=n:wt=wt.next=n,wt}function _n(){if(pt===null){var n=Xe.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var i=wt===null?Xe.memoizedState:wt.next;if(i!==null)wt=i,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Xe.memoizedState=wt=n:wt=wt.next=n}return wt}function ra(n,i){return typeof i=="function"?i(n):i}function $c(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=pt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var R=v=null,P=null,q=m;do{var J=q.lane;if((Oi&J)===J)P!==null&&(P=P.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:n(c,q.action);else{var Z={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};P===null?(R=P=Z,v=c):P=P.next=Z,Xe.lanes|=J,Mi|=J}q=q.next}while(q!==null&&q!==m);P===null?v=c:P.next=R,Nn(c,i.memoizedState)||(Yt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do m=f.lane,Xe.lanes|=m,Mi|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function qc(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);Nn(m,i.memoizedState)||(Yt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Jd(){}function Zd(n,i){var a=Xe,c=_n(),f=i(),m=!Nn(c.memoizedState,f);if(m&&(c.memoizedState=f,Yt=!0),c=c.queue,Hc(np.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,ia(9,tp.bind(null,a,c,f,i),void 0,null),Et===null)throw Error(t(349));Oi&30||ep(a,i,f)}return f}function ep(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function tp(n,i,a,c){i.value=a,i.getSnapshot=c,rp(i)&&ip(n)}function np(n,i,a){return a(function(){rp(i)&&ip(n)})}function rp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function ip(n){var i=vr(n,1);i!==null&&Mn(i,n,1,-1)}function sp(n){var i=Gn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:n},i.queue=n,n=n.dispatch=Rv.bind(null,Xe,n),[i.memoizedState,n]}function ia(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Xe.updateQueue,i===null?(i={lastEffect:null,stores:null},Xe.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function op(){return _n().memoizedState}function Dl(n,i,a,c){var f=Gn();Xe.flags|=n,f.memoizedState=ia(1|i,a,void 0,c===void 0?null:c)}function Vl(n,i,a,c){var f=_n();c=c===void 0?null:c;var m=void 0;if(pt!==null){var v=pt.memoizedState;if(m=v.destroy,c!==null&&jc(c,v.deps)){f.memoizedState=ia(i,a,m,c);return}}Xe.flags|=n,f.memoizedState=ia(1|i,a,m,c)}function ap(n,i){return Dl(8390656,8,n,i)}function Hc(n,i){return Vl(2048,8,n,i)}function lp(n,i){return Vl(4,2,n,i)}function up(n,i){return Vl(4,4,n,i)}function cp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function hp(n,i,a){return a=a!=null?a.concat([n]):null,Vl(4,4,cp.bind(null,i,n),a)}function Wc(){}function fp(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&jc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function dp(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&jc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function pp(n,i,a){return Oi&21?(Nn(a,i)||(a=Si(),Xe.lanes|=a,Mi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=a)}function Iv(n,i){var a=Ce;Ce=a!==0&&4>a?a:4,n(!0);var c=Uc.transition;Uc.transition={};try{n(!1),i()}finally{Ce=a,Uc.transition=c}}function mp(){return _n().memoizedState}function Sv(n,i,a){var c=Xr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},gp(n))yp(i,a);else if(a=Qd(n,i,a,c),a!==null){var f=$t();Mn(a,n,c,f),_p(a,i,c)}}function Rv(n,i,a){var c=Xr(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(gp(n))yp(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,R=m(v,a);if(f.hasEagerState=!0,f.eagerState=R,Nn(R,v)){var P=i.interleaved;P===null?(f.next=f,Vc(i)):(f.next=P.next,P.next=f),i.interleaved=f;return}}catch{}finally{}a=Qd(n,i,f,c),a!==null&&(f=$t(),Mn(a,n,c,f),_p(a,i,c))}}function gp(n){var i=n.alternate;return n===Xe||i!==null&&i===Xe}function yp(n,i){ta=Nl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function _p(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Mr(n,a)}}var Ll={readContext:yn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Av={readContext:yn,useCallback:function(n,i){return Gn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:ap,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Dl(4194308,4,cp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Dl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Dl(4,2,n,i)},useMemo:function(n,i){var a=Gn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Gn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=Sv.bind(null,Xe,n),[c.memoizedState,n]},useRef:function(n){var i=Gn();return n={current:n},i.memoizedState=n},useState:sp,useDebugValue:Wc,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=sp(!1),i=n[0];return n=Iv.bind(null,n[1]),Gn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Xe,f=Gn();if(Ge){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Et===null)throw Error(t(349));Oi&30||ep(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,ap(np.bind(null,c,m,n),[n]),c.flags|=2048,ia(9,tp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Gn(),i=Et.identifierPrefix;if(Ge){var a=_r,c=yr;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=na++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Tv++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},xv={readContext:yn,useCallback:fp,useContext:yn,useEffect:Hc,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:$c,useRef:op,useState:function(){return $c(ra)},useDebugValue:Wc,useDeferredValue:function(n){var i=_n();return pp(i,pt.memoizedState,n)},useTransition:function(){var n=$c(ra)[0],i=_n().memoizedState;return[n,i]},useMutableSource:Jd,useSyncExternalStore:Zd,useId:mp,unstable_isNewReconciler:!1},Cv={readContext:yn,useCallback:fp,useContext:yn,useEffect:Hc,useImperativeHandle:hp,useInsertionEffect:lp,useLayoutEffect:up,useMemo:dp,useReducer:qc,useRef:op,useState:function(){return qc(ra)},useDebugValue:Wc,useDeferredValue:function(n){var i=_n();return pt===null?i.memoizedState=n:pp(i,pt.memoizedState,n)},useTransition:function(){var n=qc(ra)[0],i=_n().memoizedState;return[n,i]},useMutableSource:Jd,useSyncExternalStore:Zd,useId:mp,unstable_isNewReconciler:!1};function Vn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Qc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ol={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=$t(),f=Xr(n),m=wr(c,f);m.payload=i,a!=null&&(m.callback=a),i=Qr(n,m,f),i!==null&&(Mn(i,n,f,c),xl(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=$t(),f=Xr(n),m=wr(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Qr(n,m,f),i!==null&&(Mn(i,n,f,c),xl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=$t(),c=Xr(n),f=wr(a,c);f.tag=2,i!=null&&(f.callback=i),i=Qr(n,f,c),i!==null&&(Mn(i,n,c,a),xl(i,n,c))}};function vp(n,i,a,c,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!qo(a,c)||!qo(f,m):!0}function wp(n,i,a){var c=!1,f=qr,m=i.contextType;return typeof m=="object"&&m!==null?m=yn(m):(f=Gt(i)?ki:Vt.current,c=i.contextTypes,m=(c=c!=null)?Ls(n,f):qr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ol,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function Ep(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Ol.enqueueReplaceState(i,i.state,null)}function Kc(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Lc(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=yn(m):(m=Gt(i)?ki:Vt.current,f.context=Ls(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Qc(n,i,m,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Ol.enqueueReplaceState(f,f.state,null),Cl(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function zs(n,i){try{var a="",c=i;do a+=Re(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function Gc(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Yc(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Pv=typeof WeakMap=="function"?WeakMap:Map;function Tp(n,i,a){a=wr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){zl||(zl=!0,hh=c),Yc(n,i)},a}function Ip(n,i,a){a=wr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Yc(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Yc(n,i),typeof c!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Sp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Pv;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=$v.bind(null,n,i,a),i.then(n,n))}function Rp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Ap(n,i,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=wr(-1,1),i.tag=2,Qr(a,i,1))),a.lanes|=1),n)}var kv=ee.ReactCurrentOwner,Yt=!1;function zt(n,i,a,c){i.child=n===null?Wd(i,null,a,c):Fs(i,n.child,a,c)}function xp(n,i,a,c,f){a=a.render;var m=i.ref;return js(i,f),c=Bc(n,i,a,c,m,f),a=zc(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Er(n,i,f)):(Ge&&a&&Sc(i),i.flags|=1,zt(n,i,c,f),i.child)}function Cp(n,i,a,c,f){if(n===null){var m=a.type;return typeof m=="function"&&!_h(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Pp(n,i,m,c,f)):(n=Kl(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(v,c)&&n.ref===i.ref)return Er(n,i,f)}return i.flags|=1,n=Zr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Pp(n,i,a,c,f){if(n!==null){var m=n.memoizedProps;if(qo(m,c)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)n.flags&131072&&(Yt=!0);else return i.lanes=n.lanes,Er(n,i,f)}return Xc(n,i,a,c,f)}function kp(n,i,a){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(qs,un),un|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe(qs,un),un|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe(qs,un),un|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe(qs,un),un|=c;return zt(n,i,f,a),i.child}function Np(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Xc(n,i,a,c,f){var m=Gt(a)?ki:Vt.current;return m=Ls(i,m),js(i,f),a=Bc(n,i,a,c,m,f),c=zc(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Er(n,i,f)):(Ge&&c&&Sc(i),i.flags|=1,zt(n,i,a,f),i.child)}function Dp(n,i,a,c,f){if(Gt(a)){var m=!0;vl(i)}else m=!1;if(js(i,f),i.stateNode===null)bl(n,i),wp(i,a,c),Kc(i,a,c,f),c=!0;else if(n===null){var v=i.stateNode,R=i.memoizedProps;v.props=R;var P=v.context,q=a.contextType;typeof q=="object"&&q!==null?q=yn(q):(q=Gt(a)?ki:Vt.current,q=Ls(i,q));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==c||P!==q)&&Ep(i,v,c,q),Wr=!1;var X=i.memoizedState;v.state=X,Cl(i,c,v,f),P=i.memoizedState,R!==c||X!==P||Kt.current||Wr?(typeof J=="function"&&(Qc(i,a,J,c),P=i.memoizedState),(R=Wr||vp(i,a,R,c,X,P,q))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),v.props=c,v.state=P,v.context=q,c=R):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Kd(n,i),R=i.memoizedProps,q=i.type===i.elementType?R:Vn(i.type,R),v.props=q,Z=i.pendingProps,X=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=yn(P):(P=Gt(a)?ki:Vt.current,P=Ls(i,P));var se=a.getDerivedStateFromProps;(J=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==Z||X!==P)&&Ep(i,v,c,P),Wr=!1,X=i.memoizedState,v.state=X,Cl(i,c,v,f);var ce=i.memoizedState;R!==Z||X!==ce||Kt.current||Wr?(typeof se=="function"&&(Qc(i,a,se,c),ce=i.memoizedState),(q=Wr||vp(i,a,q,c,X,ce,P)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ce,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ce,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),v.props=c,v.state=ce,v.context=P,c=q):(typeof v.componentDidUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),c=!1)}return Jc(n,i,a,c,m,f)}function Jc(n,i,a,c,f,m){Np(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&bd(i,a,!1),Er(n,i,m);c=i.stateNode,kv.current=i;var R=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Fs(i,n.child,null,m),i.child=Fs(i,null,R,m)):zt(n,i,R,m),i.memoizedState=c.state,f&&bd(i,a,!0),i.child}function Vp(n){var i=n.stateNode;i.pendingContext?Od(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Od(n,i.context,!1),Oc(n,i.containerInfo)}function Lp(n,i,a,c,f){return bs(),Cc(f),i.flags|=256,zt(n,i,a,c),i.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function eh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Op(n,i,a){var c=i.pendingProps,f=Ye.current,m=!1,v=(i.flags&128)!==0,R;if((R=v)||(R=n!==null&&n.memoizedState===null?!1:(f&2)!==0),R?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),qe(Ye,f&1),n===null)return xc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=Gl(v,c,0,null),n=ji(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=eh(a),i.memoizedState=Zc,n):th(i,v));if(f=n.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return Nv(n,i,v,c,R,f,a);if(m){m=c.fallback,v=i.mode,f=n.child,R=f.sibling;var P={mode:"hidden",children:c.children};return!(v&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Zr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),R!==null?m=Zr(R,m):(m=ji(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?eh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=Zc,c}return m=n.child,n=m.sibling,c=Zr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function th(n,i){return i=Gl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ml(n,i,a,c){return c!==null&&Cc(c),Fs(i,n.child,null,a),n=th(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Nv(n,i,a,c,f,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Gc(Error(t(422))),Ml(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Gl({mode:"visible",children:c.children},f,0,null),m=ji(m,f,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&Fs(i,n.child,null,v),i.child.memoizedState=eh(v),i.memoizedState=Zc,m);if(!(i.mode&1))return Ml(n,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var R=c.dgst;return c=R,m=Error(t(419)),c=Gc(m,c,void 0),Ml(n,i,v,c)}if(R=(v&n.childLanes)!==0,Yt||R){if(c=Et,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,vr(n,f),Mn(c,n,f,-1))}return yh(),c=Gc(Error(t(421))),Ml(n,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=qv.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,ln=zr(f.nextSibling),an=i,Ge=!0,Dn=null,n!==null&&(mn[gn++]=yr,mn[gn++]=_r,mn[gn++]=Ni,yr=n.id,_r=n.overflow,Ni=i),i=th(i,c.children),i.flags|=4096,i)}function Mp(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Dc(n.return,i,a)}function nh(n,i,a,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function bp(n,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(zt(n,i,c.children,a),c=Ye.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mp(n,a,i);else if(n.tag===19)Mp(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Ye,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Pl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),nh(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Pl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}nh(i,!0,a,null,m);break;case"together":nh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bl(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Er(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Mi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Zr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Zr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Dv(n,i,a){switch(i.tag){case 3:Vp(i),bs();break;case 5:Xd(i);break;case 1:Gt(i.type)&&vl(i);break;case 4:Oc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;qe(Rl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),i.flags|=128,null):a&i.child.childLanes?Op(n,i,a):(qe(Ye,Ye.current&1),n=Er(n,i,a),n!==null?n.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return bp(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,kp(n,i,a)}return Er(n,i,a)}var Fp,rh,Up,jp;Fp=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},rh=function(){},Up=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Li(Kn.current);var m=null;switch(a){case"input":f=di(n,f),c=di(n,c),m=[];break;case"select":f=oe({},f,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":f=vo(n,f),c=vo(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=gl)}Ro(a,c);var v;a=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var R=f[q];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?m||(m=[]):(m=m||[]).push(q,null));for(q in c){var P=c[q];if(R=f!=null?f[q]:void 0,c.hasOwnProperty(q)&&P!==R&&(P!=null||R!=null))if(q==="style")if(R){for(v in R)!R.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&R[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(m||(m=[]),m.push(q,a)),a=P;else q==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,R=R?R.__html:void 0,P!=null&&R!==P&&(m=m||[]).push(q,P)):q==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(q,""+P):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(P!=null&&q==="onScroll"&&He("scroll",n),m||R===P||(m=[])):(m=m||[]).push(q,P))}a&&(m=m||[]).push("style",a);var q=m;(i.updateQueue=q)&&(i.flags|=4)}},jp=function(n,i,a,c){a!==c&&(i.flags|=4)};function sa(n,i){if(!Ge)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Vv(n,i,a){var c=i.pendingProps;switch(Rc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Gt(i.type)&&_l(),Ot(i),null;case 3:return c=i.stateNode,Bs(),We(Kt),We(Vt),Fc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Il(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Dn!==null&&(ph(Dn),Dn=null))),rh(n,i),Ot(i),null;case 5:Mc(i);var f=Li(ea.current);if(a=i.type,n!==null&&i.stateNode!=null)Up(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(n=Li(Kn.current),Il(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Qn]=i,c[Go]=m,n=(i.mode&1)!==0,a){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(f=0;f<Wo.length;f++)He(Wo[f],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":ns(c,m),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},He("invalid",c);break;case"textarea":is(c,m),He("invalid",c)}Ro(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var R=m[v];v==="children"?typeof R=="string"?c.textContent!==R&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,R,n),f=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,R,n),f=["children",""+R]):o.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&He("scroll",c)}switch(a){case"input":sr(c),Ba(c,m,!0);break;case"textarea":sr(c),wo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=gl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ht(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Qn]=i,n[Go]=c,Fp(n,i,!1,!1),i.stateNode=n;e:{switch(v=Ao(a,c),a){case"dialog":He("cancel",n),He("close",n),f=c;break;case"iframe":case"object":case"embed":He("load",n),f=c;break;case"video":case"audio":for(f=0;f<Wo.length;f++)He(Wo[f],n);f=c;break;case"source":He("error",n),f=c;break;case"img":case"image":case"link":He("error",n),He("load",n),f=c;break;case"details":He("toggle",n),f=c;break;case"input":ns(n,c),f=di(n,c),He("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=oe({},c,{value:void 0}),He("invalid",n);break;case"textarea":is(n,c),f=vo(n,c),He("invalid",n);break;default:f=c}Ro(a,f),R=f;for(m in R)if(R.hasOwnProperty(m)){var P=R[m];m==="style"?Io(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Eo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Nr(n,P):typeof P=="number"&&Nr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&He("scroll",n):P!=null&&te(n,m,P,v))}switch(a){case"input":sr(n),Ba(n,c,!1);break;case"textarea":sr(n),wo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+be(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ar(n,!!c.multiple,m,!1):c.defaultValue!=null&&ar(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(n&&i.stateNode!=null)jp(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Li(ea.current),Li(Kn.current),Il(i)){if(c=i.stateNode,a=i.memoizedProps,c[Qn]=i,(m=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:ml(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ml(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Qn]=i,i.stateNode=c}return Ot(i),null;case 13:if(We(Ye),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&ln!==null&&i.mode&1&&!(i.flags&128))$d(),bs(),i.flags|=98560,m=!1;else if(m=Il(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Qn]=i}else bs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ot(i),m=!1}else Dn!==null&&(ph(Dn),Dn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Ye.current&1?mt===0&&(mt=3):yh())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return Bs(),rh(n,i),n===null&&Qo(i.stateNode.containerInfo),Ot(i),null;case 10:return Nc(i.type._context),Ot(i),null;case 17:return Gt(i.type)&&_l(),Ot(i),null;case 19:if(We(Ye),m=i.memoizedState,m===null)return Ot(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)sa(m,!1);else{if(mt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(v=Pl(n),v!==null){for(i.flags|=128,sa(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Ye,Ye.current&1|2),i.child}n=n.sibling}m.tail!==null&&$e()>Hs&&(i.flags|=128,c=!0,sa(m,!1),i.lanes=4194304)}else{if(!c)if(n=Pl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),sa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ge)return Ot(i),null}else 2*$e()-m.renderingStartTime>Hs&&a!==1073741824&&(i.flags|=128,c=!0,sa(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=$e(),i.sibling=null,a=Ye.current,qe(Ye,c?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return gh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?un&1073741824&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Lv(n,i){switch(Rc(i),i.tag){case 1:return Gt(i.type)&&_l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Bs(),We(Kt),We(Vt),Fc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Mc(i),null;case 13:if(We(Ye),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));bs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Ye),null;case 4:return Bs(),null;case 10:return Nc(i.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var Fl=!1,Mt=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,le=null;function $s(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(n,i,c)}else a.current=null}function ih(n,i,a){try{a()}catch(c){et(n,i,c)}}var Bp=!1;function Mv(n,i){if(gc=Ur,n=vd(),lc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,R=-1,P=-1,q=0,J=0,Z=n,X=null;t:for(;;){for(var se;Z!==a||f!==0&&Z.nodeType!==3||(R=v+f),Z!==m||c!==0&&Z.nodeType!==3||(P=v+c),Z.nodeType===3&&(v+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===n)break t;if(X===a&&++q===f&&(R=v),X===m&&++J===c&&(P=v),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}a=R===-1||P===-1?null:{start:R,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(yc={focusedElem:n,selectionRange:a},Ur=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ce=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,st=ce.memoizedState,j=i.stateNode,L=j.getSnapshotBeforeUpdate(i.elementType===i.type?he:Vn(i.type,he),st);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){et(i,i.return,ne)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ce=Bp,Bp=!1,ce}function oa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&ih(i,a,m)}f=f.next}while(f!==c)}}function Ul(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function sh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function zp(n){var i=n.alternate;i!==null&&(n.alternate=null,zp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Qn],delete i[Go],delete i[Ec],delete i[_v],delete i[vv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $p(n){return n.tag===5||n.tag===3||n.tag===4}function qp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$p(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function oh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gl));else if(c!==4&&(n=n.child,n!==null))for(oh(n,i,a),n=n.sibling;n!==null;)oh(n,i,a),n=n.sibling}function ah(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(ah(n,i,a),n=n.sibling;n!==null;)ah(n,i,a),n=n.sibling}var At=null,Ln=!1;function Kr(n,i,a){for(a=a.child;a!==null;)Hp(n,i,a),a=a.sibling}function Hp(n,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ti,a)}catch{}switch(a.tag){case 5:Mt||$s(a,i);case 6:var c=At,f=Ln;At=null,Kr(n,i,a),At=c,Ln=f,At!==null&&(Ln?(n=At,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):At.removeChild(a.stateNode));break;case 18:At!==null&&(Ln?(n=At,a=a.stateNode,n.nodeType===8?wc(n.parentNode,a):n.nodeType===1&&wc(n,a),Pn(n)):wc(At,a.stateNode));break;case 4:c=At,f=Ln,At=a.stateNode.containerInfo,Ln=!0,Kr(n,i,a),At=c,Ln=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&ih(a,i,v),f=f.next}while(f!==c)}Kr(n,i,a);break;case 1:if(!Mt&&($s(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){et(a,i,R)}Kr(n,i,a);break;case 21:Kr(n,i,a);break;case 22:a.mode&1?(Mt=(c=Mt)||a.memoizedState!==null,Kr(n,i,a),Mt=c):Kr(n,i,a);break;default:Kr(n,i,a)}}function Wp(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Ov),i.forEach(function(c){var f=Hv.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function On(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=n,v=i,R=v;e:for(;R!==null;){switch(R.tag){case 5:At=R.stateNode,Ln=!1;break e;case 3:At=R.stateNode.containerInfo,Ln=!0;break e;case 4:At=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(At===null)throw Error(t(160));Hp(m,v,f),At=null,Ln=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(q){et(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Qp(i,n),i=i.sibling}function Qp(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(On(i,n),Yn(n),c&4){try{oa(3,n,n.return),Ul(3,n)}catch(he){et(n,n.return,he)}try{oa(5,n,n.return)}catch(he){et(n,n.return,he)}}break;case 1:On(i,n),Yn(n),c&512&&a!==null&&$s(a,a.return);break;case 5:if(On(i,n),Yn(n),c&512&&a!==null&&$s(a,a.return),n.flags&32){var f=n.stateNode;try{Nr(f,"")}catch(he){et(n,n.return,he)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,R=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{R==="input"&&m.type==="radio"&&m.name!=null&&yo(f,m),Ao(R,v);var q=Ao(R,m);for(v=0;v<P.length;v+=2){var J=P[v],Z=P[v+1];J==="style"?Io(f,Z):J==="dangerouslySetInnerHTML"?Eo(f,Z):J==="children"?Nr(f,Z):te(f,J,Z,q)}switch(R){case"input":_o(f,m);break;case"textarea":ss(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ar(f,!!m.multiple,se,!1):X!==!!m.multiple&&(m.defaultValue!=null?ar(f,!!m.multiple,m.defaultValue,!0):ar(f,!!m.multiple,m.multiple?[]:"",!1))}f[Go]=m}catch(he){et(n,n.return,he)}}break;case 6:if(On(i,n),Yn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(he){et(n,n.return,he)}}break;case 3:if(On(i,n),Yn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(i.containerInfo)}catch(he){et(n,n.return,he)}break;case 4:On(i,n),Yn(n);break;case 13:On(i,n),Yn(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(ch=$e())),c&4&&Wp(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(Mt=(q=Mt)||J,On(i,n),Mt=q):On(i,n),Yn(n),c&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!J&&n.mode&1)for(le=n,J=n.child;J!==null;){for(Z=le=J;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:oa(4,X,X.return);break;case 1:$s(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,a=X.return;try{i=c,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){et(c,a,he)}}break;case 5:$s(X,X.return);break;case 22:if(X.memoizedState!==null){Yp(Z);continue}}se!==null?(se.return=X,le=se):Yp(Z)}J=J.sibling}e:for(J=null,Z=n;;){if(Z.tag===5){if(J===null){J=Z;try{f=Z.stateNode,q?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(R=Z.stateNode,P=Z.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,R.style.display=To("display",v))}catch(he){et(n,n.return,he)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=q?"":Z.memoizedProps}catch(he){et(n,n.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:On(i,n),Yn(n),c&4&&Wp(n);break;case 21:break;default:On(i,n),Yn(n)}}function Yn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if($p(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Nr(f,""),c.flags&=-33);var m=qp(n);ah(n,m,f);break;case 3:case 4:var v=c.stateNode.containerInfo,R=qp(n);oh(n,R,v);break;default:throw Error(t(161))}}catch(P){et(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function bv(n,i,a){le=n,Kp(n)}function Kp(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var f=le,m=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Fl;if(!v){var R=f.alternate,P=R!==null&&R.memoizedState!==null||Mt;R=Fl;var q=Mt;if(Fl=v,(Mt=P)&&!q)for(le=f;le!==null;)v=le,P=v.child,v.tag===22&&v.memoizedState!==null?Xp(f):P!==null?(P.return=v,le=P):Xp(f);for(;m!==null;)le=m,Kp(m),m=m.sibling;le=f,Fl=R,Mt=q}Gp(n)}else f.subtreeFlags&8772&&m!==null?(m.return=f,le=m):Gp(n)}}function Gp(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Mt||Ul(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Yd(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Yd(i,v,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Pn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&sh(i)}catch(X){et(i,i.return,X)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function Yp(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function Xp(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Ul(4,i)}catch(P){et(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(P){et(i,f,P)}}var m=i.return;try{sh(i)}catch(P){et(i,m,P)}break;case 5:var v=i.return;try{sh(i)}catch(P){et(i,v,P)}}}catch(P){et(i,i.return,P)}if(i===n){le=null;break}var R=i.sibling;if(R!==null){R.return=i.return,le=R;break}le=i.return}}var Fv=Math.ceil,jl=ee.ReactCurrentDispatcher,lh=ee.ReactCurrentOwner,vn=ee.ReactCurrentBatchConfig,Le=0,Et=null,lt=null,xt=0,un=0,qs=$r(0),mt=0,aa=null,Mi=0,Bl=0,uh=0,la=null,Xt=null,ch=0,Hs=1/0,Tr=null,zl=!1,hh=null,Gr=null,$l=!1,Yr=null,ql=0,ua=0,fh=null,Hl=-1,Wl=0;function $t(){return Le&6?$e():Hl!==-1?Hl:Hl=$e()}function Xr(n){return n.mode&1?Le&2&&xt!==0?xt&-xt:Ev.transition!==null?(Wl===0&&(Wl=Si()),Wl):(n=Ce,n!==0||(n=window.event,n=n===void 0?16:bo(n.type)),n):1}function Mn(n,i,a,c){if(50<ua)throw ua=0,fh=null,Error(t(185));Or(n,a,c),(!(Le&2)||n!==Et)&&(n===Et&&(!(Le&2)&&(Bl|=a),mt===4&&Jr(n,xt)),Jt(n,c),a===1&&Le===0&&!(i.mode&1)&&(Hs=$e()+500,wl&&Hr()))}function Jt(n,i){var a=n.callbackNode;cr(n,i);var c=Ii(n,n===Et?xt:0);if(c===0)a!==null&&Do(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Do(a),i===1)n.tag===0?wv(Zp.bind(null,n)):Fd(Zp.bind(null,n)),gv(function(){!(Le&6)&&Hr()}),a=null;else{switch(br(c)){case 1:a=Ei;break;case 4:a=Dr;break;case 16:a=fn;break;case 536870912:a=Wa;break;default:a=fn}a=am(a,Jp.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Jp(n,i){if(Hl=-1,Wl=0,Le&6)throw Error(t(327));var a=n.callbackNode;if(Ws()&&n.callbackNode!==a)return null;var c=Ii(n,n===Et?xt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Ql(n,c);else{i=c;var f=Le;Le|=2;var m=tm();(Et!==n||xt!==i)&&(Tr=null,Hs=$e()+500,Fi(n,i));do try{Bv();break}catch(R){em(n,R)}while(!0);kc(),jl.current=m,Le=f,lt!==null?i=0:(Et=null,xt=0,i=mt)}if(i!==0){if(i===2&&(f=rn(n),f!==0&&(c=f,i=dh(n,f))),i===1)throw a=aa,Fi(n,0),Jr(n,c),Jt(n,$e()),a;if(i===6)Jr(n,c);else{if(f=n.current.alternate,!(c&30)&&!Uv(f)&&(i=Ql(n,c),i===2&&(m=rn(n),m!==0&&(c=m,i=dh(n,m))),i===1))throw a=aa,Fi(n,0),Jr(n,c),Jt(n,$e()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Ui(n,Xt,Tr);break;case 3:if(Jr(n,c),(c&130023424)===c&&(i=ch+500-$e(),10<i)){if(Ii(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){$t(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=vc(Ui.bind(null,n,Xt,Tr),i);break}Ui(n,Xt,Tr);break;case 4:if(Jr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var v=31-jt(c);m=1<<v,v=i[v],v>f&&(f=v),c&=~m}if(c=f,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Fv(c/1960))-c,10<c){n.timeoutHandle=vc(Ui.bind(null,n,Xt,Tr),c);break}Ui(n,Xt,Tr);break;case 5:Ui(n,Xt,Tr);break;default:throw Error(t(329))}}}return Jt(n,$e()),n.callbackNode===a?Jp.bind(null,n):null}function dh(n,i){var a=la;return n.current.memoizedState.isDehydrated&&(Fi(n,i).flags|=256),n=Ql(n,i),n!==2&&(i=Xt,Xt=a,i!==null&&ph(i)),n}function ph(n){Xt===null?Xt=n:Xt.push.apply(Xt,n)}function Uv(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Nn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(n,i){for(i&=~uh,i&=~Bl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-jt(i),c=1<<a;n[a]=-1,i&=~c}}function Zp(n){if(Le&6)throw Error(t(327));Ws();var i=Ii(n,0);if(!(i&1))return Jt(n,$e()),null;var a=Ql(n,i);if(n.tag!==0&&a===2){var c=rn(n);c!==0&&(i=c,a=dh(n,c))}if(a===1)throw a=aa,Fi(n,0),Jr(n,i),Jt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Ui(n,Xt,Tr),Jt(n,$e()),null}function mh(n,i){var a=Le;Le|=1;try{return n(i)}finally{Le=a,Le===0&&(Hs=$e()+500,wl&&Hr())}}function bi(n){Yr!==null&&Yr.tag===0&&!(Le&6)&&Ws();var i=Le;Le|=1;var a=vn.transition,c=Ce;try{if(vn.transition=null,Ce=1,n)return n()}finally{Ce=c,vn.transition=a,Le=i,!(Le&6)&&Hr()}}function gh(){un=qs.current,We(qs)}function Fi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,mv(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(Rc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&_l();break;case 3:Bs(),We(Kt),We(Vt),Fc();break;case 5:Mc(c);break;case 4:Bs();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Nc(c.type._context);break;case 22:case 23:gh()}a=a.return}if(Et=n,lt=n=Zr(n.current,null),xt=un=i,mt=0,aa=null,uh=Bl=Mi=0,Xt=la=null,Vi!==null){for(i=0;i<Vi.length;i++)if(a=Vi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,c.next=v}a.pending=c}Vi=null}return n}function em(n,i){do{var a=lt;try{if(kc(),kl.current=Ll,Nl){for(var c=Xe.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Nl=!1}if(Oi=0,wt=pt=Xe=null,ta=!1,na=0,lh.current=null,a===null||a.return===null){mt=1,aa=i,lt=null;break}e:{var m=n,v=a.return,R=a,P=i;if(i=xt,R.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var q=P,J=R,Z=J.tag;if(!(J.mode&1)&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var se=Rp(v);if(se!==null){se.flags&=-257,Ap(se,v,R,m,i),se.mode&1&&Sp(m,q,i),i=se,P=q;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(P),i.updateQueue=he}else ce.add(P);break e}else{if(!(i&1)){Sp(m,q,i),yh();break e}P=Error(t(426))}}else if(Ge&&R.mode&1){var st=Rp(v);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Ap(st,v,R,m,i),Cc(zs(P,R));break e}}m=P=zs(P,R),mt!==4&&(mt=2),la===null?la=[m]:la.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var j=Tp(m,P,i);Gd(m,j);break e;case 1:R=P;var L=m.type,z=m.stateNode;if(!(m.flags&128)&&(typeof L.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Gr===null||!Gr.has(z)))){m.flags|=65536,i&=-i,m.lanes|=i;var ne=Ip(m,R,i);Gd(m,ne);break e}}m=m.return}while(m!==null)}rm(a)}catch(fe){i=fe,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function tm(){var n=jl.current;return jl.current=Ll,n===null?Ll:n}function yh(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(Mi&268435455)&&!(Bl&268435455)||Jr(Et,xt)}function Ql(n,i){var a=Le;Le|=2;var c=tm();(Et!==n||xt!==i)&&(Tr=null,Fi(n,i));do try{jv();break}catch(f){em(n,f)}while(!0);if(kc(),Le=a,jl.current=c,lt!==null)throw Error(t(261));return Et=null,xt=0,mt}function jv(){for(;lt!==null;)nm(lt)}function Bv(){for(;lt!==null&&!qa();)nm(lt)}function nm(n){var i=om(n.alternate,n,un);n.memoizedProps=n.pendingProps,i===null?rm(n):lt=i,lh.current=null}function rm(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=Lv(a,i),a!==null){a.flags&=32767,lt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,lt=null;return}}else if(a=Vv(a,i,un),a!==null){lt=a;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=n}while(i!==null);mt===0&&(mt=5)}function Ui(n,i,a){var c=Ce,f=vn.transition;try{vn.transition=null,Ce=1,zv(n,i,a,c)}finally{vn.transition=f,Ce=c}return null}function zv(n,i,a,c){do Ws();while(Yr!==null);if(Le&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Be(n,m),n===Et&&(lt=Et=null,xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||$l||($l=!0,am(fn,function(){return Ws(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=vn.transition,vn.transition=null;var v=Ce;Ce=1;var R=Le;Le|=4,lh.current=null,Mv(n,a),Qp(a,n),lv(yc),Ur=!!gc,yc=gc=null,n.current=a,bv(a),ec(),Le=R,Ce=v,vn.transition=m}else n.current=a;if($l&&($l=!1,Yr=n,ql=f),m=n.pendingLanes,m===0&&(Gr=null),Qa(a.stateNode),Jt(n,$e()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(zl)throw zl=!1,n=hh,hh=null,n;return ql&1&&n.tag!==0&&Ws(),m=n.pendingLanes,m&1?n===fh?ua++:(ua=0,fh=n):ua=0,Hr(),null}function Ws(){if(Yr!==null){var n=br(ql),i=vn.transition,a=Ce;try{if(vn.transition=null,Ce=16>n?16:n,Yr===null)var c=!1;else{if(n=Yr,Yr=null,ql=0,Le&6)throw Error(t(331));var f=Le;for(Le|=4,le=n.current;le!==null;){var m=le,v=m.child;if(le.flags&16){var R=m.deletions;if(R!==null){for(var P=0;P<R.length;P++){var q=R[P];for(le=q;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:oa(8,J,m)}var Z=J.child;if(Z!==null)Z.return=J,le=Z;else for(;le!==null;){J=le;var X=J.sibling,se=J.return;if(zp(J),J===q){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ce=m.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var st=he.sibling;he.sibling=null,he=st}while(he!==null)}}le=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,le=v;else e:for(;le!==null;){if(m=le,m.flags&2048)switch(m.tag){case 0:case 11:case 15:oa(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,le=j;break e}le=m.return}}var L=n.current;for(le=L;le!==null;){v=le;var z=v.child;if(v.subtreeFlags&2064&&z!==null)z.return=v,le=z;else e:for(v=L;le!==null;){if(R=le,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Ul(9,R)}}catch(fe){et(R,R.return,fe)}if(R===v){le=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,le=ne;break e}le=R.return}}if(Le=f,Hr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ti,n)}catch{}c=!0}return c}finally{Ce=a,vn.transition=i}}return!1}function im(n,i,a){i=zs(a,i),i=Tp(n,i,1),n=Qr(n,i,1),i=$t(),n!==null&&(Or(n,1,i),Jt(n,i))}function et(n,i,a){if(n.tag===3)im(n,n,a);else for(;i!==null;){if(i.tag===3){im(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gr===null||!Gr.has(c))){n=zs(a,n),n=Ip(i,n,1),i=Qr(i,n,1),n=$t(),i!==null&&(Or(i,1,n),Jt(i,n));break}}i=i.return}}function $v(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=$t(),n.pingedLanes|=n.suspendedLanes&a,Et===n&&(xt&a)===a&&(mt===4||mt===3&&(xt&130023424)===xt&&500>$e()-ch?Fi(n,0):uh|=a),Jt(n,i)}function sm(n,i){i===0&&(n.mode&1?(i=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):i=1);var a=$t();n=vr(n,i),n!==null&&(Or(n,i,a),Jt(n,a))}function qv(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),sm(n,a)}function Hv(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),sm(n,a)}var om;om=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Kt.current)Yt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Yt=!1,Dv(n,i,a);Yt=!!(n.flags&131072)}else Yt=!1,Ge&&i.flags&1048576&&Ud(i,Tl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;bl(n,i),n=i.pendingProps;var f=Ls(i,Vt.current);js(i,a),f=Bc(null,i,c,n,f,a);var m=zc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(c)?(m=!0,vl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Lc(i),f.updater=Ol,i.stateNode=f,f._reactInternals=i,Kc(i,c,n,a),i=Jc(null,i,c,!0,m,a)):(i.tag=0,Ge&&m&&Sc(i),zt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(bl(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Qv(c),n=Vn(c,n),f){case 0:i=Xc(null,i,c,n,a);break e;case 1:i=Dp(null,i,c,n,a);break e;case 11:i=xp(null,i,c,n,a);break e;case 14:i=Cp(null,i,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),Xc(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),Dp(n,i,c,f,a);case 3:e:{if(Vp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,Kd(n,i),Cl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=zs(Error(t(423)),i),i=Lp(n,i,c,a,f);break e}else if(c!==f){f=zs(Error(t(424)),i),i=Lp(n,i,c,a,f);break e}else for(ln=zr(i.stateNode.containerInfo.firstChild),an=i,Ge=!0,Dn=null,a=Wd(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),c===f){i=Er(n,i,a);break e}zt(n,i,c,a)}i=i.child}return i;case 5:return Xd(i),n===null&&xc(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,v=f.children,_c(c,f)?v=null:m!==null&&_c(c,m)&&(i.flags|=32),Np(n,i),zt(n,i,v,a),i.child;case 6:return n===null&&xc(i),null;case 13:return Op(n,i,a);case 4:return Oc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Fs(i,null,c,a):zt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),xp(n,i,c,f,a);case 7:return zt(n,i,i.pendingProps,a),i.child;case 8:return zt(n,i,i.pendingProps.children,a),i.child;case 12:return zt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,v=f.value,qe(Rl,c._currentValue),c._currentValue=v,m!==null)if(Nn(m.value,v)){if(m.children===f.children&&!Kt.current){i=Er(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var R=m.dependencies;if(R!==null){v=m.child;for(var P=R.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=wr(-1,a&-a),P.tag=2;var q=m.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?P.next=P:(P.next=J.next,J.next=P),q.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Dc(m.return,a,i),R.lanes|=a;break}P=P.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),Dc(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}zt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,js(i,a),f=yn(f),c=c(f),i.flags|=1,zt(n,i,c,a),i.child;case 14:return c=i.type,f=Vn(c,i.pendingProps),f=Vn(c.type,f),Cp(n,i,c,f,a);case 15:return Pp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Vn(c,f),bl(n,i),i.tag=1,Gt(c)?(n=!0,vl(i)):n=!1,js(i,a),wp(i,c,f),Kc(i,c,f,a),Jc(null,i,c,!0,n,a);case 19:return bp(n,i,a);case 22:return kp(n,i,a)}throw Error(t(156,i.tag))};function am(n,i){return ds(n,i)}function Wv(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,i,a,c){return new Wv(n,i,a,c)}function _h(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qv(n){if(typeof n=="function")return _h(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===Nt)return 14}return 2}function Zr(n,i){var a=n.alternate;return a===null?(a=wn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Kl(n,i,a,c,f,m){var v=2;if(c=n,typeof n=="function")_h(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case C:return ji(a.children,f,m,i);case S:v=8,f|=8;break;case A:return n=wn(12,a,i,f|2),n.elementType=A,n.lanes=m,n;case x:return n=wn(13,a,i,f),n.elementType=x,n.lanes=m,n;case rt:return n=wn(19,a,i,f),n.elementType=rt,n.lanes=m,n;case je:return Gl(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:v=10;break e;case M:v=9;break e;case F:v=11;break e;case Nt:v=14;break e;case Dt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=wn(v,a,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function ji(n,i,a,c){return n=wn(7,n,c,i),n.lanes=a,n}function Gl(n,i,a,c){return n=wn(22,n,c,i),n.elementType=je,n.lanes=a,n.stateNode={isHidden:!1},n}function vh(n,i,a){return n=wn(6,n,null,i),n.lanes=a,n}function wh(n,i,a){return i=wn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Kv(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lr(0),this.expirationTimes=Lr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Eh(n,i,a,c,f,m,v,R,P){return n=new Kv(n,i,a,R,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=wn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(m),n}function Gv(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function lm(n){if(!n)return qr;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return Md(n,a,i)}return i}function um(n,i,a,c,f,m,v,R,P){return n=Eh(a,c,!0,n,f,m,v,R,P),n.context=lm(null),a=n.current,c=$t(),f=Xr(a),m=wr(c,f),m.callback=i??null,Qr(a,m,f),n.current.lanes=f,Or(n,f,c),Jt(n,c),n}function Yl(n,i,a,c){var f=i.current,m=$t(),v=Xr(f);return a=lm(a),i.context===null?i.context=a:i.pendingContext=a,i=wr(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Qr(f,i,v),n!==null&&(Mn(n,f,v,m),xl(n,f,v)),v}function Xl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Th(n,i){cm(n,i),(n=n.alternate)&&cm(n,i)}var hm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ih(n){this._internalRoot=n}Jl.prototype.render=Ih.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Yl(n,i,null,null)},Jl.prototype.unmount=Ih.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;bi(function(){Yl(null,n,null,null)}),i[mr]=null}};function Jl(n){this._internalRoot=n}Jl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ja();n={blockedOn:null,target:n,priority:i};for(var a=0;a<$n.length&&i!==0&&i<$n[a].priority;a++);$n.splice(a,0,n),a===0&&tl(n)}};function Sh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fm(){}function Yv(n,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var q=Xl(v);m.call(q)}}var v=um(i,c,n,0,null,!1,!1,"",fm);return n._reactRootContainer=v,n[mr]=v.current,Qo(n.nodeType===8?n.parentNode:n),bi(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var R=c;c=function(){var q=Xl(P);R.call(q)}}var P=Eh(n,0,!1,null,null,!1,!1,"",fm);return n._reactRootContainer=P,n[mr]=P.current,Qo(n.nodeType===8?n.parentNode:n),bi(function(){Yl(i,P,a,c)}),P}function eu(n,i,a,c,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var R=f;f=function(){var P=Xl(v);R.call(P)}}Yl(i,v,n,f)}else v=Yv(a,i,n,f,c);return Xl(v)}Ya=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Vr(i.pendingLanes);a!==0&&(Mr(i,a|1),Jt(i,$e()),!(Le&6)&&(Hs=$e()+500,Hr()))}break;case 13:bi(function(){var c=vr(n,1);if(c!==null){var f=$t();Mn(c,n,1,f)}}),Th(n,1)}},gs=function(n){if(n.tag===13){var i=vr(n,134217728);if(i!==null){var a=$t();Mn(i,n,134217728,a)}Th(n,134217728)}},Xa=function(n){if(n.tag===13){var i=Xr(n),a=vr(n,i);if(a!==null){var c=$t();Mn(a,n,i,c)}Th(n,i)}},Ja=function(){return Ce},Za=function(n,i){var a=Ce;try{return Ce=n,i()}finally{Ce=a}},as=function(n,i,a){switch(i){case"input":if(_o(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=yl(c);if(!f)throw Error(t(90));ts(c),_o(c,f)}}}break;case"textarea":ss(n,a);break;case"select":i=a.value,i!=null&&ar(n,!!a.multiple,i,!1)}},yi=mh,Co=bi;var Xv={usingClientEntryPoint:!1,Events:[Yo,Ds,yl,Bn,xo,mh]},ca={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jv={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=No(n),n===null?null:n.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Ti=tu.inject(Jv),nn=tu}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xv,Zt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(i))throw Error(t(200));return Gv(n,i,null,a)},Zt.createRoot=function(n,i){if(!Sh(n))throw Error(t(299));var a=!1,c="",f=hm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Eh(n,1,!1,null,null,a,!1,c,f),n[mr]=i.current,Qo(n.nodeType===8?n.parentNode:n),new Ih(i)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=No(i),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return bi(n)},Zt.hydrate=function(n,i,a){if(!Zl(i))throw Error(t(200));return eu(null,n,i,!0,a)},Zt.hydrateRoot=function(n,i,a){if(!Sh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",v=hm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=um(i,null,n,1,a??null,f,!1,m,v),n[mr]=i.current,Qo(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Jl(i)},Zt.render=function(n,i,a){if(!Zl(i))throw Error(t(200));return eu(null,n,i,!1,a)},Zt.unmountComponentAtNode=function(n){if(!Zl(n))throw Error(t(40));return n._reactRootContainer?(bi(function(){eu(null,null,n,!1,function(){n._reactRootContainer=null,n[mr]=null})}),!0):!1},Zt.unstable_batchedUpdates=mh,Zt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Zl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return eu(n,i,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var wm;function ow(){if(wm)return xh.exports;wm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xh.exports=sw(),xh.exports}var Em;function aw(){if(Em)return nu;Em=1;var r=ow();return nu.createRoot=r.createRoot,nu.hydrateRoot=r.hydrateRoot,nu}var lw=aw();const Dg=$.createContext(void 0),uw=({children:r})=>{const[e,t]=$.useState(null);return O.jsx(Dg.Provider,{value:{username:e,setUsername:t},children:r})},Qi=()=>{const r=$.useContext(Dg);if(!r)throw new Error("useUser must be used within a UserProvider");return r};var fa={},Tm;function cw(){if(Tm)return fa;Tm=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.parse=h,fa.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,N){const k=new u,B=I.length;if(B<2)return k;const V=(N==null?void 0:N.decode)||w;let H=0;do{const Q=I.indexOf("=",H);if(Q===-1)break;const te=I.indexOf(";",H),ee=te===-1?B:te;if(Q>ee){H=I.lastIndexOf(";",Q-1)+1;continue}const de=d(I,H,Q),pe=g(I,Q,de),C=I.slice(de,pe);if(k[C]===void 0){let S=d(I,Q+1,ee),A=g(I,ee,S);const D=V(I.slice(S,A));k[C]=D}H=ee+1}while(H<B);return k}function d(I,N,k){do{const B=I.charCodeAt(N);if(B!==32&&B!==9)return N}while(++N<k);return k}function g(I,N,k){for(;N>k;){const B=I.charCodeAt(--N);if(B!==32&&B!==9)return N+1}return k}function y(I,N,k){const B=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const V=B(N);if(!e.test(V))throw new TypeError(`argument val is invalid: ${N}`);let H=I+"="+V;if(!k)return H;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);H+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);H+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);H+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);H+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(H+="; HttpOnly"),k.secure&&(H+="; Secure"),k.partitioned&&(H+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return H}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return fa}cw();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Im="popstate";function hw(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return zh("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Sa(o)}return dw(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function Sm(r,e){return{usr:r.state,key:r.key,idx:e}}function zh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:t,key:e&&e.key||s||fw()}}function Sa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function co(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function dw(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){d="POP";let V=w(),H=V==null?null:V-y;y=V,g&&g({action:d,location:B.location,delta:H})}function I(V,H){d="PUSH";let Q=zh(B.location,V,H);y=w()+1;let te=Sm(Q,y),ee=B.createHref(Q);try{h.pushState(te,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ee)}u&&g&&g({action:d,location:B.location,delta:1})}function N(V,H){d="REPLACE";let Q=zh(B.location,V,H);y=w();let te=Sm(Q,y),ee=B.createHref(Q);h.replaceState(te,"",ee),u&&g&&g({action:d,location:B.location,delta:0})}function k(V){let H=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof V=="string"?V:Sa(V);return Q=Q.replace(/ $/,"%20"),Je(H,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,H)}let B={get action(){return d},get location(){return r(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Im,T),g=V,()=>{o.removeEventListener(Im,T),g=null}},createHref(V){return e(o,V)},createURL:k,encodeLocation(V){let H=k(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:N,go(V){return h.go(V)}};return B}function Vg(r,e,t="/"){return pw(r,e,t,!1)}function pw(r,e,t,s){let o=typeof e=="string"?co(e):e,u=ai(o.pathname||"/",t);if(u==null)return null;let h=Lg(r);mw(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let y=Aw(u);d=Sw(h[g],y,s)}return d}function Lg(r,e=[],t=[],s=""){let o=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Ir([s,g.relativePath]),w=t.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Lg(u.children,e,w,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Tw(y,u.index),routesMeta:w})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let g of Og(u.path))o(u,h,g)}),e}function Og(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Og(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function mw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Iw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var gw=/^:[\w-]+$/,yw=3,_w=2,vw=1,ww=10,Ew=-2,Rm=r=>r==="*";function Tw(r,e){let t=r.split("/"),s=t.length;return t.some(Rm)&&(s+=Ew),e&&(s+=_w),t.filter(o=>!Rm(o)).reduce((o,u)=>o+(gw.test(u)?yw:u===""?vw:ww),s)}function Iw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Sw(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],y=d===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",T=wu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),I=g.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=wu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ir([u,T.pathname]),pathnameBase:kw(Ir([u,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(u=Ir([u,T.pathnameBase]))}return h}function wu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Rw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:T},I)=>{if(w==="*"){let k=d[I]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const N=d[I];return T&&!N?y[w]=void 0:y[w]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function Rw(r,e=!1,t=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Aw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ai(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function xw(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?co(r):r;return{pathname:t?t.startsWith("/")?t:Cw(t,e):e,search:Nw(s),hash:Dw(o)}}function Cw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function kh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mg(r){let e=Pw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function bg(r,e,t,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),kh("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),kh("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),kh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let g=xw(o,d),y=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Ir=r=>r.join("/").replace(/\/\/+/g,"/"),kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Nw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Dw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Fg=["POST","PUT","PATCH","DELETE"];new Set(Fg);var Lw=["GET",...Fg];new Set(Lw);var ho=$.createContext(null);ho.displayName="DataRouter";var Lu=$.createContext(null);Lu.displayName="DataRouterState";var Ug=$.createContext({isTransitioning:!1});Ug.displayName="ViewTransition";var Ow=$.createContext(new Map);Ow.displayName="Fetchers";var Mw=$.createContext(null);Mw.displayName="Await";var ir=$.createContext(null);ir.displayName="Navigation";var Va=$.createContext(null);Va.displayName="Location";var Pr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var pf=$.createContext(null);pf.displayName="RouteError";function bw(r,{relative:e}={}){Je(La(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(ir),{hash:o,pathname:u,search:h}=Oa(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Ir([t,u])),s.createHref({pathname:d,search:h,hash:o})}function La(){return $.useContext(Va)!=null}function Ki(){return Je(La(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Va).location}var jg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bg(r){$.useContext(ir).static||$.useLayoutEffect(r)}function zg(){let{isDataRoute:r}=$.useContext(Pr);return r?Yw():Fw()}function Fw(){Je(La(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(ho),{basename:e,navigator:t}=$.useContext(ir),{matches:s}=$.useContext(Pr),{pathname:o}=Ki(),u=JSON.stringify(Mg(s)),h=$.useRef(!1);return Bg(()=>{h.current=!0}),$.useCallback((g,y={})=>{if(nr(h.current,jg),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=bg(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ir([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,u,o,r])}$.createContext(null);function Oa(r,{relative:e}={}){let{matches:t}=$.useContext(Pr),{pathname:s}=Ki(),o=JSON.stringify(Mg(t));return $.useMemo(()=>bg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Uw(r,e){return $g(r,e)}function $g(r,e,t,s){var H;Je(La(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(ir),{matches:u}=$.useContext(Pr),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let Q=w&&w.path||"";qg(g,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let T=Ki(),I;if(e){let Q=typeof e=="string"?co(e):e;Je(y==="/"||((H=Q.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),I=Q}else I=T;let N=I.pathname||"/",k=N;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(Q.length).join("/")}let B=Vg(r,{pathname:k});nr(w||B!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),nr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=qw(B&&B.map(Q=>Object.assign({},Q,{params:Object.assign({},d,Q.params),pathname:Ir([y,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:Ir([y,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,t,s);return e&&V?$.createElement(Va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},V):V}function jw(){let r=Gw(),e=Vw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,h)}var Bw=$.createElement(jw,null),zw=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?$.createElement(Pr.Provider,{value:this.props.routeContext},$.createElement(pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $w({routeContext:r,match:e,children:t}){let s=$.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Pr.Provider,{value:r},t)}function qw(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:w,errors:T}=t,I=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,w)=>{let T,I=!1,N=null,k=null;t&&(T=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||Bw,h&&(d<0&&w===0?(qg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):d===w&&(I=!0,k=y.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,w+1)),V=()=>{let H;return T?H=N:I?H=k:y.route.Component?H=$.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,$.createElement($w,{match:y,routeContext:{outlet:g,matches:B,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?$.createElement(zw,{location:t.location,revalidation:t.revalidation,component:N,error:T,children:V(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):V()},null)}function mf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(r){let e=$.useContext(ho);return Je(e,mf(r)),e}function Ww(r){let e=$.useContext(Lu);return Je(e,mf(r)),e}function Qw(r){let e=$.useContext(Pr);return Je(e,mf(r)),e}function gf(r){let e=Qw(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Kw(){return gf("useRouteId")}function Gw(){var s;let r=$.useContext(pf),e=Ww("useRouteError"),t=gf("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Yw(){let{router:r}=Hw("useNavigate"),e=gf("useNavigate"),t=$.useRef(!1);return Bg(()=>{t.current=!0}),$.useCallback(async(o,u={})=>{nr(t.current,jg),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Am={};function qg(r,e,t){!e&&!Am[r]&&(Am[r]=!0,nr(!1,t))}$.memo(Xw);function Xw({routes:r,future:e,state:t}){return $g(r,void 0,t,e)}function Qs(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jw({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!La(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=co(t));let{pathname:g="/",search:y="",hash:w="",state:T=null,key:I="default"}=t,N=$.useMemo(()=>{let k=ai(g,h);return k==null?null:{location:{pathname:k,search:y,hash:w,state:T,key:I},navigationType:s}},[h,g,y,w,T,I,s]);return nr(N!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(ir.Provider,{value:d},$.createElement(Va.Provider,{children:e,value:N}))}function Zw({children:r,location:e}){return Uw($h(r),e)}function $h(r,e=[]){let t=[];return $.Children.forEach(r,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){t.push.apply(t,$h(s.props.children,u));return}Je(s.type===Qs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=$h(s.props.children,u)),t.push(h)}),t}var hu="get",fu="application/x-www-form-urlencoded";function Ou(r){return r!=null&&typeof r.tagName=="string"}function eE(r){return Ou(r)&&r.tagName.toLowerCase()==="button"}function tE(r){return Ou(r)&&r.tagName.toLowerCase()==="form"}function nE(r){return Ou(r)&&r.tagName.toLowerCase()==="input"}function rE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iE(r,e){return r.button===0&&(!e||e==="_self")&&!rE(r)}var ru=null;function sE(){if(ru===null)try{new FormData(document.createElement("form"),0),ru=!1}catch{ru=!0}return ru}var oE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nh(r){return r!=null&&!oE.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):r}function aE(r,e){let t,s,o,u,h;if(tE(r)){let d=r.getAttribute("action");s=d?ai(d,e):null,t=r.getAttribute("method")||hu,o=Nh(r.getAttribute("enctype"))||fu,u=new FormData(r)}else if(eE(r)||nE(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?ai(g,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||hu,o=Nh(r.getAttribute("formenctype"))||Nh(d.getAttribute("enctype"))||fu,u=new FormData(d,r),!sE()){let{name:y,type:w,value:T}=r;if(w==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,T)}}else{if(Ou(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hu,s=null,o=fu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function yf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function lE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cE(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await lE(u,t);return h.links?h.links():[]}return[]}));return pE(s.flat(1).filter(uE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xm(r,e,t,s,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,d=(g,y)=>{var w;return t[y].pathname!==g.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||d(g,y)):u==="data"?e.filter((g,y)=>{var T;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function hE(r,e){return fE(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function fE(r){return[...new Set(r)]}function dE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function pE(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(dE(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function mE(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gE(){let r=$.useContext(ho);return yf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yE(){let r=$.useContext(Lu);return yf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _f=$.createContext(void 0);_f.displayName="FrameworkContext";function Hg(){let r=$.useContext(_f);return yf(r,"You must render this element inside a <HydratedRouter> element"),r}function _E(r,e){let t=$.useContext(_f),[s,o]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,I=$.useRef(null);$.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=H=>{H.forEach(Q=>{h(Q.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return I.current&&V.observe(I.current),()=>{V.disconnect()}}},[r]),$.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let N=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,I,{}]:[u,I,{onFocus:da(d,N),onBlur:da(g,k),onMouseEnter:da(y,N),onMouseLeave:da(w,k),onTouchStart:da(T,N)}]:[!1,I,{}]}function da(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function vE({page:r,...e}){let{router:t}=gE(),s=$.useMemo(()=>Vg(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?$.createElement(EE,{page:r,matches:s,...e}):null}function wE(r){let{manifest:e,routeModules:t}=Hg(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return cE(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function EE({page:r,matches:e,...t}){let s=Ki(),{manifest:o,routeModules:u}=Hg(),{loaderData:h,matches:d}=yE(),g=$.useMemo(()=>xm(r,e,d,o,s,"data"),[r,e,d,o,s]),y=$.useMemo(()=>xm(r,e,d,o,s,"assets"),[r,e,d,o,s]),w=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,k=!1;if(e.forEach(V=>{var Q;let H=o.routes[V.route.id];!H||!H.hasLoader||(!g.some(te=>te.route.id===V.route.id)&&V.route.id in h&&((Q=u[V.route.id])!=null&&Q.shouldRevalidate)||H.hasClientLoader?k=!0:N.add(V.route.id))}),N.size===0)return[];let B=mE(r);return k&&N.size>0&&B.searchParams.set("_routes",e.filter(V=>N.has(V.route.id)).map(V=>V.route.id).join(",")),[B.pathname+B.search]},[h,s,o,g,e,r,u]),T=$.useMemo(()=>hE(y,o),[y,o]),I=wE(y);return $.createElement($.Fragment,null,w.map(N=>$.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),T.map(N=>$.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),I.map(({key:N,link:k})=>$.createElement("link",{key:N,...k})))}function TE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wg&&(window.__reactRouterVersion="7.1.1")}catch{}function IE({basename:r,children:e,window:t}){let s=$.useRef();s.current==null&&(s.current=hw({window:t,v5Compat:!0}));let o=s.current,[u,h]=$.useState({action:o.action,location:o.location}),d=$.useCallback(g=>{$.startTransition(()=>h(g))},[h]);return $.useLayoutEffect(()=>o.listen(d),[o,d]),$.createElement(Jw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eo=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:g,to:y,preventScrollReset:w,viewTransition:T,...I},N){let{basename:k}=$.useContext(ir),B=typeof y=="string"&&Qg.test(y),V,H=!1;if(typeof y=="string"&&B&&(V=y,Wg))try{let A=new URL(window.location.href),D=y.startsWith("//")?new URL(A.protocol+y):new URL(y),M=ai(D.pathname,k);D.origin===A.origin&&M!=null?y=M+D.search+D.hash:H=!0}catch{nr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=bw(y,{relative:o}),[te,ee,de]=_E(s,I),pe=xE(y,{replace:h,state:d,target:g,preventScrollReset:w,relative:o,viewTransition:T});function C(A){e&&e(A),A.defaultPrevented||pe(A)}let S=$.createElement("a",{...I,...de,href:V||Q,onClick:H||u?e:C,ref:TE(N,ee),target:g,"data-discover":!B&&t==="render"?"true":void 0});return te&&!B?$.createElement($.Fragment,null,S,$.createElement(vE,{page:Q})):S});eo.displayName="Link";var SE=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:g,...y},w){let T=Oa(h,{relative:y.relative}),I=Ki(),N=$.useContext(Lu),{navigator:k,basename:B}=$.useContext(ir),V=N!=null&&DE(T)&&d===!0,H=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,Q=I.pathname,te=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),te=te?te.toLowerCase():null,H=H.toLowerCase()),te&&B&&(te=ai(te,B)||te);const ee=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let de=Q===H||!o&&Q.startsWith(H)&&Q.charAt(ee)==="/",pe=te!=null&&(te===H||!o&&te.startsWith(H)&&te.charAt(H.length)==="/"),C={isActive:de,isPending:pe,isTransitioning:V},S=de?e:void 0,A;typeof s=="function"?A=s(C):A=[s,de?"active":null,pe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(C):u;return $.createElement(eo,{...y,"aria-current":S,className:A,ref:w,style:D,to:h,viewTransition:d},typeof g=="function"?g(C):g)});SE.displayName="NavLink";var RE=$.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=hu,action:d,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:T,...I},N)=>{let k=kE(),B=NE(d,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Qg.test(d),Q=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let ee=te.nativeEvent.submitter,de=(ee==null?void 0:ee.getAttribute("formmethod"))||h;k(ee||te.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:T})};return $.createElement("form",{ref:N,method:V,action:B,onSubmit:s?g:Q,...I,"data-discover":!H&&r==="render"?"true":void 0})});RE.displayName="Form";function AE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kg(r){let e=$.useContext(ho);return Je(e,AE(r)),e}function xE(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=zg(),g=Ki(),y=Oa(r,{relative:u});return $.useCallback(w=>{if(iE(w,e)){w.preventDefault();let T=t!==void 0?t:Sa(g)===Sa(y);d(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,d,y,t,s,e,r,o,u,h])}var CE=0,PE=()=>`__${String(++CE)}__`;function kE(){let{router:r}=Kg("useSubmit"),{basename:e}=$.useContext(ir),t=Kw();return $.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:g,body:y}=aE(s,e);if(o.navigate===!1){let w=o.fetcherKey||PE();await r.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function NE(r,{relative:e}={}){let{basename:t}=$.useContext(ir),s=$.useContext(Pr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Oa(r||".",{relative:e})},h=Ki();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(w=>w==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let w=d.toString();u.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ir([t,u.pathname])),Sa(u)}function DE(r,e={}){let t=$.useContext(Ug);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Kg("useViewTransitionState"),o=Oa(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ai(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ai(t.nextLocation.pathname,s)||t.nextLocation.pathname;return wu(o.pathname,h)!=null||wu(o.pathname,u)!=null}new TextEncoder;function VE(){return O.jsx(O.Fragment,{children:O.jsxs("div",{role:"alert",className:"alert alert-error",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),O.jsx("span",{children:"Warning: Invalid username or password!"})]})})}var Cm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},LE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Yg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=u>>2,T=(u&3)<<4|d>>4;let I=(d&15)<<2|y>>6,N=y&63;g||(N=64,h||(I=64)),s.push(t[w],t[T],t[I],t[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Gg(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||y==null||T==null)throw new OE;const I=u<<2|d>>4;if(s.push(I),y!==64){const N=d<<4&240|y>>2;if(s.push(N),T!==64){const k=y<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ME=function(r){const e=Gg(r);return Yg.encodeByteArray(e,!0)},Eu=function(r){return ME(r).replace(/\./g,"")},bE=function(r){try{return Yg.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=()=>FE().__FIREBASE_DEFAULTS__,jE=()=>{if(typeof process>"u"||typeof Cm>"u")return;const r=Cm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bE(r[1]);return e&&JSON.parse(e)},vf=()=>{try{return UE()||jE()||BE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>{var e,t;return(t=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Xg=r=>{const e=zE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Jg=()=>{var r;return(r=vf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eu(JSON.stringify(t)),Eu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HE(){var r;const e=(r=vf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WE(){return!HE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="FirebaseError";class Gi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=GE,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ey.prototype.create)}}class ey{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?YE(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Gi(o,d,s)}}function YE(r,e){return r.replace(XE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const XE=/\{\$([^}]+)}/g;function qh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Pm(u)&&Pm(h)){if(!qh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Pm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r){return r&&r._delegate?r._delegate:r}class to{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new $E;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e0(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZE(r){return r===Bi?void 0:r}function e0(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const n0={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},r0=Ve.INFO,i0={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},s0=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=i0[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=r0,this._logHandler=s0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const o0=(r,e)=>e.some(t=>r instanceof t);let km,Nm;function a0(){return km||(km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l0(){return Nm||(Nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ny=new WeakMap,Hh=new WeakMap,ry=new WeakMap,Dh=new WeakMap,wf=new WeakMap;function u0(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ri(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ny.set(t,r)}).catch(()=>{}),wf.set(e,r),e}function c0(r){if(Hh.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Hh.set(r,e)}let Wh={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Hh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ry.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ri(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function h0(r){Wh=r(Wh)}function f0(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Vh(this),e,...t);return ry.set(s,e.sort?e.sort():[e]),ri(s)}:l0().includes(r)?function(...e){return r.apply(Vh(this),e),ri(ny.get(this))}:function(...e){return ri(r.apply(Vh(this),e))}}function d0(r){return typeof r=="function"?f0(r):(r instanceof IDBTransaction&&c0(r),o0(r,a0())?new Proxy(r,Wh):r)}function ri(r){if(r instanceof IDBRequest)return u0(r);if(Dh.has(r))return Dh.get(r);const e=d0(r);return e!==r&&(Dh.set(r,e),wf.set(e,r)),e}const Vh=r=>wf.get(r);function p0(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=ri(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ri(h.result),g.oldVersion,g.newVersion,ri(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const m0=["get","getKey","getAll","getAllKeys","count"],g0=["put","add","delete","clear"],Lh=new Map;function Dm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lh.get(e))return Lh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=g0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||m0.includes(t)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&g.done]))[0]};return Lh.set(e,u),u}h0(r=>({...r,get:(e,t,s)=>Dm(e,t)||r.get(e,t,s),has:(e,t)=>!!Dm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function _0(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qh="@firebase/app",Vm="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new ty("@firebase/app"),v0="@firebase/app-compat",w0="@firebase/analytics-compat",E0="@firebase/analytics",T0="@firebase/app-check-compat",I0="@firebase/app-check",S0="@firebase/auth",R0="@firebase/auth-compat",A0="@firebase/database",x0="@firebase/data-connect",C0="@firebase/database-compat",P0="@firebase/functions",k0="@firebase/functions-compat",N0="@firebase/installations",D0="@firebase/installations-compat",V0="@firebase/messaging",L0="@firebase/messaging-compat",O0="@firebase/performance",M0="@firebase/performance-compat",b0="@firebase/remote-config",F0="@firebase/remote-config-compat",U0="@firebase/storage",j0="@firebase/storage-compat",B0="@firebase/firestore",z0="@firebase/vertexai",$0="@firebase/firestore-compat",q0="firebase",H0="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="[DEFAULT]",W0={[Qh]:"fire-core",[v0]:"fire-core-compat",[E0]:"fire-analytics",[w0]:"fire-analytics-compat",[I0]:"fire-app-check",[T0]:"fire-app-check-compat",[S0]:"fire-auth",[R0]:"fire-auth-compat",[A0]:"fire-rtdb",[x0]:"fire-data-connect",[C0]:"fire-rtdb-compat",[P0]:"fire-fn",[k0]:"fire-fn-compat",[N0]:"fire-iid",[D0]:"fire-iid-compat",[V0]:"fire-fcm",[L0]:"fire-fcm-compat",[O0]:"fire-perf",[M0]:"fire-perf-compat",[b0]:"fire-rc",[F0]:"fire-rc-compat",[U0]:"fire-gcs",[j0]:"fire-gcs-compat",[B0]:"fire-fst",[$0]:"fire-fst-compat",[z0]:"fire-vertex","fire-js":"fire-js",[q0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,Q0=new Map,Gh=new Map;function Lm(r,e){try{r.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ra(r){const e=r.name;if(Gh.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,r);for(const t of Tu.values())Lm(t,r);for(const t of Q0.values())Lm(t,r);return!0}function iy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new ey("app","Firebase",K0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=H0;function oy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kh,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ii.create("bad-app-name",{appName:String(o)});if(t||(t=Jg()),!t)throw ii.create("no-options");const u=Tu.get(o);if(u){if(qh(t,u.options)&&qh(s,u.config))return u;throw ii.create("duplicate-app",{appName:o})}const h=new t0(o);for(const g of Gh.values())h.addComponent(g);const d=new G0(t,s,h);return Tu.set(o,d),d}function ay(r=Kh){const e=Tu.get(r);if(!e&&r===Kh&&Jg())return oy();if(!e)throw ii.create("no-app",{appName:r});return e}function si(r,e,t){var s;let o=(s=W0[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(d.join(" "));return}Ra(new to(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="firebase-heartbeat-database",X0=1,Aa="firebase-heartbeat-store";let Oh=null;function ly(){return Oh||(Oh=p0(Y0,X0,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Aa)}catch(t){console.warn(t)}}}}).catch(r=>{throw ii.create("idb-open",{originalErrorMessage:r.message})})),Oh}async function J0(r){try{const t=(await ly()).transaction(Aa),s=await t.objectStore(Aa).get(uy(r));return await t.done,s}catch(e){if(e instanceof Gi)Ar.warn(e.message);else{const t=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(t.message)}}}async function Om(r,e){try{const s=(await ly()).transaction(Aa,"readwrite");await s.objectStore(Aa).put(e,uy(r)),await s.done}catch(t){if(t instanceof Gi)Ar.warn(t.message);else{const s=ii.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ar.warn(s.message)}}}function uy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=1024,eT=30*24*60*60*1e3;class tT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=eT}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Ar.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mm(),{heartbeatsToSend:s,unsentEntries:o}=nT(this._heartbeatsCache.heartbeats),u=Eu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ar.warn(t),""}}}function Mm(){return new Date().toISOString().substring(0,10)}function nT(r,e=Z0){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),bm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),bm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class rT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await J0(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Om(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Om(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bm(r){return Eu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r){Ra(new to("platform-logger",e=>new y0(e),"PRIVATE")),Ra(new to("heartbeat",e=>new tT(e),"PRIVATE")),si(Qh,Vm,r),si(Qh,Vm,"esm2017"),si("fire-js","")}iT("");var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $i,cy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function A(){}A.prototype=S.prototype,C.D=S.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(D,M,F){for(var x=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)x[rt-2]=arguments[rt];return S.prototype[M].apply(D,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)D[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=C.g[0],A=C.g[1],M=C.g[2];var F=C.g[3],x=S+(F^A&(M^F))+D[0]+3614090360&4294967295;S=A+(x<<7&4294967295|x>>>25),x=F+(M^S&(A^M))+D[1]+3905402710&4294967295,F=S+(x<<12&4294967295|x>>>20),x=M+(A^F&(S^A))+D[2]+606105819&4294967295,M=F+(x<<17&4294967295|x>>>15),x=A+(S^M&(F^S))+D[3]+3250441966&4294967295,A=M+(x<<22&4294967295|x>>>10),x=S+(F^A&(M^F))+D[4]+4118548399&4294967295,S=A+(x<<7&4294967295|x>>>25),x=F+(M^S&(A^M))+D[5]+1200080426&4294967295,F=S+(x<<12&4294967295|x>>>20),x=M+(A^F&(S^A))+D[6]+2821735955&4294967295,M=F+(x<<17&4294967295|x>>>15),x=A+(S^M&(F^S))+D[7]+4249261313&4294967295,A=M+(x<<22&4294967295|x>>>10),x=S+(F^A&(M^F))+D[8]+1770035416&4294967295,S=A+(x<<7&4294967295|x>>>25),x=F+(M^S&(A^M))+D[9]+2336552879&4294967295,F=S+(x<<12&4294967295|x>>>20),x=M+(A^F&(S^A))+D[10]+4294925233&4294967295,M=F+(x<<17&4294967295|x>>>15),x=A+(S^M&(F^S))+D[11]+2304563134&4294967295,A=M+(x<<22&4294967295|x>>>10),x=S+(F^A&(M^F))+D[12]+1804603682&4294967295,S=A+(x<<7&4294967295|x>>>25),x=F+(M^S&(A^M))+D[13]+4254626195&4294967295,F=S+(x<<12&4294967295|x>>>20),x=M+(A^F&(S^A))+D[14]+2792965006&4294967295,M=F+(x<<17&4294967295|x>>>15),x=A+(S^M&(F^S))+D[15]+1236535329&4294967295,A=M+(x<<22&4294967295|x>>>10),x=S+(M^F&(A^M))+D[1]+4129170786&4294967295,S=A+(x<<5&4294967295|x>>>27),x=F+(A^M&(S^A))+D[6]+3225465664&4294967295,F=S+(x<<9&4294967295|x>>>23),x=M+(S^A&(F^S))+D[11]+643717713&4294967295,M=F+(x<<14&4294967295|x>>>18),x=A+(F^S&(M^F))+D[0]+3921069994&4294967295,A=M+(x<<20&4294967295|x>>>12),x=S+(M^F&(A^M))+D[5]+3593408605&4294967295,S=A+(x<<5&4294967295|x>>>27),x=F+(A^M&(S^A))+D[10]+38016083&4294967295,F=S+(x<<9&4294967295|x>>>23),x=M+(S^A&(F^S))+D[15]+3634488961&4294967295,M=F+(x<<14&4294967295|x>>>18),x=A+(F^S&(M^F))+D[4]+3889429448&4294967295,A=M+(x<<20&4294967295|x>>>12),x=S+(M^F&(A^M))+D[9]+568446438&4294967295,S=A+(x<<5&4294967295|x>>>27),x=F+(A^M&(S^A))+D[14]+3275163606&4294967295,F=S+(x<<9&4294967295|x>>>23),x=M+(S^A&(F^S))+D[3]+4107603335&4294967295,M=F+(x<<14&4294967295|x>>>18),x=A+(F^S&(M^F))+D[8]+1163531501&4294967295,A=M+(x<<20&4294967295|x>>>12),x=S+(M^F&(A^M))+D[13]+2850285829&4294967295,S=A+(x<<5&4294967295|x>>>27),x=F+(A^M&(S^A))+D[2]+4243563512&4294967295,F=S+(x<<9&4294967295|x>>>23),x=M+(S^A&(F^S))+D[7]+1735328473&4294967295,M=F+(x<<14&4294967295|x>>>18),x=A+(F^S&(M^F))+D[12]+2368359562&4294967295,A=M+(x<<20&4294967295|x>>>12),x=S+(A^M^F)+D[5]+4294588738&4294967295,S=A+(x<<4&4294967295|x>>>28),x=F+(S^A^M)+D[8]+2272392833&4294967295,F=S+(x<<11&4294967295|x>>>21),x=M+(F^S^A)+D[11]+1839030562&4294967295,M=F+(x<<16&4294967295|x>>>16),x=A+(M^F^S)+D[14]+4259657740&4294967295,A=M+(x<<23&4294967295|x>>>9),x=S+(A^M^F)+D[1]+2763975236&4294967295,S=A+(x<<4&4294967295|x>>>28),x=F+(S^A^M)+D[4]+1272893353&4294967295,F=S+(x<<11&4294967295|x>>>21),x=M+(F^S^A)+D[7]+4139469664&4294967295,M=F+(x<<16&4294967295|x>>>16),x=A+(M^F^S)+D[10]+3200236656&4294967295,A=M+(x<<23&4294967295|x>>>9),x=S+(A^M^F)+D[13]+681279174&4294967295,S=A+(x<<4&4294967295|x>>>28),x=F+(S^A^M)+D[0]+3936430074&4294967295,F=S+(x<<11&4294967295|x>>>21),x=M+(F^S^A)+D[3]+3572445317&4294967295,M=F+(x<<16&4294967295|x>>>16),x=A+(M^F^S)+D[6]+76029189&4294967295,A=M+(x<<23&4294967295|x>>>9),x=S+(A^M^F)+D[9]+3654602809&4294967295,S=A+(x<<4&4294967295|x>>>28),x=F+(S^A^M)+D[12]+3873151461&4294967295,F=S+(x<<11&4294967295|x>>>21),x=M+(F^S^A)+D[15]+530742520&4294967295,M=F+(x<<16&4294967295|x>>>16),x=A+(M^F^S)+D[2]+3299628645&4294967295,A=M+(x<<23&4294967295|x>>>9),x=S+(M^(A|~F))+D[0]+4096336452&4294967295,S=A+(x<<6&4294967295|x>>>26),x=F+(A^(S|~M))+D[7]+1126891415&4294967295,F=S+(x<<10&4294967295|x>>>22),x=M+(S^(F|~A))+D[14]+2878612391&4294967295,M=F+(x<<15&4294967295|x>>>17),x=A+(F^(M|~S))+D[5]+4237533241&4294967295,A=M+(x<<21&4294967295|x>>>11),x=S+(M^(A|~F))+D[12]+1700485571&4294967295,S=A+(x<<6&4294967295|x>>>26),x=F+(A^(S|~M))+D[3]+2399980690&4294967295,F=S+(x<<10&4294967295|x>>>22),x=M+(S^(F|~A))+D[10]+4293915773&4294967295,M=F+(x<<15&4294967295|x>>>17),x=A+(F^(M|~S))+D[1]+2240044497&4294967295,A=M+(x<<21&4294967295|x>>>11),x=S+(M^(A|~F))+D[8]+1873313359&4294967295,S=A+(x<<6&4294967295|x>>>26),x=F+(A^(S|~M))+D[15]+4264355552&4294967295,F=S+(x<<10&4294967295|x>>>22),x=M+(S^(F|~A))+D[6]+2734768916&4294967295,M=F+(x<<15&4294967295|x>>>17),x=A+(F^(M|~S))+D[13]+1309151649&4294967295,A=M+(x<<21&4294967295|x>>>11),x=S+(M^(A|~F))+D[4]+4149444226&4294967295,S=A+(x<<6&4294967295|x>>>26),x=F+(A^(S|~M))+D[11]+3174756917&4294967295,F=S+(x<<10&4294967295|x>>>22),x=M+(S^(F|~A))+D[2]+718787259&4294967295,M=F+(x<<15&4294967295|x>>>17),x=A+(F^(M|~S))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+F&4294967295}s.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var A=S-this.blockSize,D=this.B,M=this.h,F=0;F<S;){if(M==0)for(;F<=A;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<S;)if(D[M++]=C.charCodeAt(F++),M==this.blockSize){o(this,D),M=0;break}}else for(;F<S;)if(D[M++]=C[F++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var A=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=A&255,A/=256;for(this.u(C),C=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)C[A++]=this.g[S]>>>D&255;return C};function u(C,S){var A=d;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=S(C)}function h(C,S){this.h=S;for(var A=[],D=!0,M=C.length-1;0<=M;M--){var F=C[M]|0;D&&F==S||(A[M]=F,D=!1)}this.g=A}var d={};function g(C){return-128<=C&&128>C?u(C,function(S){return new h([S|0],0>S?-1:0)}):new h([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return V(y(-C));for(var S=[],A=1,D=0;C>=A;D++)S[D]=C/A|0,A*=4294967296;return new h(S,0)}function w(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return V(w(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),D=T,M=0;M<C.length;M+=8){var F=Math.min(8,C.length-M),x=parseInt(C.substring(M,M+F),S);8>F?(F=y(Math.pow(S,F)),D=D.j(F).add(y(x))):(D=D.j(A),D=D.add(y(x)))}return D}var T=g(0),I=g(1),N=g(16777216);r=h.prototype,r.m=function(){if(B(this))return-V(this).m();for(var C=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);C+=(0<=D?D:4294967296+D)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(B(this))return"-"+V(this).toString(C);for(var S=y(Math.pow(C,6)),A=this,D="";;){var M=ee(A,S).g;A=H(A,M.j(S));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=M,k(A))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function B(C){return C.h==-1}r.l=function(C){return C=H(this,C),B(C)?-1:k(C)?0:1};function V(C){for(var S=C.g.length,A=[],D=0;D<S;D++)A[D]=~C.g[D];return new h(A,~C.h).add(I)}r.abs=function(){return B(this)?V(this):this},r.add=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],D=0,M=0;M<=S;M++){var F=D+(this.i(M)&65535)+(C.i(M)&65535),x=(F>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);D=x>>>16,F&=65535,x&=65535,A[M]=x<<16|F}return new h(A,A[A.length-1]&-2147483648?-1:0)};function H(C,S){return C.add(V(S))}r.j=function(C){if(k(this)||k(C))return T;if(B(this))return B(C)?V(this).j(V(C)):V(V(this).j(C));if(B(C))return V(this.j(V(C)));if(0>this.l(N)&&0>C.l(N))return y(this.m()*C.m());for(var S=this.g.length+C.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<C.g.length;M++){var F=this.i(D)>>>16,x=this.i(D)&65535,rt=C.i(M)>>>16,Nt=C.i(M)&65535;A[2*D+2*M]+=x*Nt,Q(A,2*D+2*M),A[2*D+2*M+1]+=F*Nt,Q(A,2*D+2*M+1),A[2*D+2*M+1]+=x*rt,Q(A,2*D+2*M+1),A[2*D+2*M+2]+=F*rt,Q(A,2*D+2*M+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new h(A,0)};function Q(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function te(C,S){this.g=C,this.h=S}function ee(C,S){if(k(S))throw Error("division by zero");if(k(C))return new te(T,T);if(B(C))return S=ee(V(C),S),new te(V(S.g),V(S.h));if(B(S))return S=ee(C,V(S)),new te(V(S.g),S.h);if(30<C.g.length){if(B(C)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var A=I,D=S;0>=D.l(C);)A=de(A),D=de(D);var M=pe(A,1),F=pe(D,1);for(D=pe(D,2),A=pe(A,2);!k(D);){var x=F.add(D);0>=x.l(C)&&(M=M.add(A),F=x),D=pe(D,1),A=pe(A,1)}return S=H(C,M.j(S)),new te(M,S)}for(M=T;0<=C.l(S);){for(A=Math.max(1,Math.floor(C.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=y(A),x=F.j(S);B(x)||0<x.l(C);)A-=D,F=y(A),x=F.j(S);k(F)&&(F=I),M=M.add(F),C=H(C,x)}return new te(M,C)}r.A=function(C){return ee(this,C).h},r.and=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&C.i(D);return new h(A,this.h&C.h)},r.or=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|C.i(D);return new h(A,this.h|C.h)},r.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^C.i(D);return new h(A,this.h^C.h)};function de(C){for(var S=C.g.length+1,A=[],D=0;D<S;D++)A[D]=C.i(D)<<1|C.i(D-1)>>>31;return new h(A,C.h)}function pe(C,S){var A=S>>5;S%=32;for(var D=C.g.length-A,M=[],F=0;F<D;F++)M[F]=0<S?C.i(F+A)>>>S|C.i(F+A+1)<<32-S:C.i(F+A);return new h(M,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,$i=h}).apply(typeof Fm<"u"?Fm:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hy,ma,fy,du,Yh,dy,py,my;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,_){return l==Array.prototype||l==Object.prototype||(l[p]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var _=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var U=l[E];if(!(U in _))break e;_=_[U]}l=l[l.length-1],E=_[l],p=p(E),p!=E&&p!=null&&e(_,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var _=0,E=!1,U={next:function(){if(!E&&_<l.length){var W=_++;return{value:p(W,l[W]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,_){return l.call.apply(l.bind,arguments)}function T(l,p,_){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),l.apply(p,U)}}return function(){return l.apply(p,arguments)}}function I(l,p,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function N(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function k(l,p){function _(){}_.prototype=p.prototype,l.aa=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(E,U,W){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return p.prototype[U].apply(E,re)}}function B(l){const p=l.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=l[E];return _}return[]}function V(l,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(g(E)){const U=l.length||0,W=E.length||0;l.length=U+W;for(let re=0;re<W;re++)l[U+re]=E[re]}else l.push(E)}}class H{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(l){return/^[\s\xa0]*$/.test(l)}function te(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var de=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function pe(l,p,_){for(const E in l)p.call(_,l[E],E,l)}function C(l,p){for(const _ in l)p.call(void 0,l[_],_,l)}function S(l){const p={};for(const _ in l)p[_]=l[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,p){let _,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(_ in E)l[_]=E[_];for(let W=0;W<A.length;W++)_=A[W],Object.prototype.hasOwnProperty.call(E,_)&&(l[_]=E[_])}}function M(l){var p=1;l=l.split(":");const _=[];for(;0<p&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function F(l){d.setTimeout(()=>{throw l},0)}function x(){var l=ye;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class rt{constructor(){this.h=this.g=null}add(p,_){const E=Nt.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var Nt=new H(()=>new Dt,l=>l.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ie=!1,ye=new rt,oe=()=>{const l=d.Promise.resolve(void 0);je=()=>{l.then(b)}};var b=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(_){F(_)}var p=Nt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ie=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return l}();function Re(l,p){if(me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(de){e:{try{ee(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}k(Re,me);var ke={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),be=0;function ze(l,p,_,E,U){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=U,this.key=++be,this.da=this.fa=!1}function _t(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function sr(l){this.src=l,this.g={},this.h=0}sr.prototype.add=function(l,p,_,E,U){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var re=kr(l,p,E,U);return-1<re?(p=l[re],_||(p.fa=!1)):(p=new ze(p,this.src,W,!!E,U),p.fa=_,l.push(p)),p};function ts(l,p){var _=p.type;if(_ in l.g){var E=l.g[_],U=Array.prototype.indexOf.call(E,p,void 0),W;(W=0<=U)&&Array.prototype.splice.call(E,U,1),W&&(_t(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function kr(l,p,_,E){for(var U=0;U<l.length;++U){var W=l[U];if(!W.da&&W.listener==p&&W.capture==!!_&&W.ha==E)return U}return-1}var di="closure_lm_"+(1e6*Math.random()|0),ns={};function yo(l,p,_,E,U){if(Array.isArray(p)){for(var W=0;W<p.length;W++)yo(l,p[W],_,E,U);return null}return _=wo(_),l&&l[Me]?l.K(p,_,y(E)?!!E.capture:!1,U):_o(l,p,_,!1,E,U)}function _o(l,p,_,E,U,W){if(!p)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,Ue=is(l);if(Ue||(l[di]=Ue=new sr(l)),_=Ue.add(p,_,E,re,W),_.proxy)return _;if(E=Ba(),_.proxy=E,E.src=l,E.listener=_,l.addEventListener)Se||(U=re),U===void 0&&(U=!1),l.addEventListener(p.toString(),E,U);else if(l.attachEvent)l.attachEvent(ar(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ba(){function l(_){return p.call(l.src,l.listener,_)}const p=vo;return l}function rs(l,p,_,E,U){if(Array.isArray(p))for(var W=0;W<p.length;W++)rs(l,p[W],_,E,U);else E=y(E)?!!E.capture:!!E,_=wo(_),l&&l[Me]?(l=l.i,p=String(p).toString(),p in l.g&&(W=l.g[p],_=kr(W,_,E,U),-1<_&&(_t(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete l.g[p],l.h--)))):l&&(l=is(l))&&(p=l.g[p.toString()],l=-1,p&&(l=kr(p,_,E,U)),(_=-1<l?p[l]:null)&&or(_))}function or(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Me])ts(p.i,l);else{var _=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(_,E,l.capture):p.detachEvent?p.detachEvent(ar(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=is(p))?(ts(_,l),_.h==0&&(_.src=null,p[di]=null)):_t(l)}}}function ar(l){return l in ns?ns[l]:ns[l]="on"+l}function vo(l,p){if(l.da)l=!0;else{p=new Re(p,this);var _=l.listener,E=l.ha||l.src;l.fa&&or(l),l=_.call(E,p)}return l}function is(l){return l=l[di],l instanceof sr?l:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function wo(l){return typeof l=="function"?l:(l[ss]||(l[ss]=function(p){return l.handleEvent(p)}),l[ss])}function ht(){G.call(this),this.i=new sr(this),this.M=this,this.F=null}k(ht,G),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(l,p,_,E){rs(this,l,p,_,E)};function ft(l,p){var _,E=l.F;if(E)for(_=[];E;E=E.F)_.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new me(p,l);else if(p instanceof me)p.target=p.target||l;else{var U=p;p=new me(E,l),D(p,U)}if(U=!0,_)for(var W=_.length-1;0<=W;W--){var re=p.g=_[W];U=lr(re,E,!0,p)&&U}if(re=p.g=l,U=lr(re,E,!0,p)&&U,U=lr(re,E,!1,p)&&U,_)for(W=0;W<_.length;W++)re=p.g=_[W],U=lr(re,E,!1,p)&&U}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var _=l.g[p],E=0;E<_.length;E++)_t(_[E]);delete l.g[p],l.h--}}this.F=null},ht.prototype.K=function(l,p,_,E){return this.i.add(String(l),p,!1,_,E)},ht.prototype.L=function(l,p,_,E){return this.i.add(String(l),p,!0,_,E)};function lr(l,p,_,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,W=0;W<p.length;++W){var re=p[W];if(re&&!re.da&&re.capture==_){var Ue=re.listener,dt=re.ha||re.src;re.fa&&ts(l.i,re),U=Ue.call(dt,E)!==!1&&U}}return U&&!E.defaultPrevented}function Eo(l,p,_){if(typeof l=="function")_&&(l=I(l,_));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Nr(l){l.g=Eo(()=>{l.g=null,l.i&&(l.i=!1,Nr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class pi extends G{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(l){G.call(this),this.h=l,this.g={}}k(mi,G);var To=[];function Io(l){pe(l.g,function(p,_){this.g.hasOwnProperty(_)&&or(p)},l),l.g={}}mi.prototype.N=function(){mi.aa.N.call(this),Io(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var So=d.JSON.stringify,Ro=d.JSON.parse,Ao=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function gi(){}gi.prototype.h=null;function os(l){return l.h||(l.h=l.i())}function as(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){me.call(this,"d")}k(jn,me);function ls(){me.call(this,"c")}k(ls,me);var Bn={},xo=null;function yi(){return xo=xo||new ht}Bn.La="serverreachability";function Co(l){me.call(this,Bn.La,l)}k(Co,me);function ur(l){const p=yi();ft(p,new Co(p))}Bn.STAT_EVENT="statevent";function Po(l,p){me.call(this,Bn.STAT_EVENT,l),this.stat=p}k(Po,me);function it(l){const p=yi();ft(p,new Po(p,l))}Bn.Ma="timingevent";function us(l,p){me.call(this,Bn.Ma,l),this.size=p}k(us,me);function Tn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function vi(l,p,_,E,U,W){l.info(function(){if(l.g)if(W)for(var re="",Ue=W.split("&"),dt=0;dt<Ue.length;dt++){var Ne=Ue[dt].split("=");if(1<Ne.length){var vt=Ne[0];Ne=Ne[1];var at=vt.split("_");re=2<=at.length&&at[1]=="type"?re+(vt+"="+Ne+"&"):re+(vt+"=redacted&")}}else re=null;else re=W;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+p+`
`+_+`
`+re})}function cs(l,p,_,E,U,W,re){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+p+`
`+_+`
`+W+" "+re})}function In(l,p,_,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zu(l,_)+(E?" "+E:"")})}function ko(l,p){l.info(function(){return"TIMEOUT: "+p})}_i.prototype.info=function(){};function Zu(l,p){if(!l.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var E=_[l];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return So(_)}catch{return p}}var hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},za={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function wi(){}k(wi,gi),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Sn=new wi;function Rn(l,p,_,E){this.j=l,this.i=p,this.l=_,this.R=E||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $a}function $a(){this.i=null,this.g="",this.h=!1}var No={},fs={};function ds(l,p,_){l.L=1,l.v=Mr(rn(p)),l.m=_,l.P=!0,Do(l,null)}function Do(l,p){l.F=Date.now(),$e(l),l.A=rn(l.v);var _=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Fr(_.i,"t",E),l.C=0,_=l.j.J,l.h=new $a,l.g=al(l.j,_?p:null,!l.m),0<l.O&&(l.M=new pi(I(l.Y,l,l.g),l.O)),p=l.U,_=l.g,E=l.ca;var U="readystatechange";Array.isArray(U)||(U&&(To[0]=U.toString()),U=To);for(var W=0;W<U.length;W++){var re=yo(_,U[W],E||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ur(),vi(l.i,l.u,l.A,l.l,l.R,l.m)}Rn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Qt(l)==3?p.j():this.Y(l)},Rn.prototype.Y=function(l){try{if(l==this.g)e:{const at=Qt(this.g);var p=this.g.Ba();const pn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||at!=4||p==7||(p==8||0>=pn?ur(3):ur(2)),Ei(this);var _=this.g.Z();this.X=_;t:if(qa(this)){var E=Fo(this.g);l="";var U=E.length,W=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),Dr(this);var re="";break t}this.h.i=new d.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(W&&p==U-1)});E.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,cs(this.i,this.u,this.A,this.l,this.R,at,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,dt=this.g;if((Ue=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ue)){var Ne=Ue;break t}}Ne=null}if(_=Ne)In(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vo(this,_);else{this.o=!1,this.s=3,it(12),fn(this),Dr(this);break e}}if(this.P){_=!0;let on;for(;!this.J&&this.C<re.length;)if(on=ec(this,re),on==fs){at==4&&(this.s=4,it(14),_=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(on==No){this.s=4,it(15),In(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else In(this.i,this.l,on,null),Vo(this,on);if(qa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||re.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)In(this.i,this.l,re,"[Invalid Chunked Response]"),fn(this),Dr(this);else if(0<re.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),jo(vt),vt.M=!0,it(11))}}else In(this.i,this.l,re,null),Vo(this,re);at==4&&fn(this),this.o&&!this.J&&(at==4?Ss(this.j,this):(this.o=!1,$e(this)))}else vs(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),fn(this),Dr(this)}}}catch{}finally{}};function qa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ec(l,p){var _=l.C,E=p.indexOf(`
`,_);return E==-1?fs:(_=Number(p.substring(_,E)),isNaN(_)?No:(E+=1,E+_>p.length?fs:(p=p.slice(E,E+_),l.C=E+_,p)))}Rn.prototype.cancel=function(){this.J=!0,fn(this)};function $e(l){l.S=Date.now()+l.I,Ha(l,l.I)}function Ha(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(I(l.ba,l),p)}function Ei(l){l.B&&(d.clearTimeout(l.B),l.B=null)}Rn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ko(this.i,this.A),this.L!=2&&(ur(),it(17)),fn(this),this.s=2,Dr(this)):Ha(this,this.S-l)};function Dr(l){l.j.G==0||l.J||Ss(l.j,l)}function fn(l){Ei(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Io(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Vo(l,p){try{var _=l.j;if(_.G!=0&&(_.g==l||jt(_.h,l))){if(!l.K&&jt(_.h,l)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Is(_),kn(_);else break e;Ts(_),it(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tn(I(_.Za,_),6e3));if(1>=Qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pr(_,11)}else if((l.K||_.g==l)&&Is(_),!Q(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Ne=U[p];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const vt=Ne[3];vt!=null&&(_.la=vt,_.j.info("VER="+_.la));const at=Ne[4];at!=null&&(_.Aa=at,_.j.info("SVER="+_.Aa));const pn=Ne[5];pn!=null&&typeof pn=="number"&&0<pn&&(E=1.5*pn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const on=l.g;if(on){const Ci=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var W=E.h;W.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Lo(W,W.h),W.h=null))}if(E.D){const As=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(E.ya=As,Be(E.I,E.D,As))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var re=l;if(E.qa=ol(E,E.J?E.ia:null,E.W),re.K){Ka(E.h,re);var Ue=re,dt=E.L;dt&&(Ue.I=dt),Ue.B&&(Ei(Ue),$e(Ue)),E.g=re}else xi(E);0<_.i.length&&Hn(_)}else Ne[0]!="stop"&&Ne[0]!="close"||pr(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?pr(_,7):Rt(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}ur(4)}catch{}}var Wa=class{constructor(l,p){this.g=l,this.map=p}};function Ti(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Qa(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Lo(l,p){l.g?l.g.add(p):l.h=p}function Ka(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ti.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const _ of l.g.values())p=p.concat(_.D);return p}return B(l.i)}function ps(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],_=l.length,E=0;E<_;E++)p.push(l[E]);return p}p=[],_=0;for(E in l)p[_++]=l[E];return p}function ms(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var _=0;_<l;_++)p.push(_);return p}p=[],_=0;for(const E in l)p[_++]=E;return p}}}function Vr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var _=ms(l),E=ps(l),U=E.length,W=0;W<U;W++)p.call(void 0,E[W],_&&_[W],l)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tc(l,p){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var E=l[_].indexOf("="),U=null;if(0<=E){var W=l[_].substring(0,E);U=l[_].substring(E+1)}else W=l[_];p(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function cr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof cr){this.h=l.h,Si(this,l.j),this.o=l.o,this.g=l.g,Lr(this,l.s),this.l=l.l;var p=l.i,_=new zn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Or(this,_),this.m=l.m}else l&&(p=String(l).match(Ii))?(this.h=!1,Si(this,p[1]||"",!0),this.o=Ce(p[2]||""),this.g=Ce(p[3]||"",!0),Lr(this,p[4]),this.l=Ce(p[5]||"",!0),Or(this,p[6]||"",!0),this.m=Ce(p[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}cr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(br(p,gs,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(br(p,gs,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(br(_,_.charAt(0)=="/"?Ja:Xa,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",br(_,Oo)),l.join("")};function rn(l){return new cr(l)}function Si(l,p,_){l.j=_?Ce(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Lr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Or(l,p,_){p instanceof zn?(l.i=p,$n(l.i,l.h)):(_||(p=br(p,Za)),l.i=new zn(p,l.h))}function Be(l,p,_){l.i.set(p,_)}function Mr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ce(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function br(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,Ya),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ya(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var gs=/[#\/\?@]/g,Xa=/[#\?:]/g,Ja=/[#\?]/g,Za=/[#\?@]/g,Oo=/#/g;function zn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function St(l){l.g||(l.g=new Map,l.h=0,l.i&&tc(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=zn.prototype,r.add=function(l,p){St(this),this.i=null,l=dn(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function An(l,p){St(l),p=dn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function xn(l,p){return St(l),p=dn(l,p),l.g.has(p)}r.forEach=function(l,p){St(this),this.g.forEach(function(_,E){_.forEach(function(U){l.call(p,U,E,this)},this)},this)},r.na=function(){St(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const U=l[E];for(let W=0;W<U.length;W++)_.push(p[E])}return _},r.V=function(l){St(this);let p=[];if(typeof l=="string")xn(this,l)&&(p=p.concat(this.g.get(dn(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)p=p.concat(l[_])}return p},r.set=function(l,p){return St(this),this.i=null,l=dn(this,l),xn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Fr(l,p,_){An(l,p),0<_.length&&(l.i=null,l.g.set(dn(l,p),B(_)),l.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const W=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var U=W;re[E]!==""&&(U+="="+encodeURIComponent(String(re[E]))),l.push(U)}}return this.i=l.join("&")};function dn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function $n(l,p){p&&!l.j&&(St(l),l.i=null,l.g.forEach(function(_,E){var U=E.toLowerCase();E!=U&&(An(this,E),Fr(this,U,_))},l)),l.j=p}function nc(l,p){const _=new _i;if(d.Image){const E=new Image;E.onload=N(Wt,_,"TestLoadImage: loaded",!0,p,E),E.onerror=N(Wt,_,"TestLoadImage: error",!1,p,E),E.onabort=N(Wt,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=N(Wt,_,"TestLoadImage: timeout",!1,p,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function el(l,p){const _=new _i,E=new AbortController,U=setTimeout(()=>{E.abort(),Wt(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(W=>{clearTimeout(U),W.ok?Wt(_,"TestPingServer: ok",!0,p):Wt(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Wt(_,"TestPingServer: error",!1,p)})}function Wt(l,p,_,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(_)}catch{}}function rc(){this.g=new Ao}function tl(l,p,_){const E=_||"";try{Vr(l,function(U,W){let re=U;y(U)&&(re=So(U)),p.push(E+W+"="+encodeURIComponent(re))})}catch(U){throw p.push(E+"type="+encodeURIComponent("_badmap")),U}}function hr(l){this.l=l.Ub||null,this.j=l.eb||!1}k(hr,gi),hr.prototype.g=function(){return new Ri(this.l,this.j)},hr.prototype.i=function(l){return function(){return l}}({});function Ri(l,p){ht.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ri,ht),r=Ri.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Pn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Cn(this):Pn(this),this.readyState==3&&nl(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},r.Qa=function(l){this.g&&(this.response=l,Cn(this))},r.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function fr(l){let p="";return pe(l,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Ur(l,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=fr(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Be(l,p,_))}function Ke(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ke,ht);var ic=/^https?$/i,Mo=["POST","PUT"];r=Ke.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?os(this.o):os(Sn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(W){Ai(this,W);return}if(l=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)_.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const W of E.keys())_.set(W,E.get(W));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),U=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Mo,p,void 0))||E||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,re]of _)this.g.setRequestHeader(W,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){Ai(this,W)}};function Ai(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,ys(l),sn(l)}function ys(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),sn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},r.bb=function(){bo(this)};function bo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Qt(l)!=4||l.Z()!=2)){if(l.u&&Qt(l)==4)Eo(l.Ea,0,l);else if(ft(l,"readystatechange"),Qt(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=re===0){var U=String(l.D).match(Ii)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),E=!ic.test(U?U.toLowerCase():"")}_=E}if(_)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var W=2<Qt(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",ys(l)}}finally{sn(l)}}}}function sn(l,p){if(l.g){_s(l);const _=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ft(l,"ready");try{_.onreadystatechange=E}catch{}}}function _s(l){l.I&&(d.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Qt(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Ro(p)}};function Fo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(l){const p={};l=(l.g&&2<=Qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Q(l[E]))continue;var _=M(l[E]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=p[U]||[];p[U]=W,W.push(_)}C(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qn(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function Uo(l){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qn("baseRetryDelayMs",5e3,l),this.cb=qn("retryDelaySeedMs",1e4,l),this.Wa=qn("forwardChannelMaxRetries",2,l),this.wa=qn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(l&&l.concurrentRequestLimit),this.Da=new rc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Uo.prototype,r.la=8,r.G=1,r.connect=function(l,p,_,E){it(0),this.W=l,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=ol(this,null,this.W),Hn(this)};function Rt(l){if(ws(l),l.G==3){var p=l.U++,_=rn(l.I);if(Be(_,"SID",l.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),dr(l,_),p=new Rn(l,l.j,p),p.L=2,p.v=Mr(rn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.v,_=!0),_||(p.g=al(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$e(p)}sl(l)}function kn(l){l.g&&(jo(l),l.g.cancel(),l.g=null)}function ws(l){kn(l),l.u&&(d.clearTimeout(l.u),l.u=null),Is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Hn(l){if(!nn(l.h)&&!l.s){l.s=!0;var p=l.Ga;je||oe(),ie||(je(),ie=!0),ye.add(p,l),l.B=0}}function sc(l,p){return Qa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(I(l.Ga,l,p),il(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const U=new Rn(this,this.j,l);let W=this.o;if(this.S&&(W?(W=S(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=jr(this,U,p),_=rn(this.I),Be(_,"RID",l),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),dr(this,_),W&&(this.O?p="headers="+encodeURIComponent(String(fr(W)))+"&"+p:this.m&&Ur(_,this.m,W)),Lo(this.h,U),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),U.T=!0,ds(U,_,null)):ds(U,_,p),this.G=2}}else this.G==3&&(l?Es(this,l):this.i.length==0||nn(this.h)||Es(this))};function Es(l,p){var _;p?_=p.l:_=l.U++;const E=rn(l.I);Be(E,"SID",l.K),Be(E,"RID",_),Be(E,"AID",l.T),dr(l,E),l.m&&l.o&&Ur(E,l.m,l.o),_=new Rn(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),p&&(l.i=p.D.concat(l.i)),p=jr(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Lo(l.h,_),ds(_,E,p)}function dr(l,p){l.H&&pe(l.H,function(_,E){Be(p,E,_)}),l.l&&Vr({},function(_,E){Be(p,E,_)})}function jr(l,p,_){_=Math.min(l.i.length,_);var E=l.l?I(l.l.Na,l.l,l):null;e:{var U=l.i;let W=-1;for(;;){const re=["count="+_];W==-1?0<_?(W=U[0].g,re.push("ofs="+W)):W=0:re.push("ofs="+W);let Ue=!0;for(let dt=0;dt<_;dt++){let Ne=U[dt].g;const vt=U[dt].map;if(Ne-=W,0>Ne)W=Math.max(0,U[dt].g-100),Ue=!1;else try{tl(vt,re,"req"+Ne+"_")}catch{E&&E(vt)}}if(Ue){E=re.join("&");break e}}}return l=l.i.splice(0,_),p.D=l,E}function xi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;je||oe(),ie||(je(),ie=!0),ye.add(p,l),l.v=0}}function Ts(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(I(l.Fa,l),il(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(I(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),kn(this),rl(this))};function jo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function rl(l){l.g=new Rn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=rn(l.qa);Be(p,"RID","rpc"),Be(p,"SID",l.K),Be(p,"AID",l.T),Be(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(p,"TO",l.ja),Be(p,"TYPE","xmlhttp"),dr(l,p),l.m&&l.o&&Ur(p,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Mr(rn(p)),_.m=null,_.P=!0,Do(_,l)}r.Za=function(){this.C!=null&&(this.C=null,kn(this),Ts(this),it(19))};function Is(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function Ss(l,p){var _=null;if(l.g==p){Is(l),jo(l),l.g=null;var E=2}else if(jt(l.h,p))_=p.D,Ka(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=l.B;E=yi(),ft(E,new us(E,_)),Hn(l)}else xi(l);else if(U=p.s,U==3||U==0&&0<p.X||!(E==1&&sc(l,p)||E==2&&Ts(l)))switch(_&&0<_.length&&(p=l.h,p.i=p.i.concat(_)),U){case 1:pr(l,5);break;case 4:pr(l,10);break;case 3:pr(l,6);break;default:pr(l,2)}}}function il(l,p){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*p}function pr(l,p){if(l.j.info("Error code "+p),p==2){var _=I(l.fb,l),E=l.Xa;const U=!E;E=new cr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Si(E,"https"),Mr(E),U?nc(E.toString(),_):el(E.toString(),_)}else it(2);l.G=0,l.l&&l.l.sa(p),sl(l),ws(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function sl(l){if(l.G=0,l.ka=[],l.l){const p=Ga(l.h);(p.length!=0||l.i.length!=0)&&(V(l.ka,p),V(l.ka,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.ra()}}function ol(l,p,_){var E=_ instanceof cr?rn(_):new cr(_);if(E.g!="")p&&(E.g=p+"."+E.g),Lr(E,E.s);else{var U=d.location;E=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var W=new cr(null);E&&Si(W,E),p&&(W.g=p),U&&Lr(W,U),_&&(W.l=_),E=W}return _=l.D,p=l.ya,_&&p&&Be(E,_,p),Be(E,"VER",l.la),dr(l,E),E}function al(l,p,_){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ke(new hr({eb:_})):new Ke(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}r=Bo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Rs(){}Rs.prototype.g=function(l,p){return new Bt(l,p)};function Bt(l,p){ht.call(this),this.g=new Uo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!Q(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Q(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Wn(this)}k(Bt,ht),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Rt(this.g)},Bt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=So(l),l=_);p.i.push(new Wa(p.Ya++,l)),p.G==3&&Hn(p)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,Bt.aa.N.call(this)};function ll(l){jn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const _ in p){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}k(ll,jn);function ul(){ls.call(this),this.status=1}k(ul,ls);function Wn(l){this.g=l}k(Wn,Bo),Wn.prototype.ua=function(){ft(this.g,"a")},Wn.prototype.ta=function(l){ft(this.g,new ll(l))},Wn.prototype.sa=function(l){ft(this.g,new ul)},Wn.prototype.ra=function(){ft(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,my=function(){return new Rs},py=function(){return yi()},dy=Bn,Yh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,du=hs,za.COMPLETE="complete",fy=za,as.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ma=as,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,hy=Ke}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const Um="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new ty("@firebase/firestore");function Ks(){return Hi.logLevel}function ae(r,...e){if(Hi.logLevel<=Ve.DEBUG){const t=e.map(Ef);Hi.debug(`Firestore (${fo}): ${r}`,...t)}}function xr(r,...e){if(Hi.logLevel<=Ve.ERROR){const t=e.map(Ef);Hi.error(`Firestore (${fo}): ${r}`,...t)}}function no(r,...e){if(Hi.logLevel<=Ve.WARN){const t=e.map(Ef);Hi.warn(`Firestore (${fo}): ${r}`,...t)}}function Ef(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+r;throw xr(e),new Error(e)}function Fe(r,e){r||Ee()}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class oT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aT{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Sr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new gy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Ft(e)}}class lT{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uT{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new lT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new cT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=fT(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function ro(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new gt(0,0))}static max(){return new Te(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(),s===void 0?s=e.length-t:s>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qe extends xa{construct(e,t,s){return new Qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const dT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends xa{construct(e,t,s){return new Pt(e,t,s)}static isValidIdentifier(e){return dT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Qe.fromString(e))}static fromName(e){return new ge(Qe.fromString(e).popFirst(5))}static empty(){return new ge(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Qe(e.slice()))}}function pT(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new gt(t+1,0):new gt(t,s));return new li(o,ge.empty(),e)}function mT(r){return new li(r.readTime,r.key,-1)}class li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new li(Te.min(),ge.empty(),-1)}static max(){return new li(Te.max(),ge.empty(),-1)}}function gT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _T{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==yT)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(w=>{h[y]=w,++d,d===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new K((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function vT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mu.oe=-1;function bu(r){return r==null}function Iu(r){return r===0&&1/r==-1/0}function wT(r){return typeof r=="number"&&Number.isInteger(r)&&!Iu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=jm(e)),e=TT(r.get(t),e);return jm(e)}function TT(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function jm(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Yi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function _y(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.comparator=e,this.root=t||Ct.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ct.RED,this.left=o??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ct(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ct.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ct(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zm(this.data.getIterator())}getIteratorFrom(e){return new zm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class zm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new yt(Pt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vy("Invalid base64 string: "+u):u}}(e);return new kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const IT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(r){if(Fe(!!r),typeof r=="string"){let e=0;const t=IT.exec(r);if(Fe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ci(r){return typeof r=="string"?kt.fromBase64String(r):kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Fu(r){const e=r.mapValue.fields.__previous_value__;return Tf(e)?Fu(e):e}function Ca(r){const e=ui(r.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t,s,o,u,h,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y}}class Pa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tf(r)?4:AT(r)?9007199254740991:RT(r)?10:11:Ee()}function rr(r,e){if(r===e)return!0;const t=hi(r);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ca(r).isEqual(Ca(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ui(o.timestampValue),d=ui(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ci(o.bytesValue).isEqual(ci(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ot(o.geoPointValue.latitude)===ot(u.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ot(o.integerValue)===ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ot(o.doubleValue),d=ot(u.doubleValue);return h===d?Iu(h)===Iu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Bm(h)!==Bm(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!rr(h[g],d[g])))return!1;return!0}(r,e);default:return Ee()}}function ka(r,e){return(r.values||[]).find(t=>rr(t,e))!==void 0}function io(r,e){if(r===e)return 0;const t=hi(r),s=hi(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=ot(u.integerValue||u.doubleValue),g=ot(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return $m(r.timestampValue,e.timestampValue);case 4:return $m(Ca(r),Ca(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,h){const d=ci(u),g=ci(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let y=0;y<d.length&&y<g.length;y++){const w=Pe(d[y],g[y]);if(w!==0)return w}return Pe(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Pe(ot(u.latitude),ot(h.latitude));return d!==0?d:Pe(ot(u.longitude),ot(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return qm(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,y,w;const T=u.fields||{},I=h.fields||{},N=(d=T.value)===null||d===void 0?void 0:d.arrayValue,k=(g=I.value)===null||g===void 0?void 0:g.arrayValue,B=Pe(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((w=k==null?void 0:k.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:qm(N,k)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===ou.mapValue&&h===ou.mapValue)return 0;if(u===ou.mapValue)return 1;if(h===ou.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const I=Pe(g[T],w[T]);if(I!==0)return I;const N=io(d[g[T]],y[w[T]]);if(N!==0)return N}return Pe(g.length,w.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function $m(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=ui(r),s=ui(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function qm(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=io(t[o],s[o]);if(u)return u}return Pe(t.length,s.length)}function so(r){return Xh(r)}function Xh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ui(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ci(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Xh(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Xh(t.fields[h])}`;return o+"}"}(r.mapValue):Ee()}function pu(r){switch(hi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fu(r);return e?16+pu(e):16;case 5:return 2*r.stringValue.length;case 6:return ci(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+pu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Yi(s.fields,(u,h)=>{o+=u.length+pu(h)}),o}(r.mapValue);default:throw Ee()}}function Hm(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jh(r){return!!r&&"integerValue"in r}function If(r){return!!r&&"arrayValue"in r}function Wm(r){return!!r&&"nullValue"in r}function Qm(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mu(r){return!!r&&"mapValue"in r}function RT(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function va(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=va(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=va(r.arrayValue.values[t]);return e}return Object.assign({},r)}function AT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(t)}setAll(e){let t=Pt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=va(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Yi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(va(this.value))}}function wy(r){const e=[];return Yi(r.fields,(t,s)=>{const o=new Pt([t]);if(mu(s)){const u=wy(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Ut(e,0,Te.min(),Te.min(),Te.min(),En.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Te.min(),Te.min(),En.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Te.min(),Te.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.position=e,this.inclusive=t}}function Km(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=io(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gm(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!rr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function xT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{}class ct extends Ey{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new PT(e,t,s):t==="array-contains"?new DT(e,s):t==="in"?new VT(e,s):t==="not-in"?new LT(e,s):t==="array-contains-any"?new OT(e,s):new ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new kT(e,s):new NT(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(io(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Ey{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Un(e,t)}matches(e){return Ty(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ty(r){return r.op==="and"}function Iy(r){return CT(r)&&Ty(r)}function CT(r){for(const e of r.filters)if(e instanceof Un)return!1;return!0}function Zh(r){if(r instanceof ct)return r.field.canonicalString()+r.op.toString()+so(r.value);if(Iy(r))return r.filters.map(e=>Zh(e)).join(",");{const e=r.filters.map(t=>Zh(t)).join(",");return`${r.op}(${e})`}}function Sy(r,e){return r instanceof ct?function(s,o){return o instanceof ct&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)}(r,e):r instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Sy(h,o.filters[d]),!0):!1}(r,e):void Ee()}function Ry(r){return r instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${so(t.value)}`}(r):r instanceof Un?function(t){return t.op.toString()+" {"+t.getFilters().map(Ry).join(" ,")+"}"}(r):"Filter"}class PT extends ct{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class kT extends ct{constructor(e,t){super(e,"in",t),this.keys=Ay("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NT extends ct{constructor(e,t){super(e,"not-in",t),this.keys=Ay("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ay(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class DT extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return If(t)&&ka(t.arrayValue,this.value)}}class VT extends ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ka(this.value.arrayValue,t)}}class LT extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ka(this.value.arrayValue,t)}}class OT extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!If(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ka(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function Ym(r,e=null,t=[],s=[],o=null,u=null,h=null){return new MT(r,e,t,s,o,u,h)}function Sf(r){const e=Ie(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Zh(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),bu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>so(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>so(s)).join(",")),e.ue=t}return e.ue}function Rf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!xT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Sy(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Gm(r.startAt,e.startAt)&&Gm(r.endAt,e.endAt)}function ef(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bT(r,e,t,s,o,u,h,d){return new Ma(r,e,t,s,o,u,h,d)}function Uu(r){return new Ma(r)}function Xm(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xy(r){return r.collectionGroup!==null}function wa(r){const e=Ie(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new yt(Pt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ru(u,s))}),t.has(Pt.keyField().canonicalString())||e.ce.push(new Ru(Pt.keyField(),s))}return e.ce}function Jn(r){const e=Ie(r);return e.le||(e.le=FT(e,wa(r))),e.le}function FT(r,e){if(r.limitType==="F")return Ym(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ru(o.field,u)});const t=r.endAt?new Su(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Su(r.startAt.position,r.startAt.inclusive):null;return Ym(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function tf(r,e){const t=r.filters.concat([e]);return new Ma(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function nf(r,e,t){return new Ma(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ju(r,e){return Rf(Jn(r),Jn(e))&&r.limitType===e.limitType}function Cy(r){return`${Sf(Jn(r))}|lt:${r.limitType}`}function Gs(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Ry(o)).join(", ")}]`),bu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>so(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>so(o)).join(",")),`Target(${s})`}(Jn(r))}; limitType=${r.limitType})`}function Bu(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of wa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const y=Km(h,d,g);return h.inclusive?y<=0:y<0}(s.startAt,wa(s),o)||s.endAt&&!function(h,d,g){const y=Km(h,d,g);return h.inclusive?y>=0:y>0}(s.endAt,wa(s),o))}(r,e)}function UT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Py(r){return(e,t)=>{let s=!1;for(const o of wa(r)){const u=jT(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jT(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,d){const g=h.data.field(u),y=d.data.field(u);return g!==null&&y!==null?io(g,y):Ee()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _y(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Ze(ge.comparator);function Cr(){return BT}const ky=new Ze(ge.comparator);function ga(...r){let e=ky;for(const t of r)e=e.insert(t.key,t);return e}function Ny(r){let e=ky;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function zi(){return Ea()}function Dy(){return Ea()}function Ea(){return new Xi(r=>r.toString(),(r,e)=>r.isEqual(e))}const zT=new Ze(ge.comparator),$T=new yt(ge.comparator);function xe(...r){let e=$T;for(const t of r)e=e.add(t);return e}const qT=new yt(Pe);function HT(){return qT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function Vy(r){return{integerValue:""+r}}function WT(r,e){return wT(e)?Vy(e):Af(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this._=void 0}}function QT(r,e,t){return r instanceof Au?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tf(u)&&(u=Fu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):r instanceof Na?Oy(r,e):r instanceof Da?My(r,e):function(o,u){const h=Ly(o,u),d=Jm(h)+Jm(o.Pe);return Jh(h)&&Jh(o.Pe)?Vy(d):Af(o.serializer,d)}(r,e)}function KT(r,e,t){return r instanceof Na?Oy(r,e):r instanceof Da?My(r,e):t}function Ly(r,e){return r instanceof xu?function(s){return Jh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Au extends zu{}class Na extends zu{constructor(e){super(),this.elements=e}}function Oy(r,e){const t=by(e);for(const s of r.elements)t.some(o=>rr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Da extends zu{constructor(e){super(),this.elements=e}}function My(r,e){let t=by(e);for(const s of r.elements)t=t.filter(o=>!rr(o,s));return{arrayValue:{values:t}}}class xu extends zu{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Jm(r){return ot(r.integerValue||r.doubleValue)}function by(r){return If(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GT(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Na&&o instanceof Na||s instanceof Da&&o instanceof Da?ro(s.elements,o.elements,rr):s instanceof xu&&o instanceof xu?rr(s.Pe,o.Pe):s instanceof Au&&o instanceof Au}(r.transform,e.transform)}class YT{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $u{}function Fy(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new jy(r.key,Rr.none()):new ba(r.key,r.data,Rr.none());{const t=r.data,s=En.empty();let o=new yt(Pt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ji(r.key,s,new bn(o.toArray()),Rr.none())}}function XT(r,e,t){r instanceof ba?function(o,u,h){const d=o.value.clone(),g=eg(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ji?function(o,u,h){if(!gu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=eg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Uy(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ta(r,e,t,s){return r instanceof ba?function(u,h,d,g){if(!gu(u.precondition,h))return d;const y=u.value.clone(),w=tg(u.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ji?function(u,h,d,g){if(!gu(u.precondition,h))return d;const y=tg(u.fieldTransforms,g,h),w=h.data;return w.setAll(Uy(u)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,h,d){return gu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function JT(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ly(s.transform,o||null);u!=null&&(t===null&&(t=En.empty()),t.set(s.field,u))}return t||null}function Zm(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,h)=>GT(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ba extends $u{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends $u{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Uy(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function eg(r,e,t){const s=new Map;Fe(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,KT(h,d,t[o]))}return s}function tg(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,QT(u,h,e))}return s}class jy extends $u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZT extends $u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XT(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ta(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ta(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Dy();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const g=Fy(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(t,s)=>Zm(t,s))&&ro(this.baseMutations,e.baseMutations,(t,s)=>Zm(t,s))}}class xf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length);let o=function(){return zT}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new xf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,De;function rI(r){switch(r){default:return Ee();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function By(r){if(r===void 0)return xr("GRPC error has no .code"),Y.UNKNOWN;switch(r){case ut.OK:return Y.OK;case ut.CANCELLED:return Y.CANCELLED;case ut.UNKNOWN:return Y.UNKNOWN;case ut.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ut.INTERNAL:return Y.INTERNAL;case ut.UNAVAILABLE:return Y.UNAVAILABLE;case ut.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ut.NOT_FOUND:return Y.NOT_FOUND;case ut.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ut.ABORTED:return Y.ABORTED;case ut.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ut.DATA_LOSS:return Y.DATA_LOSS;default:return Ee()}}(De=ut||(ut={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new $i([4294967295,4294967295],0);function ng(r){const e=iI().encode(r),t=new cy;return t.update(e),new Uint8Array(t.digest())}function rg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $i([t,s],0),new $i([o,u],0)]}class Cf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ya(`Invalid padding: ${t}`);if(s<0)throw new ya(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ya(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=$i.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply($i.fromNumber(s)));return o.compare(sI)===1&&(o=new $i([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=ng(e),[s,o]=rg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Cf(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=ng(e),[s,o]=rg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new qu(Te.min(),o,new Ze(Pe),Cr(),xe())}}class Fa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fa(s,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class zy{constructor(e,t){this.targetId=e,this.me=t}}class $y{constructor(e,t,s=kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class ig{constructor(){this.fe=0,this.ge=sg(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),t=xe(),s=xe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new Fa(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=sg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cr(),this.qe=au(),this.Qe=au(),this.Ke=new Ze(Pe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const u=o.target;if(ef(u))if(s===0){const h=new ge(u.path);this.We(t,h,Ut.newNoDocument(h,Te.min()))}else Fe(s===1);else{const h=this.Ze(t);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ci(s).toUint8Array()}catch(g){if(g instanceof vy)return no("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Cf(h,o,u)}catch(g){return no(g instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(t,u,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&ef(d.target)){const g=new ge(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ut.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=xe();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new qu(e,t,this.Ke,this.ke,s);return this.ke=Cr(),this.qe=au(),this.Qe=au(),this.Ke=new Ze(Pe),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new ig,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new yt(Pe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(Pe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ig),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function au(){return new Ze(ge.comparator)}function sg(){return new Ze(ge.comparator)}const aI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class cI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rf(r,e){return r.useProto3Json||bu(e)?e:{value:e}}function Cu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qy(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hI(r,e){return Cu(r,e.toTimestamp())}function Zn(r){return Fe(!!r),Te.fromTimestamp(function(t){const s=ui(t);return new gt(s.seconds,s.nanos)}(r))}function Pf(r,e){return sf(r,e).canonicalString()}function sf(r,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Hy(r){const e=Qe.fromString(r);return Fe(Yy(e)),e}function of(r,e){return Pf(r.databaseId,e.path)}function Mh(r,e){const t=Hy(e);if(t.get(1)!==r.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(Qy(t))}function Wy(r,e){return Pf(r.databaseId,e)}function fI(r){const e=Hy(r);return e.length===4?Qe.emptyPath():Qy(e)}function af(r){return new Qe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qy(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function og(r,e,t){return{name:of(r,e),fields:t.value.mapValue.fields}}function dI(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,w){return y.useProto3Json?(Fe(w===void 0||typeof w=="string"),kt.fromBase64String(w||"")):(Fe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),kt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const w=y.code===void 0?Y.UNKNOWN:By(y.code);return new ue(w,y.message||"")}(h);t=new $y(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mh(r,s.document.name),u=Zn(s.document.updateTime),h=s.document.createTime?Zn(s.document.createTime):Te.min(),d=new En({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(o,u,h,d),y=s.targetIds||[],w=s.removedTargetIds||[];t=new yu(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mh(r,s.document),u=s.readTime?Zn(s.readTime):Te.min(),h=Ut.newNoDocument(o,u),d=s.removedTargetIds||[];t=new yu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mh(r,s.document),u=s.removedTargetIds||[];t=new yu([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new nI(o,u),d=s.targetId;t=new zy(d,h)}}return t}function pI(r,e){let t;if(e instanceof ba)t={update:og(r,e.key,e.value)};else if(e instanceof jy)t={delete:of(r,e.key)};else if(e instanceof Ji)t={update:og(r,e.key,e.data),updateMask:II(e.fieldMask)};else{if(!(e instanceof ZT))return Ee();t={verify:of(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Na)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Da)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xu)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw Ee()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:hI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),t}function mI(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Zn(o.updateTime):Zn(u);return h.isEqual(Te.min())&&(h=Zn(u)),new YT(h,o.transformResults||[])}(t,e))):[]}function gI(r,e){return{documents:[Wy(r,e.path)]}}function yI(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Wy(r,o);const u=function(y){if(y.length!==0)return Gy(Un.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(w=>function(I){return{field:Ys(I.field),direction:wI(I.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=rf(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function _I(r){let e=fI(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(T){const I=Ky(T);return I instanceof Un&&Iy(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(k){return new Ru(Xs(k.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,bu(I)?null:I}(t.limit));let g=null;t.startAt&&(g=function(T){const I=!!T.before,N=T.values||[];return new Su(N,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,N=T.values||[];return new Su(N,I)}(t.endAt)),bT(e,o,h,u,d,"F",g,y)}function vI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ky(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Xs(t.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xs(t.unaryFilter.field);return ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xs(t.unaryFilter.field);return ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xs(t.unaryFilter.field);return ct.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(t){return ct.create(Xs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Un.create(t.compositeFilter.filters.map(s=>Ky(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(r):Ee()}function wI(r){return aI[r]}function EI(r){return lI[r]}function TI(r){return uI[r]}function Ys(r){return{fieldPath:r.canonicalString()}}function Xs(r){return Pt.fromServerFormat(r.fieldPath)}function Gy(r){return r instanceof ct?function(t){if(t.op==="=="){if(Qm(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NAN"}};if(Wm(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qm(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NAN"}};if(Wm(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(t.field),op:EI(t.op),value:t.value}}}(r):r instanceof Un?function(t){const s=t.getFilters().map(o=>Gy(o));return s.length===1?s[0]:{compositeFilter:{op:TI(t.op),filters:s}}}(r):Ee()}function II(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yy(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,s,o,u=Te.min(),h=Te.min(),d=kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.ht=e}}function RI(r){const e=_I({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.ln=new xI}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(li.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class xI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new yt(Qe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new yt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new oo(0)}static Qn(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg([r,e],[t,s]){const o=Pe(r,t);return o===0?Pe(e,s):o}class CI{constructor(e){this.Gn=e,this.buffer=new yt(lg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();lg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mo(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await po(t)}await this.Yn(3e5)})}}class kI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Mu.oe);const s=new CI(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(ag)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ag):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,u,h,d,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),Ks()<=Ve.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function NI(r,e){return new kI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.changes=new Xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ta(s.mutation,o,bn.empty(),gt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=xe()){const o=zi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ga();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=zi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,xe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=Cr();const h=Ea(),d=function(){return Ea()}();return t.forEach((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ji)?u=u.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Ta(w.mutation,y,w.mutation.getFieldMask(),gt.now())):h.set(y.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,w)=>h.set(y,w)),t.forEach((y,w)=>{var T;return d.set(y,new VI(w,(T=h.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Ea();let o=new Ze((h,d)=>h-d),u=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let w=s.get(g)||bn.empty();w=d.applyToLocalView(y,w),s.set(g,w);const T=(o.get(d.batchId)||xe()).add(g);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,w=g.value,T=Dy();w.forEach(I=>{if(!u.has(I)){const N=Fy(t.get(I),s.get(I));N!==null&&T.set(I,N),u=u.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):K.resolve(zi());let d=-1,g=u;return h.next(y=>K.forEach(y,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{g=g.insert(w,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,xe())).next(w=>({batchId:d,changes:Ny(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=ga();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ga();return this.indexManager.getCollectionParents(e,u).next(d=>K.forEach(d,g=>{const y=function(T,I){return new Ma(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(w=>{w.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))});let d=ga();return h.forEach((g,y)=>{const w=u.get(g);w!==void 0&&Ta(w.mutation,y,bn.empty(),gt.now()),Bu(t,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:RI(o.bundledQuery),readTime:Zn(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.overlays=new Ze(ge.comparator),this.Er=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=zi();return K.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Tt(e,t,u)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=zi(),u=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ze((y,w)=>y-w);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=zi(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=zi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=o)););return K.resolve(d)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new tI(t,s));let u=this.Er.get(t);u===void 0&&(u=xe(),this.Er.set(t,u)),this.Er.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.dr=new yt(It.Ar),this.Rr=new yt(It.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new It(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new It(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ge(new Qe([])),s=new It(t,e),o=new It(t,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ge(new Qe([])),s=new It(t,e),o=new It(t,e+1);let u=xe();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new It(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ge.comparator(e.key,t.key)||Pe(e.br,t.br)}static Vr(e,t){return Pe(e.br,t.br)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new yt(It.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new eI(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new It(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new It(t,0),o=new It(t,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);u.push(d)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yt(Pe);return t.forEach(o=>{const u=new It(o,0),h=new It(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new It(new ge(u),0);let d=new yt(Pe);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.br)),!0)},h),K.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(t.mutations,o=>{const u=new It(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new It(t,0),o=this.vr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.Nr=e,this.docs=function(){return new Ze(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Cr();const h=t.path,d=new ge(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||gT(mT(w),s)<=0||(o.has(w.key)||Bu(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee()}Lr(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new jI(this)}getSize(e){return K.resolve(this.size)}}class jI extends DI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.persistence=e,this.Br=new Xi(t=>Sf(t),Rf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new kf,this.targetCount=0,this.Qr=oo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new oo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Mu(0),this.Ur=!1,this.Ur=!0,this.Wr=new bI,this.referenceDelegate=e(this),this.Gr=new BI(this),this.indexManager=new AI,this.remoteDocumentCache=function(o){return new UI(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new SI(t),this.jr=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new FI(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new zI(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,t){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class zI extends _T{constructor(e){super(),this.currentSequenceNumber=e}}class Nf{constructor(e){this.persistence=e,this.Zr=new kf,this.Xr=null}static ei(e){return new Nf(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const o=ge.fromPath(s);return this.ni(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Pu{constructor(e,t){this.persistence=e,this.ri=new Xi(s=>ET(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=NI(this,t)}static ei(e,t){return new Pu(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pu(e.data.value)),t}ir(e,t,s){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=xe(),o=xe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Df(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return WE()?8:vT(qE())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Xi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new $I;return this.ts(e,t,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>u.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Ks()<=Ve.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(Ks()<=Ve.DEBUG&&ae("QueryEngine","Query:",Gs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Ks()<=Ve.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):K.resolve())}Xi(e,t){if(Xm(t))return K.resolve(null);let s=Jn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=nf(t,null,"F"),s=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=xe(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.rs(t,d);return this.ss(t,y,h,g.readTime)?this.Xi(e,nf(t,null,"F")):this.os(e,y,t,g)}))})))}es(e,t,s,o){return Xm(t)||o.isEqual(Te.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(t,u);return this.ss(t,h,s,o)?K.resolve(null):(Ks()<=Ve.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(t)),this.os(e,h,t,pT(o,-1)).next(d=>d))})}rs(e,t){let s=new yt(Py(e));return t.forEach((o,u)=>{Bu(e,u)&&(s=s.add(u))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,t,s){return Ks()<=Ve.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Gs(t)),this.Zi.getDocumentsMatchingQuery(e,t,li.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Ze(Pe),this.cs=new Xi(u=>Sf(u),Rf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function WI(r,e,t,s){return new HI(r,e,t,s)}async function Jy(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=xe();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){d.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function QI(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,y,w){const T=y.batch,I=T.keys();let N=K.resolve();return I.forEach(k=>{N=N.next(()=>w.getEntry(g,k)).next(B=>{const V=y.docVersions.get(k);Fe(V!==null),B.version.compareTo(V)<0&&(T.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),w.addEntry(B)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=xe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Zy(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function KI(r,e){const t=Ie(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((w,T)=>{const I=o.get(T);if(!I)return;d.push(t.Gr.removeMatchingKeys(u,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(u,w.addedDocuments,T)));let N=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,s)),o=o.insert(T,N),function(B,V,H){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(I,N,w)&&d.push(t.Gr.updateTargetData(u,N))});let g=Cr(),y=xe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),d.push(GI(u,h,e.documentUpdates).next(w=>{g=w.Is,y=w.Es})),!s.isEqual(Te.min())){const w=t.Gr.getLastRemoteSnapshotVersion(u).next(T=>t.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(w)}return K.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.us=o,u))}function GI(r,e,t){let s=xe(),o=xe();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Cr();return t.forEach((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):ae("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:o}})}function YI(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XI(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(u=>u?(o=u,K.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new ni(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function lf(r,e,t){const s=Ie(r),o=s.us.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!mo(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function ug(r,e,t){const s=Ie(r);let o=Te.min(),u=xe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,w){const T=Ie(g),I=T.cs.get(w);return I!==void 0?K.resolve(T.us.get(I)):T.Gr.getTargetData(y,w)}(s,h,Jn(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?u:xe())).next(d=>(JI(s,UT(e),d),{documents:d,ds:u})))}function JI(r,e,t){let s=r.ls.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class cg{constructor(){this.activeTargetIds=HT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(){this._o=new cg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new cg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function bh(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class rS extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(t,s,o,u,h){const d=bh(),g=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${d}:`,g,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,u,h),this.Bo(t,g,y,o).then(w=>(ae("RestConnection",`Received RPC '${t}' ${d}: `,w),w),w=>{throw no("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",o),w})}ko(t,s,o,u,h,d){return this.Oo(t,s,o,u,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}No(t,s){const o=tS[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const u=bh();return new Promise((h,d)=>{const g=new hy;g.setWithCredentials(!0),g.listenOnce(fy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case du.NO_ERROR:const w=g.getResponseJson();ae(bt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case du.TIMEOUT:ae(bt,`RPC '${e}' ${u} timed out`),d(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const T=g.getStatus();if(ae(bt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const k=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(H)>=0?H:Y.UNKNOWN}(N.status);d(new ue(k,N.message))}else d(new ue(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(bt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ae(bt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",y,s,15)})}qo(e,t,s){const o=bh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=my(),d=py(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");ae(bt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const T=h.createWebChannel(w,g);let I=!1,N=!1;const k=new nS({Eo:V=>{N?ae(bt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(I||(ae(bt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ae(bt,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Ao:()=>T.close()}),B=(V,H,Q)=>{V.listen(H,te=>{try{Q(te)}catch(ee){setTimeout(()=>{throw ee},0)}})};return B(T,ma.EventType.OPEN,()=>{N||(ae(bt,`RPC '${e}' stream ${o} transport opened.`),k.So())}),B(T,ma.EventType.CLOSE,()=>{N||(N=!0,ae(bt,`RPC '${e}' stream ${o} transport closed`),k.Do())}),B(T,ma.EventType.ERROR,V=>{N||(N=!0,no(bt,`RPC '${e}' stream ${o} transport errored:`,V),k.Do(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),B(T,ma.EventType.MESSAGE,V=>{var H;if(!N){const Q=V.data[0];Fe(!!Q);const te=Q,ee=(te==null?void 0:te.error)||((H=te[0])===null||H===void 0?void 0:H.error);if(ee){ae(bt,`RPC '${e}' stream ${o} received error:`,ee);const de=ee.status;let pe=function(A){const D=ut[A];if(D!==void 0)return By(D)}(de),C=ee.message;pe===void 0&&(pe=Y.INTERNAL,C="Unknown error status: "+de+" with message "+ee.message),N=!0,k.Do(new ue(pe,C)),T.close()}else ae(bt,`RPC '${e}' stream ${o} received:`,Q),k.vo(Q)}}),B(d,dy.STAT_EVENT,V=>{V.stat===Yh.PROXY?ae(bt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Yh.NOPROXY&&ae(bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(r){return new cI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t,s,o,u,h,d,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new e_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new ue(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iS extends t_{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=dI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Zn(h.readTime):Te.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=af(this.serializer),t.addTarget=function(u,h){let d;const g=h.target;if(d=ef(g)?{documents:gI(u,g)}:{query:yI(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=qy(u,h.resumeToken);const y=rf(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=Cu(u,h.snapshotVersion.toTimestamp());const y=rf(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=vI(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=af(this.serializer),t.removeTarget=e,this.c_(t)}}class sS extends t_{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=mI(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=af(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>pI(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,sf(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(Y.UNKNOWN,u.toString())})}ko(e,t,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,sf(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(Y.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class aS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(xr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Zi(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Ie(g);y.k_.add(4),await Ua(y),y.K_.set("Unknown"),y.k_.delete(4),await Wu(y)}(this))})}),this.K_=new aS(s,o)}}async function Wu(r){if(Zi(r))for(const e of r.q_)await e(!0)}async function Ua(r){for(const e of r.q_)await e(!1)}function n_(r,e){const t=Ie(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Mf(t)?Of(t):go(t).s_()&&Lf(t,e))}function Vf(r,e){const t=Ie(r),s=go(t);t.B_.delete(e),s.s_()&&r_(t,e),t.B_.size===0&&(s.s_()?s.a_():Zi(t)&&t.K_.set("Unknown"))}function Lf(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}go(r).V_(e)}function r_(r,e){r.U_.xe(e),go(r).m_(e)}function Of(r){r.U_=new oI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),go(r).start(),r.K_.F_()}function Mf(r){return Zi(r)&&!go(r).i_()&&r.B_.size>0}function Zi(r){return Ie(r).k_.size===0}function i_(r){r.U_=void 0}async function uS(r){r.K_.set("Online")}async function cS(r){r.B_.forEach((e,t)=>{Lf(r,e)})}async function hS(r,e){i_(r),Mf(r)?(r.K_.O_(e),Of(r)):r.K_.set("Unknown")}async function fS(r,e,t){if(r.K_.set("Online"),e instanceof $y&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ku(r,s)}else if(e instanceof yu?r.U_.$e(e):e instanceof zy?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Te.min()))try{const s=await Zy(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(y);w&&u.B_.set(y,w.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,y)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(kt.EMPTY_BYTE_STRING,w.snapshotVersion)),r_(u,g);const T=new ni(w.target,g,y,w.sequenceNumber);Lf(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await ku(r,s)}}async function ku(r,e,t){if(!mo(e))throw e;r.k_.add(1),await Ua(r),r.K_.set("Offline"),t||(t=()=>Zy(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Wu(r)})}function s_(r,e){return e().catch(t=>ku(r,t,e))}async function Qu(r){const e=Ie(r),t=fi(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;dS(e);)try{const o=await YI(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,pS(e,o)}catch(o){await ku(e,o)}o_(e)&&a_(e)}function dS(r){return Zi(r)&&r.L_.length<10}function pS(r,e){r.L_.push(e);const t=fi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function o_(r){return Zi(r)&&!fi(r).i_()&&r.L_.length>0}function a_(r){fi(r).start()}async function mS(r){fi(r).w_()}async function gS(r){const e=fi(r);for(const t of r.L_)e.g_(t.mutations)}async function yS(r,e,t){const s=r.L_.shift(),o=xf.from(s,e,t);await s_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qu(r)}async function _S(r,e){e&&fi(r).f_&&await async function(s,o){if(function(h){return rI(h)&&h!==Y.ABORTED}(o.code)){const u=s.L_.shift();fi(s).__(),await s_(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qu(s)}}(r,e),o_(r)&&a_(r)}async function fg(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=Zi(t);t.k_.add(3),await Ua(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Wu(t)}async function vS(r,e){const t=Ie(r);e?(t.k_.delete(2),await Wu(t)):e||(t.k_.add(2),await Ua(t),t.K_.set("Unknown"))}function go(r){return r.W_||(r.W_=function(t,s,o){const u=Ie(t);return u.b_(),new iS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:uS.bind(null,r),mo:cS.bind(null,r),po:hS.bind(null,r),R_:fS.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),Mf(r)?Of(r):r.K_.set("Unknown")):(await r.W_.stop(),i_(r))})),r.W_}function fi(r){return r.G_||(r.G_=function(t,s,o){const u=Ie(t);return u.b_(),new sS(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:mS.bind(null,r),po:_S.bind(null,r),p_:gS.bind(null,r),y_:yS.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Qu(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new bf(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(r,e){if(xr("AsyncQueue",`${e}: ${r}`),mo(r))return new ue(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=ga(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.z_=new Ze(ge.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ao{constructor(e,t,s,o,u,h,d,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new ao(e,t,Js.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ES{constructor(){this.queries=pg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Ie(t),u=o.queries;o.queries=pg(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function pg(){return new Xi(r=>Cy(r),ju)}async function Uf(r,e){const t=Ie(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new wS,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await t.onListen(o,!0);break;case 1:u.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Ff(h,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.J_.push(e),e.ea(t.onlineState),u.H_&&e.ta(u.H_)&&Bf(t)}async function jf(r,e){const t=Ie(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TS(r,e){const t=Ie(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&Bf(t)}function IS(r,e,t){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(t);s.queries.delete(e)}function Bf(r){r.X_.forEach(e=>{e.next()})}var uf,mg;(mg=uf||(uf={})).na="default",mg.Cache="cache";class zf{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==uf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.key=e}}class u_{constructor(e){this.key=e}}class SS{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xe(),this.mutatedKeys=xe(),this.Va=Py(e),this.ma=new Js(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new dg,o=t?t.ma:this.ma;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const I=o.get(w),N=Bu(this.query,T)?T:null,k=!!I&&this.mutatedKeys.has(I.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;I&&N?I.data.isEqual(N.data)?k!==B&&(s.track({type:3,doc:N}),V=!0):this.ya(I,N)||(s.track({type:2,doc:N}),V=!0,(g&&this.Va(N,g)>0||y&&this.Va(N,y)<0)&&(d=!0)):!I&&N?(s.track({type:0,doc:N}),V=!0):I&&!N&&(s.track({type:1,doc:I}),V=!0,(g||y)&&(d=!0)),V&&(N?(h=h.add(N),u=B?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,T)=>function(N,k){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return B(N)-B(k)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(s),o=o!=null&&o;const d=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new ao(this.query,e.ma,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new dg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=xe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new u_(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new l_(s))}),t}va(e){this.da=e.ds,this.Ra=xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ao.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class RS{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class AS{constructor(e){this.key=e,this.Fa=!1}}class xS{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Xi(d=>Cy(d),ju),this.Oa=new Map,this.Na=new Set,this.La=new Ze(ge.comparator),this.Ba=new Map,this.ka=new kf,this.qa={},this.Qa=new Map,this.Ka=oo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function CS(r,e,t=!0){const s=m_(r);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await c_(s,e,t,!0),o}async function PS(r,e){const t=m_(r);await c_(t,e,!0,!1)}async function c_(r,e,t,s){const o=await XI(r.localStore,Jn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await kS(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&n_(r.remoteStore,o),d}async function kS(r,e,t,s,o){r.Ua=(T,I,N)=>async function(B,V,H,Q){let te=V.view.ga(H);te.ss&&(te=await ug(B.localStore,V.query,!1).then(({documents:C})=>V.view.ga(C,te)));const ee=Q&&Q.targetChanges.get(V.targetId),de=Q&&Q.targetMismatches.get(V.targetId)!=null,pe=V.view.applyChanges(te,B.isPrimaryClient,ee,de);return yg(B,V.targetId,pe.ba),pe.snapshot}(r,T,I,N);const u=await ug(r.localStore,e,!0),h=new SS(e,u.ds),d=h.ga(u.documents),g=Fa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,g);yg(r,t,y.ba);const w=new RS(e,t,h);return r.xa.set(e,w),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function NS(r,e,t){const s=Ie(r),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!ju(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Vf(s.remoteStore,o.targetId),cf(s,o.targetId)}).catch(po)):(cf(s,o.targetId),await lf(s.localStore,o.targetId,!0))}async function DS(r,e){const t=Ie(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Vf(t.remoteStore,s.targetId))}async function VS(r,e,t){const s=jS(r);try{const o=await function(h,d){const g=Ie(h),y=gt.now(),w=d.reduce((N,k)=>N.add(k.key),xe());let T,I;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=Cr(),B=xe();return g.hs.getEntries(N,w).next(V=>{k=V,k.forEach((H,Q)=>{Q.isValidDocument()||(B=B.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,k)).next(V=>{T=V;const H=[];for(const Q of d){const te=JT(Q,T.get(Q.key).overlayedDocument);te!=null&&H.push(new Ji(Q.key,te,wy(te.value.mapValue),Rr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,H,d)}).next(V=>{I=V;const H=V.applyToLocalDocumentSet(T,B);return g.documentOverlayCache.saveOverlays(N,V.batchId,H)})}).then(()=>({batchId:I.batchId,changes:Ny(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let y=h.qa[h.currentUser.toKey()];y||(y=new Ze(Pe)),y=y.insert(d,g),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await ja(s,o.changes),await Qu(s.remoteStore)}catch(o){const u=Ff(o,"Failed to persist write");t.reject(u)}}async function h_(r,e){const t=Ie(r);try{const s=await KI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ba.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Fe(h.Fa):o.removedDocuments.size>0&&(Fe(h.Fa),h.Fa=!1))}),await ja(t,s,e)}catch(s){await po(s)}}function gg(r,e,t){const s=Ie(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Ie(h);g.onlineState=d;let y=!1;g.queries.forEach((w,T)=>{for(const I of T.J_)I.ea(d)&&(y=!0)}),y&&Bf(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LS(r,e,t){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),u=o&&o.key;if(u){let h=new Ze(ge.comparator);h=h.insert(u,Ut.newNoDocument(u,Te.min()));const d=xe().add(u),g=new qu(Te.min(),new Map,new Ze(Pe),h,d);await h_(s,g),s.La=s.La.remove(u),s.Ba.delete(e),$f(s)}else await lf(s.localStore,e,!1).then(()=>cf(s,e,t)).catch(po)}async function OS(r,e){const t=Ie(r),s=e.batch.batchId;try{const o=await QI(t.localStore,e);d_(t,s,null),f_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ja(t,o)}catch(o){await po(o)}}async function MS(r,e,t){const s=Ie(r);try{const o=await function(h,d){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,d).next(T=>(Fe(T!==null),w=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(s.localStore,e);d_(s,e,t),f_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ja(s,o)}catch(o){await po(o)}}function f_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function d_(r,e,t){const s=Ie(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function cf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||p_(r,s)})}function p_(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(Vf(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),$f(r))}function yg(r,e,t){for(const s of t)s instanceof l_?(r.ka.addReference(s.key,e),bS(r,s)):s instanceof u_?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||p_(r,s.key)):Ee()}function bS(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(s),$f(r))}function $f(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new ge(Qe.fromString(e)),s=r.Ka.next();r.Ba.set(s,new AS(t)),r.La=r.La.insert(t,s),n_(r.remoteStore,new ni(Jn(Uu(t.path)),s,"TargetPurposeLimboResolution",Mu.oe))}}async function ja(r,e,t){const s=Ie(r),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,t).then(y=>{var w;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Df.zi(g.targetId,y);u.push(T)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,y){const w=Ie(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(y,I=>K.forEach(I.Wi,N=>w.persistence.referenceDelegate.addReference(T,I.targetId,N)).next(()=>K.forEach(I.Gi,N=>w.persistence.referenceDelegate.removeReference(T,I.targetId,N)))))}catch(T){if(!mo(T))throw T;ae("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const N=w.us.get(I),k=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(k);w.us=w.us.insert(I,B)}}}(s.localStore,u))}async function FS(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await Jy(t.localStore,e);t.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new ue(Y.CANCELLED,h))})}),u.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(t,s.Ts)}}function US(r,e){const t=Ie(r),s=t.Ba.get(e);if(s&&s.Fa)return xe().add(s.key);{let o=xe();const u=t.Oa.get(e);if(!u)return o;for(const h of u){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function m_(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=US.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LS.bind(null,e),e.Ma.R_=TS.bind(null,e.eventManager),e.Ma.Wa=IS.bind(null,e.eventManager),e}function jS(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MS.bind(null,e),e}class Nu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return WI(this.persistence,new qI,e.initialUser,this.serializer)}ja(e){return new Xy(Nf.ei,this.serializer)}za(e){return new ZI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nu.provider={build:()=>new Nu};class BS extends Nu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Fe(this.persistence.referenceDelegate instanceof Pu);const s=this.persistence.referenceDelegate.garbageCollector;return new PI(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Xy(s=>Pu.ei(s,t),this.serializer)}}class hf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FS.bind(null,this.syncEngine),await vS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ES}()}createDatastore(e){const t=Hu(e.databaseInfo.databaseId),s=function(u){return new rS(u)}(e.databaseInfo);return function(u,h,d,g){return new oS(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new lS(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>gg(this.syncEngine,t,0),function(){return hg.p()?new hg:new eS}())}createSyncEngine(e,t){return function(o,u,h,d,g,y,w){const T=new xS(o,u,h,d,g,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ie(o);ae("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Ua(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}hf.provider={build:()=>new hf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ff(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Uh(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Jy(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function _g(r,e){r.asyncQueue.verifyOperationInProgress();const t=await $S(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>fg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>fg(e.remoteStore,o)),r._onlineComponents=e}async function $S(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;no("Error using user provided cache. Falling back to memory cache: "+t),await Uh(r,new Nu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Uh(r,new BS(void 0));return r._offlineComponents}async function g_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await _g(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await _g(r,new hf))),r._onlineComponents}function qS(r){return g_(r).then(e=>e.syncEngine)}async function Du(r){const e=await g_(r),t=e.eventManager;return t.onListen=CS.bind(null,e.syncEngine),t.onUnlisten=NS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=PS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DS.bind(null,e.syncEngine),t}function HS(r,e,t={}){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,y){const w=new qf({next:I=>{w.eu(),h.enqueueAndForget(()=>jf(u,T));const N=I.docs.has(d);!N&&I.fromCache?y.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&g&&g.source==="server"?y.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new zf(Uu(d.path),w,{includeMetadataChanges:!0,ua:!0});return Uf(u,T)}(await Du(r),r.asyncQueue,e,t,s)),s.promise}function WS(r,e,t={}){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,y){const w=new qf({next:I=>{w.eu(),h.enqueueAndForget(()=>jf(u,T)),I.fromCache&&g.source==="server"?y.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new zf(d,w,{includeMetadataChanges:!0,ua:!0});return Uf(u,T)}(await Du(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r,e,t){if(!t)throw new ue(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QS(r,e,t,s){if(e===!0&&s===!0)throw new ue(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function wg(r){if(!ge.isDocumentKey(r))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Eg(r){if(ge.isDocumentKey(r))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ku(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function er(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ku(r);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gu{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sT;switch(s.type){case"firstParty":return new uT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=vg.get(t);s&&(ae("ComponentProvider","Removing Datastore"),vg.delete(t),s.terminate())}(this),Promise.resolve()}}function KS(r,e,t,s={}){var o;const u=(r=er(r,Gu))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=Ft.MOCK_USER;else{d=Zg(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ft(y)}r._authCredentials=new oT(new gy(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Ht{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class oi extends es{constructor(e,t,s){super(e,t,Uu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ge(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function Yu(r,e,...t){if(r=Fn(r),__("collection","path",e),r instanceof Gu){const s=Qe.fromString(e,...t);return Eg(s),new oi(r,null,s)}{if(!(r instanceof Ht||r instanceof oi))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qe.fromString(e,...t));return Eg(s),new oi(r.firestore,null,s)}}function tr(r,e,...t){if(r=Fn(r),arguments.length===1&&(e=yy.newId()),__("doc","path",e),r instanceof Gu){const s=Qe.fromString(e,...t);return wg(s),new Ht(r,null,new ge(s))}{if(!(r instanceof Ht||r instanceof oi))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qe.fromString(e,...t));return wg(s),new Ht(r.firestore,r instanceof oi?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new e_(this,"async_queue_retry"),this.fu=()=>{const s=Fh();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Fh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Fh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Sr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!mo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw xr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=bf.createAndSchedule(this,e,t,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Sg(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class lo extends Gu{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ig,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ig(e),this._firestoreClient=void 0,await e}}}function GS(r,e){const t=typeof r=="object"?r:ay(),s=typeof r=="string"?r:"(default)",o=iy(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Xg("firestore");u&&KS(o,...u)}return o}function Xu(r){if(r._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YS(r),r._firestoreClient}function YS(r){var e,t,s;const o=r._freezeSettings(),u=function(d,g,y,w){return new ST(d,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,y_(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zS(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(kt.fromBase64String(e))}catch(t){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uo(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=/^__.*__$/;class JS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new ba(e,this.data,t,this.fieldTransforms)}}function w_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Kf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Vu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(w_(this.Mu)&&XS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ZS{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Hu(e)}$u(e,t,s,o=!1){return new Kf({Mu:e,methodName:t,Ku:s,path:Pt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E_(r){const e=r._freezeSettings(),t=Hu(r._databaseId);return new ZS(r._databaseId,!!e.ignoreUndefinedProperties,t)}function e1(r,e,t,s,o,u={}){const h=r.$u(u.merge||u.mergeFields?2:0,e,t,o);S_("Data must be an object, but it was:",h,s);const d=T_(s,h);let g,y;if(u.merge)g=new bn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const T of u.mergeFields){const I=n1(e,T,t);if(!h.contains(I))throw new ue(Y.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);i1(w,I)||w.push(I)}g=new bn(w),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new JS(new En(d),g,y)}function t1(r,e,t,s=!1){return Gf(t,r.$u(s?4:3,e))}function Gf(r,e){if(I_(r=Fn(r)))return S_("Unsupported field value:",e,r),T_(r,e);if(r instanceof v_)return function(s,o){if(!w_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let g=Gf(d,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=gt.fromDate(s);return{timestampValue:Cu(o.serializer,u)}}if(s instanceof gt){const u=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cu(o.serializer,u)}}if(s instanceof Wf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof uo)return{bytesValue:qy(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qf)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return Af(d.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Ku(s)}`)}(r,e)}function T_(r,e){const t={};return _y(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(r,(s,o)=>{const u=Gf(o,e.Ou(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function I_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Wf||r instanceof uo||r instanceof Ht||r instanceof v_||r instanceof Qf)}function S_(r,e,t){if(!I_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Ku(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function n1(r,e,t){if((e=Fn(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return R_(r,e);throw Vu("Field path arguments must be of type string or ",r,!1,void 0,t)}const r1=new RegExp("[~\\*/\\[\\]]");function R_(r,e,t){if(e.search(r1)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Vu(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(Y.INVALID_ARGUMENT,d+r+g)}function i1(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class s1 extends A_{data(){return super.data()}}function Yf(r,e){return typeof e=="string"?R_(r,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xf{}class o1 extends Xf{}function a1(r,e,...t){let s=[];e instanceof Xf&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof Jf).length,d=u.filter(g=>g instanceof Ju).length;if(h>1||h>0&&d>0)throw new ue(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Ju extends o1{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ju(e,t,s)}_apply(e){const t=this._parse(e);return C_(e._query,t),new es(e.firestore,e.converter,tf(e._query,t))}_parse(e){const t=E_(e.firestore);return function(u,h,d,g,y,w,T){let I;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Ag(T,w);const N=[];for(const k of T)N.push(Rg(g,u,k));I={arrayValue:{values:N}}}else I=Rg(g,u,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Ag(T,w),I=t1(d,h,T,w==="in"||w==="not-in");return ct.create(y,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function l1(r,e,t){const s=e,o=Yf("where",r);return Ju._create(o,s,t)}class Jf extends Xf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jf(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const g of d)C_(h,g),h=tf(h,g)}(e._query,t),new es(e.firestore,e.converter,tf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rg(r,e,t){if(typeof(t=Fn(t))=="string"){if(t==="")throw new ue(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xy(e)&&t.indexOf("/")!==-1)throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qe.fromString(t));if(!ge.isDocumentKey(s))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hm(r,new ge(s))}if(t instanceof Ht)return Hm(r,t._key);throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ku(t)}.`)}function Ag(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C_(r,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class u1{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Yi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ot(h.doubleValue));return new Qf(u)}convertGeoPoint(e){return new Wf(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ca(e));default:return null}}convertTimestamp(e){const t=ui(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qe.fromString(e);Fe(Yy(s));const o=new Pa(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||xr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class P_ extends A_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Yf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class _u extends P_{data(e={}){return super.data(e)}}class k_{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _a(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new _u(this._firestore,this._userDataWriter,s.key,s,new _a(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new _u(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _a(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new _u(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _a(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:h1(d.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(r){r=er(r,Ht);const e=er(r.firestore,lo);return HS(Xu(e),r._key).then(t=>N_(e,r,t))}class Zf extends u1{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function ed(r){r=er(r,es);const e=er(r.firestore,lo),t=Xu(e),s=new Zf(e);return x_(r._query),WS(t,r._query).then(o=>new k_(e,s,r,o))}function vu(r,e,t){r=er(r,Ht);const s=er(r.firestore,lo),o=c1(r.converter,e,t);return f1(s,[e1(E_(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Rr.none())])}function td(r,...e){var t,s,o;r=Fn(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Sg(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Sg(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let g,y,w;if(r instanceof Ht)y=er(r.firestore,lo),w=Uu(r._key.path),g={next:T=>{e[h]&&e[h](N_(y,r,T))},error:e[h+1],complete:e[h+2]};else{const T=er(r,es);y=er(T.firestore,lo),w=T._query;const I=new Zf(y);g={next:N=>{e[h]&&e[h](new k_(y,I,T,N))},error:e[h+1],complete:e[h+2]},x_(r._query)}return function(I,N,k,B){const V=new qf(B),H=new zf(N,V,k);return I.asyncQueue.enqueueAndForget(async()=>Uf(await Du(I),H)),()=>{V.eu(),I.asyncQueue.enqueueAndForget(async()=>jf(await Du(I),H))}}(Xu(y),w,d,g)}function f1(r,e){return function(s,o){const u=new Sr;return s.asyncQueue.enqueueAndForget(async()=>VS(await qS(s),o,u)),u.promise}(Xu(r),e)}function N_(r,e,t){const s=t.docs.get(e._key),o=new Zf(r);return new P_(r,o,e._key,s,new _a(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){fo=o})(sy),Ra(new to("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new lo(new aT(s.getProvider("auth-internal")),new hT(s.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(y.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),si(Um,"4.7.5",e),si(Um,"4.7.5","esm2017")})();var d1="firebase",p1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(d1,p1,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="firebasestorage.googleapis.com",V_="storageBucket",m1=2*60*1e3,g1=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt extends Gi{constructor(e,t,s=0){super(jh(e),`Firebase Storage: ${t} (${jh(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tt||(tt={}));function jh(r){return"storage/"+r}function nd(){const r="An unknown error occurred, please check the error payload for server response.";return new nt(tt.UNKNOWN,r)}function y1(r){return new nt(tt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function _1(r){return new nt(tt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v1(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt(tt.UNAUTHENTICATED,r)}function w1(){return new nt(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E1(r){return new nt(tt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function T1(){return new nt(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I1(){return new nt(tt.CANCELED,"User canceled the upload/download.")}function S1(r){return new nt(tt.INVALID_URL,"Invalid URL '"+r+"'.")}function R1(r){return new nt(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function A1(){return new nt(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+V_+"' property when initializing the app?")}function x1(){return new nt(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C1(){return new nt(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P1(r){return new nt(tt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ff(r){return new nt(tt.INVALID_ARGUMENT,r)}function L_(){return new nt(tt.APP_DELETED,"The Firebase app was deleted.")}function k1(r){return new nt(tt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ia(r,e){return new nt(tt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function pa(r){throw new nt(tt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=cn.makeFromUrl(e,t)}catch{return new cn(e,"")}if(s.path==="")return s;throw R1(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(ee){ee.path_=decodeURIComponent(ee.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",N=new RegExp(`^https?://${T}/${w}/b/${o}/o${I}`,"i"),k={bucket:1,path:3},B=t===D_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",H=new RegExp(`^https?://${B}/${o}/${V}`,"i"),te=[{regex:d,indices:g,postModify:u},{regex:N,indices:k,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let ee=0;ee<te.length;ee++){const de=te[ee],pe=de.regex.exec(e);if(pe){const C=pe[de.indices.bucket];let S=pe[de.indices.path];S||(S=""),s=new cn(C,S),de.postModify(s);break}}if(s==null)throw S1(e);return s}}class N1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r,e,t){let s=1,o=null,u=null,h=!1,d=0;function g(){return d===2}let y=!1;function w(...V){y||(y=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,r(N,g())},V)}function I(){u&&clearTimeout(u)}function N(V,...H){if(y){I();return}if(V){I(),w.call(null,V,...H);return}if(g()||h){I(),w.call(null,V,...H);return}s<64&&(s*=2);let te;d===1?(d=2,te=0):te=(s+Math.random())*1e3,T(te)}let k=!1;function B(V){k||(k=!0,I(),!y&&(o!==null?(V||(d=2),clearTimeout(o),T(0)):V||(d=1)))}return T(0),u=setTimeout(()=>{h=!0,B(!0)},t),B}function V1(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){return r!==void 0}function O1(r){return typeof r=="object"&&!Array.isArray(r)}function rd(r){return typeof r=="string"||r instanceof String}function xg(r){return id()&&r instanceof Blob}function id(){return typeof Blob<"u"}function Cg(r,e,t,s){if(s<e)throw ff(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw ff(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function O_(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var qi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(qi||(qi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t,s,o,u,h,d,g,y,w,T,I=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=T,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,k)=>{this.resolve_=N,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uu(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const g=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===qi.NO_ERROR,g=u.getStatus();if(!d||M1(g,this.additionalRetryCodes_)&&this.retry){const w=u.getErrorCode()===qi.ABORT;s(!1,new uu(!1,null,w));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new uu(y,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());L1(g)?u(g):u()}catch(g){h(g)}else if(d!==null){const g=nd();g.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,g)):h(g)}else if(o.canceled){const g=this.appDelete_?L_():I1();h(g)}else{const g=T1();h(g)}};this.canceled_?t(!1,new uu(!1,null,!0)):this.backoffId_=D1(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function F1(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function U1(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j1(r,e){e&&(r["X-Firebase-GMPID"]=e)}function B1(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function z1(r,e,t,s,o,u,h=!0){const d=O_(r.urlParams),g=r.url+d,y=Object.assign({},r.headers);return j1(y,e),F1(y,t),U1(y,u),B1(y,s),new b1(g,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q1(...r){const e=$1();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(id())return new Blob(r);throw new nt(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H1(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r){if(typeof atob>"u")throw P1("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bh{constructor(e,t){this.data=e,this.contentType=t||null}}function Q1(r,e){switch(r){case Xn.RAW:return new Bh(M_(e));case Xn.BASE64:case Xn.BASE64URL:return new Bh(b_(r,e));case Xn.DATA_URL:return new Bh(G1(e),Y1(e))}throw nd()}function M_(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function K1(r){let e;try{e=decodeURIComponent(r)}catch{throw Ia(Xn.DATA_URL,"Malformed data URL.")}return M_(e)}function b_(r,e){switch(r){case Xn.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Ia(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Ia(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=W1(e)}catch(o){throw o.message.includes("polyfill")?o:Ia(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class F_{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ia(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=X1(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function G1(r){const e=new F_(r);return e.base64?b_(Xn.BASE64,e.rest):K1(e.rest)}function Y1(r){return new F_(r).contentType}function X1(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){let s=0,o="";xg(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(xg(this.data_)){const s=this.data_,o=H1(s,e,t);return o===null?null:new ti(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new ti(s,!0)}}static getBlob(...e){if(id()){const t=e.map(s=>s instanceof ti?s.data_:s);return new ti(q1.apply(null,t))}else{const t=e.map(h=>rd(h)?Q1(Xn.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let d=0;d<h.length;d++)o[u++]=h[d]}),new ti(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){let e;try{e=JSON.parse(r)}catch{return null}return O1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Z1(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function j_(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r,e){return e}class qt{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||eR}}let cu=null;function tR(r){return!rd(r)||r.length<2?r:j_(r)}function B_(){if(cu)return cu;const r=[];r.push(new qt("bucket")),r.push(new qt("generation")),r.push(new qt("metageneration")),r.push(new qt("name","fullPath",!0));function e(u,h){return tR(h)}const t=new qt("name");t.xform=e,r.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new qt("size");return o.xform=s,r.push(o),r.push(new qt("timeCreated")),r.push(new qt("updated")),r.push(new qt("md5Hash",null,!0)),r.push(new qt("cacheControl",null,!0)),r.push(new qt("contentDisposition",null,!0)),r.push(new qt("contentEncoding",null,!0)),r.push(new qt("contentLanguage",null,!0)),r.push(new qt("contentType",null,!0)),r.push(new qt("metadata","customMetadata",!0)),cu=r,cu}function nR(r,e){function t(){const s=r.bucket,o=r.fullPath,u=new cn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function rR(r,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return nR(s,r),s}function z_(r,e,t){const s=U_(e);return s===null?null:rR(r,s,t)}function iR(r,e,t,s){const o=U_(e);if(o===null||!rd(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(y=>{const w=r.bucket,T=r.fullPath,I="/b/"+h(w)+"/o/"+h(T),N=sd(I,t,s),k=O_({alt:"media",token:y});return N+k})[0]}function sR(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class $_{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){if(!r)throw nd()}function oR(r,e){function t(s,o){const u=z_(r,o,e);return q_(u!==null),u}return t}function aR(r,e){function t(s,o){const u=z_(r,o,e);return q_(u!==null),iR(u,o,r.host,r._protocol)}return t}function H_(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=w1():o=v1():t.getStatus()===402?o=_1(r.bucket):t.getStatus()===403?o=E1(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function lR(r){const e=H_(r);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=y1(r.path)),u.serverResponse=o.serverResponse,u}return t}function uR(r,e,t){const s=e.fullServerUrl(),o=sd(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,d=new $_(o,u,aR(r,t),h);return d.errorHandler=lR(e),d}function cR(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function hR(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=cR(null,e)),s}function fR(r,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function d(){let te="";for(let ee=0;ee<2;ee++)te=te+Math.random().toString().slice(2);return te}const g=d();h["Content-Type"]="multipart/related; boundary="+g;const y=hR(e,s,o),w=sR(y,t),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,I=`\r
--`+g+"--",N=ti.getBlob(T,s,I);if(N===null)throw x1();const k={name:y.fullPath},B=sd(u,r.host,r._protocol),V="POST",H=r.maxUploadRetryTime,Q=new $_(B,V,oR(r,t),H);return Q.urlParams=k,Q.headers=h,Q.body=N.uploadData(),Q.errorHandler=H_(e),Q}class dR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pR extends dR{initXhr(){this.xhr_.responseType="text"}}function W_(){return new pR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t){this._service=e,t instanceof cn?this._location=t:this._location=cn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wi(e,t)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j_(this._location.path)}get storage(){return this._service}get parent(){const e=J1(this._location.path);if(e===null)return null;const t=new cn(this._location.bucket,e);return new Wi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw k1(e)}}function mR(r,e,t){r._throwIfRoot("uploadBytes");const s=fR(r.storage,r._location,B_(),new ti(e,!0),t);return r.storage.makeRequestWithTokens(s,W_).then(o=>({metadata:o,ref:r}))}function gR(r){r._throwIfRoot("getDownloadURL");const e=uR(r.storage,r._location,B_());return r.storage.makeRequestWithTokens(e,W_).then(t=>{if(t===null)throw C1();return t})}function yR(r,e){const t=Z1(r._location.path,e),s=new cn(r._location.bucket,t);return new Wi(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){return/^[A-Za-z]+:\/\//.test(r)}function vR(r,e){return new Wi(r,e)}function Q_(r,e){if(r instanceof od){const t=r;if(t._bucket==null)throw A1();const s=new Wi(t,t._bucket);return e!=null?Q_(s,e):s}else return e!==void 0?yR(r,e):r}function wR(r,e){if(e&&_R(e)){if(r instanceof od)return vR(r,e);throw ff("To use ref(service, url), the first argument must be a Storage instance.")}else return Q_(r,e)}function Pg(r,e){const t=e==null?void 0:e[V_];return t==null?null:cn.makeFromBucketSpec(t,r)}function ER(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:Zg(o,r.app.options.projectId))}class od{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=D_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m1,this._maxUploadRetryTime=g1,this._requests=new Set,o!=null?this._bucket=cn.makeFromBucketSpec(o,this._host):this._bucket=Pg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=Pg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wi(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new N1(L_());{const h=z1(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const kg="@firebase/storage",Ng="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="storage";function TR(r,e,t){return r=Fn(r),mR(r,e,t)}function IR(r){return r=Fn(r),gR(r)}function SR(r,e){return r=Fn(r),wR(r,e)}function RR(r=ay(),e){r=Fn(r);const s=iy(r,K_).getImmediate({identifier:e}),o=Xg("storage");return o&&AR(s,...o),s}function AR(r,e,t,s={}){ER(r,e,t,s)}function xR(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new od(t,s,o,e,sy)}function CR(){Ra(new to(K_,xR,"PUBLIC").setMultipleInstances(!0)),si(kg,Ng,""),si(kg,Ng,"esm2017")}CR();const PR={apiKey:"AIzaSyAJTf0vpWYxRtqv0MIOFNPdU_PiEMdaQeA",authDomain:"plusone-42be4.firebaseapp.com",projectId:"plusone-42be4",storageBucket:"plusone-42be4.firebasestorage.app",messagingSenderId:"615275828959",appId:"1:615275828959:web:176d086a5394a69cb93b6a",measurementId:"G-3QLQNN5W9T"},G_=oy(PR),tn=GS(G_),kR=RR(G_),NR=()=>{const[r,e]=$.useState(0),[t,s]=$.useState(0),[o,u]=$.useState(0),h=()=>{const d=new Date,g=new Date(d);g.setHours(24,0,0,0);const y=g.getTime()-d.getTime();if(y>0){const w=Math.floor(y/36e5),T=Math.floor(y%(1e3*3600)/(1e3*60)),I=Math.floor(y%(1e3*60)/1e3);e(w),s(T),u(I)}else e(0),s(0),u(0)};return $.useEffect(()=>{const d=setInterval(()=>{h()},1e3);return h(),()=>clearInterval(d)},[]),O.jsxs("div",{className:"flex flex-col justify-center items-center",children:[O.jsxs("div",{className:"grid grid-flow-col gap-5 text-center auto-cols-max",children:[O.jsxs("div",{className:"flex flex-col p-2 bg-neutral rounded-box text-neutral-content hover:bg-red-500 transition-colors duration-300",children:[O.jsx("span",{className:"countdown font-mono text-5xl",children:O.jsx("span",{style:{"--value":r}})}),"hours"]}),O.jsxs("div",{className:"flex flex-col p-2 bg-neutral rounded-box text-neutral-content hover:bg-red-500 transition-colors duration-300",children:[O.jsx("span",{className:"countdown font-mono text-5xl",children:O.jsx("span",{style:{"--value":t}})}),"min"]}),O.jsxs("div",{className:"flex flex-col p-2 bg-neutral rounded-box text-neutral-content hover:bg-red-500 transition-colors duration-300",children:[O.jsx("span",{className:"countdown font-mono text-5xl",children:O.jsx("span",{style:{"--value":o}})}),"sec"]})]}),O.jsx("h1",{className:"text-white font-mono pt-4",children:"Get Your Dailies!"})]})},DR=()=>{const[r,e]=$.useState(""),[t,s]=$.useState(""),[o,u]=$.useState([]),[h,d]=$.useState(!1),[g,y]=$.useState(!1),{setUsername:w}=Qi(),T=zg(),I=async()=>{try{const B=(await ed(Yu(tn,"counters"))).docs.map(V=>({id:V.id,...V.data()}));u(B)}catch(k){console.error("Error fetching users:",k)}};$.useEffect(()=>{I()},[]);const N=k=>{k.preventDefault();const B=o.find(V=>V.username===r&&V.password===t);B?(w(B.id),T("/user")):(d(!0),setTimeout(()=>{d(!1)},3e3))};return O.jsx("div",{className:"bg-black",children:O.jsx("div",{className:"flex items-center justify-center h-screen",children:O.jsx("div",{className:"flex flex-row items-center justify-center gap-2",children:O.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[O.jsx(NR,{}),O.jsx("div",{className:"card bg-gradient-to-b from-[#A0E5EA] to-[#84DB6E] w-96 shadow-2xl border-4 border-white",children:O.jsx("form",{onSubmit:N,children:O.jsxs("div",{className:"card-body",children:[O.jsx("h1",{className:"font-neue font-bold text-7xl text-white",children:"PlusOne"}),O.jsx("h3",{className:"font-neue font-light text-sm text-white",children:"Username"}),O.jsx("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:r,onChange:k=>e(k.target.value),required:!0}),O.jsx("h3",{className:"font-neue font-light text-sm text-white",children:"Password"}),O.jsxs("div",{className:"flex relative",children:[O.jsx("input",{type:g?"text":"password",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",value:t,onChange:k=>s(k.target.value),required:!0}),O.jsx("button",{type:"button",className:"btn btn-xs absolute right-2 top-3 border border-[#A0E5EA]",onClick:()=>y(!g),children:g?"Hide":"Show"})]}),O.jsx("div",{className:"card-actions justify-end"}),O.jsx("button",{type:"submit",className:"hidden"})]})})}),O.jsx("div",{className:`transition-opacity duration-1000 ${h?"opacity-100":"opacity-0"}`,children:O.jsx(VE,{})})]})})})})},VR=({currentCounter:r,onCounterUpdate:e})=>{const{username:t}=Qi(),[s,o]=$.useState(!1);$.useEffect(()=>{const d=tr(tn,`counters/${t}/dailyLogins/${u()}`),g=td(d,y=>{if(y.exists()){const w=y.data();o((w==null?void 0:w.loggedIn)||!1)}});return()=>g()},[t]);const u=()=>{const d=new Date;return`${(d.getMonth()+1).toString().padStart(2,"0")}-${d.getDate().toString().padStart(2,"0")}-${d.getFullYear()}`},h=async()=>{if(t&&!s){const d=tr(tn,"counters",t),g=tr(tn,`counters/${t}/dailyLogins/${u()}`);try{(await Zs(d)).exists()||await vu(d,{counter:0}),await vu(d,{counter:r+1},{merge:!0}),await vu(g,{imageURL:"",loggedIn:!0},{merge:!0}),e(r+1)}catch(y){console.error("Error updating counter or daily login:",y)}}};return O.jsx(O.Fragment,{children:O.jsx("button",{className:"font-neue btn btn-block lg:btn-wide bg-white bg-opacity-20 backdrop-blur-lg text-white font-bold py-2 px-6 rounded-lg shadow-lg border-2 border-white hover:bg-opacity-40 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",onClick:h,disabled:s,children:"+1"})})},LR=()=>{const[r,e]=$.useState(new Date),[t,s]=$.useState(new Set),{username:o}=Qi();$.useEffect(()=>{const w=Yu(tn,`counters/${o}/dailyLogins`),T=a1(w,l1("loggedIn","==",!0)),I=td(T,N=>{const k=new Set;N.forEach(B=>{k.add(B.id)}),s(k)});return()=>I()},[o]);const u=(w=new Date)=>`${(w.getMonth()+1).toString().padStart(2,"0")}-${w.getDate().toString().padStart(2,"0")}-${w.getFullYear()}`,h=r.getFullYear(),d=Array.from({length:12},(w,T)=>new Date(h,T,1)),g=()=>{e(new Date(h-1,r.getMonth(),1))},y=()=>{e(new Date(h+1,r.getMonth(),1))};return O.jsxs("div",{className:"w-full p-4 bg-gradient-to-b from-[#A0E5EA] to-[#84DB6E] rounded-lg shadow-2xl overflow-x-hidden",children:[O.jsxs("div",{className:"flex justify-between items-center mb-6",children:[O.jsx("button",{className:"font-neue font-bold text-9xl text-gray-600 hover:text-gray-800",onClick:g,children:"<"}),O.jsx("span",{className:"text-9xl text-black font-bold",children:h}),O.jsx("button",{className:"text-9xl font-bold text-gray-600 hover:text-gray-800",onClick:y,children:">"})]}),O.jsx("div",{className:"grid grid-cols-2 grid-rows-6 sm:grid-cols-6 sm:grid-rows-2 gap-4 p-2",children:d.map((w,T)=>{const I=new Date(w.getFullYear(),w.getMonth(),1),N=new Date(w.getFullYear(),w.getMonth()+1,0),k=I.getDay(),B=new Array(k).fill(null),V=new Array(N.getDate()).fill(null);return O.jsxs("div",{className:"w-full p-4 bg-white border rounded-lg shadow-sm",children:[O.jsx("h3",{className:"text-center font-semibold mb-2",children:w.toLocaleString("default",{month:"long"})}),O.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[["M","T","W","T","F","S","S"].map((H,Q)=>O.jsx("div",{className:"font-semibold text-gray-600 text-xs",children:H},`day-label-${Q}`)),B.map((H,Q)=>O.jsx("div",{className:"w-5 h-5"},`empty-${T}-${Q}`)),V.map((H,Q)=>{const te=new Date(w.getFullYear(),w.getMonth(),Q+1),ee=u(te);return O.jsx("div",{className:`w-5 h-5 border ${t.has(ee)?"bg-green-500":"bg-white"}`},`day-${w.getFullYear()}-${w.getMonth()}-${Q}`)})]})]},`${w.getFullYear()}-${w.getMonth()}`)})})]})};function OR(){const{username:r}=Qi(),[e,t]=$.useState(null),[s,o]=$.useState(!1);$.useEffect(()=>{(()=>{const y=new Date,w=`${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getDate().toString().padStart(2,"0")}-${y.getFullYear()}`;console.log("Formatted Date:",w);const T=tr(tn,`counters/${r}/dailyLogins/${w}`),I=td(T,N=>{if(N.exists()){const k=N.data();t((k==null?void 0:k.imageURL)||null),o((k==null?void 0:k.loggedIn)||!1)}});return()=>I()})()},[r]);const u=g=>{var w;const y=(w=g.target.files)==null?void 0:w[0];if(y){const T=URL.createObjectURL(y);t(T),h(y)}},h=async g=>{try{const y=SR(kR,`uploads/${g.name}`);await TR(y,g);const w=await IR(y);await d(w)}catch(y){console.error("Error uploading image:",y)}},d=async g=>{try{const y=new Date,w=`${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getDate().toString().padStart(2,"0")}-${y.getFullYear()}`,T=tr(tn,`counters/${r}/dailyLogins/${w}`);await vu(T,{imageURL:g},{merge:!0}),console.log("Image URL stored in Firestore successfully!")}catch(y){console.error("Error storing image URL in Firestore:",y)}};return O.jsx(O.Fragment,{children:O.jsxs("div",{className:"rounded-2xl border border-black flex flex-col justify-between min-h-full",style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[O.jsx("div",{className:"flex-grow flex items-center justify-center",children:O.jsx("p",{className:"text-center font-bold",children:e?"":"(Empty)"})}),s&&e===null&&O.jsxs("label",{className:"text-center mb-2 font-bold",children:["Upload of the Day",O.jsx("input",{type:"file",className:"hidden",onChange:u})]})]})})}const Y_=({selectedUser:r,setSelectedUser:e})=>{const[t,s]=$.useState([]);$.useEffect(()=>{(async()=>{try{const d=(await ed(Yu(tn,"counters"))).docs.map(g=>({id:g.id,...g.data()}));s(d)}catch(h){console.error("Error fetching users:",h)}})()},[]);const o=u=>{e(u.target.value)};return O.jsxs("select",{className:"select select-bordered w-full max-w-xs",value:r,onChange:o,children:[O.jsx("option",{disabled:!0,value:"",children:"Select User"}),t.map(u=>O.jsx("option",{value:u.id,children:u.username},u.id))]})},MR=()=>{const{username:r}=Qi(),[e,t]=$.useState(0),[s,o]=$.useState(0),[u,h]=$.useState(!1),[d,g]=$.useState(""),[y,w]=$.useState("");$.useEffect(()=>{r&&N(r)},[r]),$.useEffect(()=>{d&&(N(d),T(d),I(d))},[d]);const T=async k=>{const B=new Date,V=`${(B.getMonth()+1).toString().padStart(2,"0")}-${B.getDate().toString().padStart(2,"0")}-${B.getFullYear()}`,H=tr(tn,`counters/${k}/dailyLogins/${V}`);try{const Q=await Zs(H);Q.exists()?(console.log("Fetched user login status:",Q.data()),h(Q.data().loggedIn||!1)):(console.log(`No login data found for ${k} on ${V}. Setting loggedInStatus to false.`),h(!1))}catch(Q){console.error("Error fetching logged-in status:",Q)}},I=async k=>{const B=tr(tn,"counters",k),V=await Zs(B);if(V.exists()){const H=V.data();w((H==null?void 0:H.username)||"Unknown User")}},N=async k=>{const B=tr(tn,"counters",k),V=await Zs(B);V.exists()&&(k===r?t(V.data().counter||0):o(V.data().counter||0))};return O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white overflow-hidden",children:[O.jsx("div",{className:"h-[90vh] flex items-center justify-center",children:O.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-6",children:[O.jsx("div",{className:"card bg-black w-[20rem] h-[20rem] lg:w-[32rem] lg:h-[32rem] shadow-2xl",children:O.jsxs("div",{className:"card-body flex flex-col items-center space-y-4 text-center",children:[O.jsx("h1",{className:"card-title font-neue font-bold text-8xl text-transparent bg-clip-text bg-gradient-to-r from-[#FED90B] to-[#FF8C00] leading-[1.2] hidden lg:flex",children:"Progress"}),O.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full h-full",children:[O.jsx("div",{className:"stats shadow col-span-1 row-span-2",children:O.jsx("div",{className:"card bg-white",children:O.jsx(OR,{})})}),O.jsx("div",{className:"stat flex items-center justify-center rounded-md bg-white transform transition-all duration-300 ease-in-out hover:scale-105",children:O.jsx(eo,{to:"/calendar",className:"w-full h-full flex items-center justify-center",children:O.jsx("div",{className:"stat-title font-neue font-bold text-black text text-sm lg:text-base",children:"Calendar Gallery"})})}),O.jsx("div",{className:"stat flex items-center justify-center rounded-md bg-white transform transition-all duration-300 ease-in-out hover:scale-105",children:O.jsx(eo,{to:"/training",className:"w-full h-full flex items-center justify-center",children:O.jsx("div",{className:"stat-title font-neue font-bold text-black text-sm lg:text-base",children:"Training Regime"})})})]})]})}),O.jsxs("div",{className:"flex gap-5",children:[O.jsx("div",{className:"card glass bg-gradient-to-b from-[#7691CB] to-[#45FFF0] shadow-2xl w-full lg:w-max h-[250px] lg:h-[515px]",children:O.jsxs("div",{className:"card-body items-center flex-col justify-between h-full text-center",children:[O.jsx("div",{children:O.jsx("h1",{className:"card-title font-neue font-bold text-3xl lg:text-8xl text-white",children:"Total"})}),O.jsx("h1",{className:"card-title font-neue font-bold text-[3rem] lg:text-[10rem] text-white",children:e}),O.jsx("div",{className:"card-actions",children:O.jsx(VR,{currentCounter:e,onCounterUpdate:k=>t(k)})})]})}),O.jsx("div",{className:"card glass bg-gradient-to-b from-[#ED373A] to-[#6929A1] shadow-2xl w-full lg:w-max h-[250px] lg:h-[515px]",children:O.jsxs("div",{className:"card-body items-center flex-col justify-between h-full text-center",children:[O.jsx("h1",{className:"card-title font-neue font-bold text-3xl lg:text-8xl text-white",children:"Total"}),O.jsxs("div",{className:"flex flex-col justify-between items-center h-full",children:[O.jsx("h1",{className:"card-title font-neue font-bold text-[3rem] lg:text-[10rem] text-white pt-7 lg:pt-32 pb-11 lg:pb-0 text-white",children:s}),O.jsx(Y_,{selectedUser:d,setSelectedUser:g})]}),O.jsx("div",{className:"card-actions",children:O.jsx("button",{className:"font-neue btn btn-wide hidden lg:block bg-white bg-opacity-20 backdrop-blur-lg text-white font-bold py-2 px-6 rounded-lg shadow-lg border-2 border-white hover:bg-opacity-40 hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 opacity-1",children:d?u?`${y} went to the gym!`:`${y} has not gone to the gym!`:"Please select a user"})})]})})]})]})}),O.jsx("div",{className:"h-screen flex justify-center items-center hidden lg:flex",children:O.jsx(LR,{})})]})};function X_(){return O.jsx(O.Fragment,{children:O.jsx(eo,{to:"/user",children:O.jsx("button",{className:"btn btn-squre",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})})})}function bR(){return O.jsx("div",{children:O.jsx("span",{className:"loading loading-infinity loading-lg text-sky-400"})})}const FR=()=>{const[r,e]=$.useState(new Date),[t,s]=$.useState([]),[o,u]=$.useState(null),[h,d]=$.useState(null),[g,y]=$.useState({}),[w,T]=$.useState(!1),{username:I}=Qi(),N=r.getFullYear(),k=r.getMonth(),B=()=>{const ee=new Date(N,k+1,0),de=Array.from({length:ee.getDate()},(pe,C)=>C+1);s(de)},V=()=>{e(new Date(N,k-1,1)),u(null)},H=()=>{e(new Date(N,k+1,1)),u(null)},Q=async()=>{T(!0);const ee={};for(let de=1;de<=t.length;de++){const pe=`${(k+1).toString().padStart(2,"0")}-${de.toString().padStart(2,"0")}-${N}`,C=tr(tn,`counters/${I}/dailyLogins/${pe}`),S=await Zs(C);if(S.exists()){const A=S.data();ee[pe]=(A==null?void 0:A.loggedIn)||!1}else ee[pe]=!1}y(ee),T(!1)},te=async ee=>{u(ee);const de=tr(tn,`counters/${I}/dailyLogins/${ee}`),pe=await Zs(de);if(pe.exists()){const C=pe.data();C!=null&&C.imageURL?d(C.imageURL):(console.log("Field 'imageURL' does not exist in the document."),d(null))}else console.log("No data found for this day."),d(null)};return $.useEffect(()=>{B(),Q()},[r,t.length]),O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-white",children:[O.jsx("div",{className:"absolute top-5 left-5",children:O.jsx(X_,{})}),O.jsxs("div",{className:"flex items-start justify-center space-x-8",children:[O.jsxs("div",{className:"w-3/4 lg:w-1/2 p-4 border",children:[O.jsxs("div",{className:"flex justify-between items-center w-full mb-6",children:[O.jsx("button",{onClick:V,className:"scale-75 lg:scale-100 px-4 py-2 text-sm text-white glass font-bold bg-blue-500 rounded-lg hover:bg-blue-600",children:"< Previous"}),O.jsx("span",{className:"text-2xl font-neue text-black font-bold",children:`${r.toLocaleString("default",{month:"long"})} ${N}`}),O.jsx("button",{onClick:H,className:"scale-75 lg:scale-100 px-4 py-2 text-sm glass text-white font-bold bg-blue-500 rounded-lg hover:bg-blue-600",children:"Next >"})]}),O.jsxs("div",{className:"grid grid-cols-7 gap-4 w-full",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ee=>O.jsx("div",{className:"flex items-center justify-center font-semibold text-gray-600",children:ee},ee)),(()=>{const de=new Date(N,k,1).getDay(),pe=[];for(let C=0;C<de;C++)pe.push(O.jsx("div",{},`blank-${C}`));return pe})(),t.map(ee=>{const de=`${(k+1).toString().padStart(2,"0")}-${ee.toString().padStart(2,"0")}-${N}`,pe=g[de];return O.jsx("div",{className:`w-10 lg:w-16 h-10 lg:h-16 border-2 rounded-lg flex items-center justify-center cursor-pointer transition-colors duration-300 ease-in-out ${o===de?"glass bg-blue-500 text-white":pe?"bg-green-500 text-white":"bg-white border-gray-300 hover:bg-gray-200"}`,onClick:()=>te(de),children:ee},ee)})]}),O.jsx("div",{className:"flex justify-center mt-6",children:O.jsx(eo,{to:"/gallery",children:O.jsx("button",{className:`px-6 py-3 glass text-white bg-green-500 rounded-lg font-bold text-lg \r
               hover:bg-green-600 hover:scale-105 active:scale-110 \r
               transition-transform duration-200`,children:"View All Images"})})})]}),O.jsx("div",{className:"w-1/2 p-4 hidden lg:block",children:O.jsxs("div",{className:"mockup-phone relative bg-black shadow-2xl",children:[O.jsx("div",{className:"camera"}),O.jsx("div",{className:"display",children:O.jsx("div",{className:"artboard artboard-demo phone-1 w-full h-full flex items-center justify-center",children:h?O.jsx("div",{className:"relative w-full h-0 pb-[177.78%] bg-gray-200 rounded-lg overflow-hidden",children:O.jsx("img",{src:h,alt:"Daily Image",className:"absolute top-0 left-0 w-full h-full object-cover"})}):O.jsx("p",{className:"text-center text-lg font-semibold text-gray-500",children:"No Image Available"})})})]})})]})]}),w&&O.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-opacity-50 bg-white z-50 scale-150",children:O.jsx(bR,{})})]})},UR={legPush:[{name:"Squat",sets:3,weight:[100,110,115]},{name:"Leg Press",sets:3,weight:[200,210,215]},{name:"Lunges",sets:3,weight:[40,45,50]},{name:"Leg Extensions",sets:3,weight:[80,85,90]},{name:"Leg Curls",sets:3,weight:[60,65,70]},{name:"Calf Raises",sets:3,weight:[80,85,90]}],legPull:[{name:"Deadlift",sets:3,weight:[150,160,165]},{name:"Romanian Deadlift",sets:3,weight:[120,130,135]},{name:"Pull-Ups",sets:3,weight:[200,200,200]},{name:"Hamstring Curls",sets:3,weight:[50,55,60]},{name:"Back Extensions",sets:3,weight:[40,45,50]},{name:"Glute Bridges",sets:3,weight:[70,75,80]}]},jR=()=>{const[r,e]=$.useState("legPush"),t=UR[r],s=6,[o,u]=$.useState(0),h=g=>{e(g),u(0)},d=t.slice(o*s,(o+1)*s);return O.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center justify-center min-h-screen",children:[O.jsx("h1",{className:"text-8xl font-bold mb-10",children:"Training Regime"}),O.jsxs("ul",{className:"menu menu-horizontal flex items-center justify-center w-[500px] bg-base-200 rounded-box mb-4",children:[O.jsx("li",{children:O.jsx("a",{onClick:()=>h("legPush"),children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),O.jsx("li",{children:O.jsx("a",{onClick:()=>h("legPull"),children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),O.jsx("li",{children:O.jsx("a",{onClick:()=>h("legPush"),children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})})]}),O.jsx("h1",{className:"text-4xl font-bold mb-4",children:r==="legPush"?"Leg Push":"Leg Pull"}),O.jsx("div",{className:"bg-black space-y-5 w-full max-w-4xl rounded-md pt-4",children:d.map((g,y)=>O.jsxs("div",{className:"flex justify-center items-center border-b pb-4",children:[O.jsx("h2",{className:"font-neue font-bold text-white text-5xl w-1/3",children:g.name}),O.jsxs("div",{className:"flex-1 ml-4",children:[O.jsx("p",{className:"font-bold text-white",children:"Sets:"}),O.jsx("ul",{children:Array(g.sets).fill(null).map((w,T)=>O.jsxs("li",{className:"text-white",children:["Set ",T+1,": ",g.weight[T]," kg"]},T))})]})]},y))})]})},BR=()=>{const{username:r}=Qi(),[e,t]=$.useState([]),[s,o]=$.useState(r||""),[u,h]=$.useState(!1),[d,g]=$.useState(""),[y,w]=$.useState(""),T=["20px","60px"],I=async V=>{const H=[];(await ed(Yu(tn,`counters/${V}/dailyLogins`))).forEach(te=>{const ee=te.data(),de=te.id;ee.loggedIn&&ee.imageURL&&H.push({src:ee.imageURL,date:de})}),t(H)};$.useEffect(()=>{I(s)},[s]);const N=(V,H)=>{g(V),w(H),h(!0)},k=()=>{h(!1)},B=V=>{V.target===V.currentTarget&&k()};return O.jsxs("div",{className:"bg-black min-h-screen h-auto p-4 flex flex-col overflow-auto",children:[O.jsxs("div",{className:"absolute top-5 left-5 flex flex-row",children:[O.jsx(X_,{}),O.jsx("div",{className:"pl-1",children:O.jsx(Y_,{selectedUser:s,setSelectedUser:o})})]}),O.jsx("div",{className:"flex flex-col justify-center items-center text-center pt-16 h-[20vh] lg:h-[35vh]",children:O.jsx("h1",{className:"text-[6rem] lg:text-[12rem] font-neue text-white font-semibold text-center mb-4",children:"Gallery"})}),O.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-8",children:e.map((V,H)=>{const Q=H%6,te=T[Q%2];return O.jsx("div",{className:"relative w-full h-0 pb-[177.78%]",style:{transform:`translateY(${te})`},children:O.jsx("img",{src:V.src,alt:`Image ${H+1}`,className:`absolute top-0 left-0 w-full h-full object-cover rounded-lg \r
                     hover:scale-105 transition-transform duration-300 ease-in-out cursor-pointer`,onClick:()=>N(V.src,V.date)})},H)})}),u&&O.jsx("div",{className:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-80 z-50",onClick:B,children:O.jsxs("div",{className:"relative",children:[O.jsx("img",{src:d,alt:"Enlarged Image",className:"max-w-full max-h-[80vh] object-contain rounded-lg"}),O.jsx("button",{className:"btn btn-square btn-ghost absolute top-2 right-2",onClick:k,children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),O.jsx("div",{className:"text-center text-4xl font-neue text-white mt-4",children:y})]})})]})},zR=()=>O.jsx(uw,{children:O.jsx(IE,{basename:"/PlusOne/",children:O.jsxs(Zw,{children:[O.jsx(Qs,{path:"/",element:O.jsx(DR,{})}),O.jsx(Qs,{path:"/User",element:O.jsx(MR,{})}),O.jsx(Qs,{path:"/Calendar",element:O.jsx(FR,{})}),O.jsx(Qs,{path:"/Training",element:O.jsx(jR,{})}),O.jsx(Qs,{path:"/Gallery",element:O.jsx(BR,{})})]})})});lw.createRoot(document.getElementById("root")).render(O.jsx($.StrictMode,{children:O.jsx(zR,{})}));
